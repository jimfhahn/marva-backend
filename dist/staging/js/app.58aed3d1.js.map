{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/EditSimpleLookupComponent.vue?36ca","webpack:///./src/components/EditTemplateRefComponent.vue?4fc5","webpack:///./src/lib/config.js","webpack:///./src/lib/labels.js","webpack:///./src/components/EditMainComponent.vue?0cdf","webpack:///./src/components/HomeLoadComponent.vue?454f","webpack:///./src/store/index.js","webpack:///./src/App.vue?b88f","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?0482","webpack:///./src/components/HomeNewComponent.vue?4855","webpack:///src/components/HomeNewComponent.vue","webpack:///./src/components/HomeNewComponent.vue?3546","webpack:///./src/components/HomeNewComponent.vue","webpack:///./src/components/HomeLoadComponent.vue?aba9","webpack:///./src/lib/parseId.js","webpack:///./src/components/MiscLoaderAnimation.vue?690f","webpack:///src/components/MiscLoaderAnimation.vue","webpack:///./src/components/MiscLoaderAnimation.vue?7f4b","webpack:///./src/components/MiscLoaderAnimation.vue","webpack:///src/components/HomeLoadComponent.vue","webpack:///./src/components/HomeLoadComponent.vue?2fdd","webpack:///./src/components/HomeLoadComponent.vue","webpack:///./src/components/HomeSettingsComponent.vue?b947","webpack:///./src/components/HomeSettingsDiacriticsComponent.vue?6aed","webpack:///src/components/HomeSettingsDiacriticsComponent.vue","webpack:///./src/components/HomeSettingsDiacriticsComponent.vue?e2c3","webpack:///./src/components/HomeSettingsDiacriticsComponent.vue","webpack:///src/components/HomeSettingsComponent.vue","webpack:///./src/components/HomeSettingsComponent.vue?cd9c","webpack:///./src/components/HomeSettingsComponent.vue","webpack:///./src/components/HomeMyRecordsComponent.vue?fd9d","webpack:///src/components/HomeMyRecordsComponent.vue","webpack:///./src/components/HomeMyRecordsComponent.vue?3449","webpack:///./src/components/HomeMyRecordsComponent.vue","webpack:///./src/components/HomeAllRecordsComponent.vue?c2bd","webpack:///src/components/HomeAllRecordsComponent.vue","webpack:///./src/components/HomeAllRecordsComponent.vue?b4af","webpack:///./src/components/HomeAllRecordsComponent.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Edit.vue?805c","webpack:///./src/lib/exportXML.js","webpack:///src/views/Edit.vue","webpack:///./src/views/Edit.vue?34a4","webpack:///./src/views/Edit.vue","webpack:///./src/views/TestParseId.vue?ab1a","webpack:///src/views/TestParseId.vue","webpack:///./src/views/TestParseId.vue?c95b","webpack:///./src/views/TestParseId.vue","webpack:///./src/views/TestParseBfdb.vue?fdb5","webpack:///./src/lib/parseBfdb.js","webpack:///src/views/TestParseBfdb.vue","webpack:///./src/views/TestParseBfdb.vue?3fc4","webpack:///./src/views/TestParseBfdb.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/HomeSettingsDiacriticsComponent.vue?fded","webpack:///./src/components/MiscLoaderAnimation.vue?5d2a","webpack:///./src/components/EditMainComponent.vue?bee7","webpack:///./src/components/EditLiteralComponent.vue?7751","webpack:///src/components/EditLiteralComponent.vue","webpack:///./src/components/EditLiteralComponent.vue?34e1","webpack:///./src/components/EditLiteralComponent.vue","webpack:///./src/components/EditSimpleLookupComponent.vue?cbd6","webpack:///src/components/EditSimpleLookupComponent.vue","webpack:///./src/components/EditSimpleLookupComponent.vue?aab5","webpack:///./src/components/EditSimpleLookupComponent.vue","webpack:///./src/components/EditTemplateRefComponent.vue?9b07","webpack:///src/components/EditTemplateRefComponent.vue","webpack:///./src/components/EditTemplateRefComponent.vue?303c","webpack:///./src/components/EditTemplateRefComponent.vue","webpack:///./src/components/EditComplexLookupComponent.vue?3c37","webpack:///src/components/EditComplexLookupComponent.vue","webpack:///./src/components/EditComplexLookupComponent.vue?194d","webpack:///./src/components/EditComplexLookupComponent.vue","webpack:///src/components/EditMainComponent.vue","webpack:///./src/components/EditMainComponent.vue?d140","webpack:///./src/components/EditMainComponent.vue","webpack:///./src/views/TestParseId.vue?4b57","webpack:///./src/lib/uiUtils.js","webpack:///./src/views/TestParseBfdb.vue?4836","webpack:///./src/components/HomeNewComponent.vue?ab1f","webpack:///./src/components/EditComplexLookupComponent.vue?5c6b","webpack:///./src/lib/lookupUtil.js","webpack:///./src/components/EditLiteralComponent.vue?6bae","webpack:///./src/views/Home.vue?4067","webpack:///./src/views/Edit.vue?25a7","webpack:///./src/components/HomeSettingsComponent.vue?4a57","webpack:///./src/lib/parseProfile.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","config","startingPoint","lookupConfig","labels","refComponentSwitchButton","propertyDuplicateSymbol","propertyRemoveSymbol","propertyDuplicateTip","Vue","use","Vuex","Store","state","profilesLoaded","profiles","rtLookup","startingPoints","activeProfile","activeProfileIdCounter","sartingPoint","userName","activeInput","lookupLibrary","ontologyLookup","disableMacroKeyNav","activeComplexSearch","activeComplexSearchInProgress","activeComponent","activeProfileName","activeEditCounter","contextData","idWorkSearchResults","idXML","mutations","PROFILES","RTLOOKUP","lookup","STARTINGPOINTS","LOOKUP","metadata","uri","LOOKUPCOMPLEX","LOOKUPCOMPLEXSTATUS","val","CONTEXT","MACNAV","ACTIVEINPUT","ACTIVECOMPONET","ACTIVEPROFILE","ACTIVEPROFILECOUNTER","ACTIVEPROFILENAME","ACTIVEEDITCOUNTER","ONYOLOGYLOOKUP","IDWORKSEARCH","IDXML","actions","fetchProfiles","commit","parseProfile","buildProfiles","copy","assign","fetchLookupValues","lookupUtil","loadSimpleLookup","url","fetchLookupValuesComplex","searchComplex","searchPayload","results","clearLookupValuesComplex","fetchContext","returnContext","log","JSON","stringify","fetchIdWorkSearch","searchValue","fetchIdXML","fetchOntology","clearContext","setContextManually","context","setActiveProfile","profile","addValue","nap","setValue","profileComponet","structure","propertyURI","template","addValueLiteral","disableMacroNav","enableMacroNav","setActiveInput","id","profileCompoent","profileName","setActiveProfileCounter","newValue","removeProperty","newProfile","duplicateProperty","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","on","moveDown","keyCode","modifiers","preventDefault","navRoute","staticClass","staticStyle","class","active","isMyRecords","_v","isAllRecords","isNew","isLoad","isSettings","_e","moveUp","selectTemplate","_m","_l","keys","sp","activeTemplateId","returnTemplateIdCount","selectTemplateClick","_s","components","props","methods","returnSpByTemplateId","forEach","k","map","justLength","uniqueId","$store","dispatch","actibveTemplateIdCount","getElementById","scrollIntoView","computed","profilesClean","created","search","rtChange","domProps","index","$event","load","label","parseId","work","instance","item","namespace","isClass","match","namespaceUri","nsuri","includes","replace","UriNamespace","passedNS","returnOneWhereParentIs","selection","requiredParent","el","parentNode","tagName","activeDom","specialTransforms","xml","typeNode","children","userValue","attributes","getElementsByTagName","innerHTML","componentList","child","ctype","clabel","titleStr","titleEl","URI","literal","role","roleuri","rolelabel","transform","pkey","tle","endsWith","pt","rt","warn","adminMetadata","adminMetadataData","Array","removeChild","hasSeries","hasSeriesData","sucessfulProperties","prefixURI","counter","populateData","parse","xmlSource","outerHTML","childUri","childLabel","grandchild","greatgrandchildUri","greatgrandchildValue","greatgrandchildType","greatgrandchild","greatgreatgrandchild","nnerHTML","split","newKey","currentpos","ptOrder","indexOf","els","step","remove","unusedXml","totalHasDataLoaded","uniquePropertyURIs","status","resourceTemplates","unAssingedProperties","dataLoaded","propertyLabel","allUris","valueConstraint","valueTemplateRefs","rtName","store","propertyTemplates","ptObj","missingProfile","userURI","propertyLoadReport","propertyLoadRatio","parseInt","filter","testXml","DOMParser","parser","parseFromString","hourglassFill","test","mounted","beforeDestroy","searchTimeout","searchActive","useRtSelected","useProfile","goEdit","rtLookupWorks","transformResults","transformResultsDisplay","isDiacritics","rule","idx","locatStorageDiacritics","letter","trigger","desc","removeExisting","keycode","directives","rawName","expression","_k","nav","composing","newCutomDiacriticLetter","selectKeyField","clearKeyField","newCutomDiacriticKey","newCutomDiacriticDesc","addDiacritic","existing","localStorage","setItem","alert","newCutomDiacriticKeyCode","bfeDiacritics","newD","focus","HomeNewComponent","HomeLoadComponent","HomeSettingsComponent","HomeMyRecordsComponent","HomeAllRecordsComponent","Keypress","activeTemplate","$route","fullPath","$router","beforeCreate","movePageDown","movePageUp","dupeProperty","ref","liHasData","returnOpacFormat","scrollFieldContainerIntoView","rtOrder","prettifyXml","triggerXMLExport","exportXML","toBFXML","EditMainComponent","$nextTick","updated","ontologyLookupTodo","uiUtils","querySelector","sideBarGrabDragInit","loadProfileOntologyLookupsBuild","loadProfileOntologyLookupsRequest","unval","unvalindex","dataval","json","VueJsonPretty","instanceUriChange","instanceUri","loadInstance","parseBfdb","testXmlInstance","testXmlWork","useRtInstanceSelected","rtInstanceChange","VueRouter","routes","path","Home","TestParseId","TestParseBfdb","Edit","router","base","process","productionTip","render","h","App","$mount","then","fetchAllOntology","getItem","nested","parentStructureObj","parentStructure","returnLookupType","toggleDebug","displayDebug","openDiacriticSelect","assignedId","submitField","focused","change","inputValue","showDiacritics","refInFor","diacriticSelect","isNoteField","String","Boolean","localName","diacriticData","pos","style","height","scrollHeight","trim","diacriticDataNav","avl","activeValue","blur","autoFocus","keyDownEvent","keyUpEvent","displayAutocomplete","clickAdd","activeSelect","removeValue","useValuesFrom","displayList","activeFilter","doubleDelete","activeLookupValue","defaults","defaultLiteral","defaultURI","dataField","alv","lookupVocab","v","x","toLowerCase","startsWith","$refs","lookupInput","multiTemplateSelect","multiTemplateSelectKeydown","multiTemplateSelectURI","multiTemplateSelectOptions","propertyTemplatesOrderLookup","propertyTemplatesOrderTypeLookup","foundBetter","useId","tmpid","resourceLabel","buildPropertyTemplatesOrderLookup","buttonPush","currPos","nextRefID","closeModal","togglePreCoordinated","userData","activate","toggleSelectedDetails","returnAuthIcon","doubleDeleteCheck","displaySelectedDetails","variant","nodeMap","source","displayModal","canBuildComplex","displayPreCoordinated","modeSelect","switchTypes","searchNav","initalSearchState","selectChange","selectNav","title","precoordinated","add","precoordinatedAddSubdivision","precoordinatedRemoveLast","join","lookups","selectLastIndex","selectNavTimeout","componentKey","checkForUserData","modalSelectOptions","options","modalSelectOptionsLabels","focusCurrentInput","camelize","str","toUpperCase","contextType","searchInput","uv","classList","contains","prec","selected","selectedIndex","ctrlKey","processor","a","urls","EditLiteralComponent","EditSimpleLookupComponent","EditTemplateRefComponent","EditComplexLookupComponent","lookupType","cStructure","globalMoveDown","list","getElementsByClassName","activeInputIndex","globalMoveUp","globalMovePageDown","globalMovePageUp","focusSidebars","behavior","block","inline","rdfType","iconPersonal","iconCoporate","iconTitle","iconNameTitle","iconConference","iconGeographic","iconGenre","iconSubjectComplex","iconSubjectTopic","parentElement","click","assignID","renderBorders","refresh","divList","querySelectorAll","inputs","sourceXml","xmlDoc","xsltDoc","xsltProcessor","XSLTProcessor","importStylesheet","resultDoc","transformToDocument","resultXml","XMLSerializer","serializeToString","possibleLabelURIs","fetchSimpleLookup","profileUrl","headers","fetch","response","text","returnValue","input","isArray","simpleLookupProcess","parentURI","dataProcessed","values","labelData","labelURI","labelWithCode","code","displayLabel","pop","urlTemplate","uris","extra","fetchContextData","extractContextData","jsonuri","contextValue","contributor","date","genreForm","citation","rdftype","ee","currentTS","Math","floor","Date","now","ts","toset","allData","resourceURI","profileSource","Profile","parent","plookup","rtname","menuGroup","menuItems","mi","useResourceTemplates","propertyIndex","newPropertyId","backgroundColor","currentState","returnUserValues"],"mappings":"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","file":"js/app.58aed3d1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-6ceba5e5\":\"fa4421a1\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/editor/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSimpleLookupComponent.vue?vue&type=style&index=0&id=abebc5b0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSimpleLookupComponent.vue?vue&type=style&index=0&id=abebc5b0&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTemplateRefComponent.vue?vue&type=style&index=0&id=791e2d80&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTemplateRefComponent.vue?vue&type=style&index=0&id=791e2d80&scoped=true&lang=css&\"","\n\nconst config = {\n\n\t'profileUrl' : 'profiles.json',\n\n\tstartingPoint: {\"id\":\"ec157852-4a16-4153-9a28-2a6abf48356b\",\"name\":\"config\",\"configType\":\"startingPoints\",\"json\":[{\"menuGroup\":\"Monograph\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:Monograph:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:Monograph:Work\"]}]},{\"menuGroup\":\"Notated Music\",\"menuItems\":[{\"label\":\"Create Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:NotatedMusic:Work\"]},{\"label\":\"Create Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:NotatedMusic:Instance\"]}]},{\"menuGroup\":\"Serial\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:Serial:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:Serial:Work\"]}]},{\"menuGroup\":\"Cartographic\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:Cartographic:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:Cartographic:Work\"]}]},{\"menuGroup\":\"Sound Recording: Audio CD\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:SoundRecording:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:SoundRecording:Work\"]}]},{\"menuGroup\":\"Sound Recording: Audio CD-R\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:SoundCDR:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:SoundCDR:Work\"]}]},{\"menuGroup\":\"Sound Recording: Analog\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:Analog:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:Analog:Work\"]}]},{\"menuGroup\":\"Sound Recording: Cassette\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:SoundCassette:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:SoundCassette:Work\"]}]},{\"menuGroup\":\"Moving Image: BluRay DVD\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:MIBluRayDVD:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:MIBluRayDVD:Work\"]}]},{\"menuGroup\":\"Moving Image: 35mm Feature Film\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:35mmFeatureFilm:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:35mmFeatureFilm:Work\"]}]},{\"menuGroup\":\"Rare Materials\",\"menuItems\":[{\"label\":\"Instance\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Instance\"],\"useResourceTemplates\":[\"lc:RT:bf2:RareMat:Instance\"]},{\"label\":\"Work\",\"type\":[\"http://id.loc.gov/ontologies/bibframe/Work\"],\"useResourceTemplates\":[\"lc:RT:bf2:RareMat:Work\"]}]}],\"metadata\":{\"createDate\":\"2019-06-11T19:02:59.649Z\",\"updateDate\":\"2020-03-20T18:06:28.173Z\",\"updateUser\":null}},\n\n\tlookupConfig: {\n\n\t\t\"http://id.loc.gov/authorities/childrensSubjects\" : {\"name\":\"childrensSubjects\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/authorities/demographicTerms\" : {\"name\":\"demographicTerms\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/authorities/genreForms\" : {\n\t\t\t\"name\":\"genreForms\", \n\t\t\t\"type\":\"complex\", \n\t\t\t\"processor\" : 'lcAuthorities',\n\t\t\t\"modes\":[\n\t\t\t\t{\n\t\t\t\t\t'LCGFT All':{\"url\":\"https://id.loc.gov/authorities/genreForms/suggest/?q=<QUERY>&count=25\", \"all\":true}\n\t\t\t\t}\n\t\t\t]\n\n\t\t},\n\n\t\t\"http://id.loc.gov/authorities/names\" : {\n\t\t\t\"name\":\"names\", \n\t\t\t\"type\":\"complex\", \n\t\t\t\"processor\" : 'lcAuthorities',\n\t\t\t\"modes\":[\n\t\t\t\t{\n\t\t\t\t\t'NAF All':{\"url\":\"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&count=25\", \"all\":true}, \n\t\t\t\t\t'NAF Personal Names':{\"url\":\"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=PersonalName&count=25\"},\n\t\t\t\t\t'NAF Corporate Name':{\"url\":\"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=CorporateName&count=25\"},\n\t\t\t\t\t'NAF Name/Title':{\"url\":\"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=NameTitle&count=25\"},\n\t\t\t\t\t'NAF Title':{\"url\":\"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=Title&count=25\"},\n\t\t\t\t\t'NAF Geographic':{\"url\":\"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=Geographic&count=25\"},\n\t\t\t\t\t'NAF Conference Name':{\"url\":\"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=ConferenceName&count=25\"}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t\"http://id.loc.gov/authorities/performanceMediums\" : {\"name\":\"performanceMediums\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/authorities/subjects\" : {\n\t\t\t\"name\":\"subjects\", \n\t\t\t\"type\":\"complex\", \n\t\t\t\"processor\" : 'lcAuthorities',\t\t\t\n\n\t\t\t\"modes\":[\n\t\t\t\t{\n\t\t\t\t\t'LCSH All':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&count=25\", \"all\":true}, \t\t\t\t\t\n\t\t\t\t\t'LCSH Topics':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Topic&count=25\"},\n\t\t\t\t\t'LCSH Geographic':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Geographic&count=25\"},\n\t\t\t\t\t'LCSH Name':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Name&count=25\"},\n\t\t\t\t\t'LCSH FamilyName':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=FamilyName&count=25\"},\n\t\t\t\t\t'LCSH CorporateName':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=CorporateName&count=25\"},\t\t\t\t\t\n\t\t\t\t\t'LCSH GenreForm':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=GenreForm&count=25\"},\n\t\t\t\t\t'LCSH Simple Type':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=SimpleType&count=25\"},\n\t\t\t\t\t'LCSH Complex Subject':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=ComplexSubject&count=25\"},\n\t\t\t\t\t'LCSH Temporal':{\"url\":\"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Temporal&count=25\"}\n\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t\"http://id.loc.gov/entities/providers\" : {\"name\":\"providers\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/entities/relationships\" : {\"name\":\"relationships\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/entities/roles\" : {\"name\":\"roles\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/resources/works\" : {\"name\":\"works\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/rwo/agents\" : {\"name\":\"agents\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/carriers\" : {\"name\":\"carriers\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/classSchemes\" : {\"name\":\"classSchemes\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/contentTypes\" : {\"name\":\"contentTypes\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/countries\" : {\"name\":\"countries\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/descriptionConventions\" : {\"name\":\"descriptionConventions\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/frequencies\" : {\"name\":\"frequencies\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/genreFormSchemes\" : {\"name\":\"genreFormSchemes\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/geographicAreas\" : {\"name\":\"geographicAreas\", \"type\":\"complex\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/graphicMaterials\" : {\"name\":\"graphicMaterials\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/issuance\" : {\"name\":\"issuance\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/languages\" : {\"name\":\"languages\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/marcauthen\" : {\"name\":\"marcauthen\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/marcgt\" : {\"name\":\"marcgt\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/maspect\" : {\"name\":\"maspect\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/maudience\" : {\"name\":\"maudience\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mbroadstd\" : {\"name\":\"mbroadstd\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mcapturestorage\" : {\"name\":\"mcapturestorage\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mcolor\" : {\"name\":\"mcolor\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mediaTypes\" : {\"name\":\"mediaTypes\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/menclvl\" : {\"name\":\"menclvl\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mfiletype\" : {\"name\":\"mfiletype\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mgeneration\" : {\"name\":\"mgeneration\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mgroove\" : {\"name\":\"mgroove\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/millus\" : {\"name\":\"millus\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mlayout\" : {\"name\":\"mlayout\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mmaterial\" : {\"name\":\"mmaterial\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mmusicformat\" : {\"name\":\"mmusicformat\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mmusnotation\" : {\"name\":\"mmusnotation\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mplayback\" : {\"name\":\"mplayback\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mpolarity\" : {\"name\":\"mpolarity\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mpresformat\" : {\"name\":\"mpresformat\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mproduction\" : {\"name\":\"mproduction\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mrecmedium\" : {\"name\":\"mrecmedium\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mrectype\" : {\"name\":\"mrectype\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mregencoding\" : {\"name\":\"mregencoding\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mrelief\" : {\"name\":\"mrelief\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mscale\" : {\"name\":\"mscale\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mscript\" : {\"name\":\"mscript\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/msoundcontent\" : {\"name\":\"msoundcontent\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mspecplayback\" : {\"name\":\"mspecplayback\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mstatus\" : {\"name\":\"mstatus\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/msupplcont\" : {\"name\":\"msupplcont\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/mtechnique\" : {\"name\":\"mtechnique\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/organizations\" : {\"name\":\"organizations\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/relators\" : {\"name\":\"relators\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/resourceComponents\" : {\"name\":\"resourceComponents\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/resourceTypes\" : {\"name\":\"resourceTypes\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://id.loc.gov/vocabulary/subjectSchemes\" : {\"name\":\"subjectSchemes\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://mlvlp04.loc.gov:3000/verso/api/configs?filter[where][configType]=noteTypes&filter[fields][json]=true\" : {\"name\":\"true\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://mlvlp04.loc.gov:8080/authorities/classification/G\" : {\"name\":\"G\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://mlvlp04.loc.gov:8230/resources/instances\" : {\"name\":\"instances\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://mlvlp04.loc.gov:8230/resources/works\" : {\"name\":\"works\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://mlvlp06.loc.gov:8288/resources/hubs\" : {\"name\":\"hubs\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://mlvlp06.loc.gov:8288/resources/works\" : {\"name\":\"works\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://rdaregistry.info/termList/RDAContentType/\" : {\"name\":\"RDAContentType/\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"http://www.rdaregistry.info/termList/RDAColourContent/\" : {\"name\":\"RDAColourContent/\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"https://lookup.ld4l.org/authorities/search/linked_data/dbpedia_ld4l_cache\" : {\"name\":\"dbpedia_ld4l_cache\", \"type\":\"simple\", \"modes\":[]},\n\t\t\"https://lookup.ld4l.org/authorities/search/linked_data/getty_aat_ld4l_cache\" : {\"name\":\"getty_aat_ld4l_cache\", \"type\":\"simple\", \"modes\":[]},\n\n\n\n\n\n\t}\n\n\n}\n\n\nexport default config;","\n\n\nconst labels = {\n\n\n  // Tool Tips\n  refComponentSwitchButton: 'Use [Left Arrow] and [Right Arrow] keys or click to switch',\n  propertyDuplicateSymbol: '+',\n  propertyRemoveSymbol: '-',\n  propertyDuplicateTip: 'Click to duplicate this property or press [Crtl and +]',\n\n}\n\n\nexport default labels;","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMainComponent.vue?vue&type=style&index=0&id=4c8aaddf&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMainComponent.vue?vue&type=style&index=0&id=4c8aaddf&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeLoadComponent.vue?vue&type=style&index=0&id=46833cd3&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeLoadComponent.vue?vue&type=style&index=0&id=46833cd3&scoped=true&lang=css&\"","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport parseProfile from \"@/lib/parseProfile\"\nimport lookupUtil from \"@/lib/lookupUtil\"\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n\n    // profile related\n    profilesLoaded: false,\n    profiles: [],\n    rtLookup: {},\n    startingPoints: {},\n\n    activeProfile: {},\n    activeProfileIdCounter: {},\n\n    sartingPoint: 'lc:profile:bf2:Monograph',\n    // sartingPoint: 'test:profile:bf2:TestProfile',\n\n                            // removed\n                            // {\n                            //     \"mandatory\": \"false\",\n                            //     \"repeatable\": \"true\",\n                            //     \"type\": \"resource\",\n                            //     \"resourceTemplates\": [],\n                            //     \"valueConstraint\": {\n                            //         \"valueTemplateRefs\": [\n                            //             \"lc:RT:bflc:Agents:PrimaryContribution\"\n                            //         ],\n                            //         \"useValuesFrom\": [],\n                            //         \"valueDataType\": {\n                            //             \"dataTypeURI\": \"http://id.loc.gov/ontologies/bflc/PrimaryContribution\"\n                            //         },\n                            //         \"defaults\": [],\n                            //         \"editable\": \"true\",\n                            //         \"repeatable\": \"true\"\n                            //     },\n                            //     \"propertyURI\": \"http://id.loc.gov/ontologies/bibframe/contribution\",\n                            //     \"propertyLabel\": \"Creator of Work\",\n                            //     \"remark\": \"http://access.rdatoolkit.org/19.2.html\"\n                            // },\n    \n\n\n\n    // user related\n    userName: 'demo',\n\n\n    activeInput: null,\n\n\n\n    // used for auto complete lookups \n    lookupLibrary: {},\n\n    ontologyLookup: {},\n\n    disableMacroKeyNav: false,\n\n\n    activeComplexSearch: [],\n    activeComplexSearchInProgress: false,\n\n    activeComponent: null,\n    activeProfileName: null,\n    activeEditCounter: 0,\n\n    contextData: {},\n\n\n\n    idWorkSearchResults: [],\n    idXML:\"\"\n\n  },\n  mutations: {\n\n    // one time profile load\n    PROFILES(state, profiles) {\n      state.profiles = profiles\n      state.profilesLoaded = true\n      // console.log('profiles')\n      // console.log(profiles)\n    },\n    RTLOOKUP(state, lookup) {\n      state.rtLookup = lookup\n\n      // console.log(lookup)\n    },\n    STARTINGPOINTS(state, lookup) {\n      state.startingPoints = lookup\n    },\n\n    LOOKUP(state, lookup) {\n      state.lookupLibrary[lookup.metadata.uri] = lookup\n    },\n    LOOKUPCOMPLEX(state, lookup) {\n      state.activeComplexSearch = lookup\n    },\n\n    LOOKUPCOMPLEXSTATUS(state, val) {\n      state.activeComplexSearchInProgress = val\n    },\n\n    CONTEXT(state, val) {\n      state.contextData = val\n    },\n\n\n    MACNAV(state,val) {\n      state.disableMacroKeyNav = val\n    },\n    ACTIVEINPUT(state,val) {\n      state.activeInput = val\n    },\n    ACTIVECOMPONET(state,val) {\n      state.activeComponent = val\n    },\n\n    ACTIVEPROFILE(state,val) {\n      state.activeProfile = val\n    },\n    ACTIVEPROFILECOUNTER(state,val) {\n      state.activeProfileIdCounter = val\n    },\n    ACTIVEPROFILENAME(state,val) {\n      state.activeProfileName = val\n    },\n    ACTIVEEDITCOUNTER(state) {\n      state.activeEditCounter++\n    },    \n\n    ONYOLOGYLOOKUP(state, val){\n      state.ontologyLookup[val.uri] = val\n    },\n\n    IDWORKSEARCH(state, val) {\n      state.idWorkSearchResults = val\n    }, \n\n    IDXML(state, val) {\n      state.idXML = val\n    }, \n\n\n\n  },\n  actions: {\n\n    // loads the profile json from the server and parses it\n    async fetchProfiles ({ commit }) {\n      let p = await parseProfile.buildProfiles()\n      commit('PROFILES', p.profiles)\n      commit('RTLOOKUP', p.lookup)\n      // console.log('startingPoints',p.startingPoints)\n      commit('STARTINGPOINTS', p.startingPoints)\n\n\n\n      // set the default profile\n      var copy = Object.assign({}, p.profiles[this.state.sartingPoint]);\n      // console.log(copy,'copy')\n      commit('ACTIVEPROFILE', copy)\n    },\n\n    async fetchLookupValues ({ commit },data) {\n      let p = await lookupUtil.loadSimpleLookup(data.url)\n      commit('LOOKUP', p)\n    },\n\n    async fetchLookupValuesComplex ({ commit },data) {   \n      commit('LOOKUPCOMPLEX', [])    \n      \n      commit('LOOKUPCOMPLEXSTATUS', true)  \n      let results = await lookupUtil.searchComplex(data.searchPayload)\n      commit('LOOKUPCOMPLEXSTATUS', false)  \n      commit('LOOKUPCOMPLEX', results)  \n    },\n\n    clearLookupValuesComplex ({ commit }) {   \n      commit('LOOKUPCOMPLEX', [])          \n    },\n\n    async fetchContext ({ commit },data) {   \n      commit('CONTEXT', {})    \n      let results = await lookupUtil.returnContext(data.searchPayload)\n      console.log(results,'results context')\n      console.log(JSON.stringify(results))\n      commit('CONTEXT', results)  \n    },\n\n\n    async fetchIdWorkSearch ({ commit },data) {   \n      commit('IDWORKSEARCH', {})    \n\n      let results = await lookupUtil.fetchIdWorkSearch(data.searchValue)\n      commit('IDWORKSEARCH', results)  \n    },\n\n    async fetchIdXML ({ commit },data) {   \n      commit('IDXML', '')    \n      let results = await lookupUtil.fetchIdXML(data.url)\n      commit('IDXML', results)  \n    },\n\n\n    async fetchOntology ({ commit },data) {   \n\n      let results = await lookupUtil.fetchOntology(data.uri)\n      console.log(results)\n\n      commit('ONYOLOGYLOOKUP', results)  \n\n    },\n\n\n\n    clearContext ({ commit }) {   \n      commit('CONTEXT', {})    \n    },\n    \n    setContextManually({ commit}, data){\n      commit('CONTEXT', data.context)\n      // console.log(data)\n      // console.log(\"^^^^^^^^data\")\n    },\n    setActiveProfile({ commit}, data){\n      commit('ACTIVEPROFILE', data.profile)\n      // console.log(data)\n      // console.log(\"^^^^^^^^data\")\n    },\n\n    addValue ({ commit, state }, data) {   \n      // we know the value bc it is the active context value in this case\n      // console.log('-----------state.contextData-state.contextData-state.contextData------------')\n      // console.log(state.contextData)\n      console.log(data)\n      let nap = parseProfile.setValue(state.activeProfile, data.profileComponet, data.structure.propertyURI, state.activeProfileName, data.template, state.contextData)\n      commit('ACTIVEPROFILE', nap)\n      commit('ACTIVEEDITCOUNTER')      \n    },\n    addValueLiteral ({ commit, state }, data) {   \n      let nap = parseProfile.setValue(state.activeProfile, data.profileComponet, data.structure.propertyURI, state.activeProfileName, data.template, data.value)\n      commit('ACTIVEPROFILE', nap)\n      commit('ACTIVEEDITCOUNTER')      \n    },\n\n\n    disableMacroNav ({ commit }) {\n      commit('MACNAV', true)\n    },\n    enableMacroNav ({ commit }) {\n      commit('MACNAV', false)\n    },\n\n    setActiveInput: ({commit}, data) => {      \n      commit('ACTIVEINPUT', data.id)\n      commit('ACTIVECOMPONET', data.profileCompoent)\n      commit('ACTIVEPROFILENAME', data.profileName)\n    },\n\n    setActiveProfileCounter: ({commit}, newValue) => {\n      commit('ACTIVEPROFILECOUNTER', newValue)\n    },\n\n    \n    removeProperty: ({commit, state}, data) => {\n      let newProfile = parseProfile.removeProperty(data.id,data.profile,state.activeProfile)\n      commit('ACTIVEPROFILE', newProfile)    \n    },\n\n    duplicateProperty: ({commit, state}, data) => {\n      let newProfile = parseProfile.duplicateProperty(data.id,data.profile,state.activeProfile)\n      commit('ACTIVEPROFILE', newProfile)    \n    },\n\n\n  },\n  modules: {}\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=143ae761&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"}},[_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":40},on:{\"success\":_vm.moveDown}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 77, modifiers: ['ctrlKey'],preventDefault: true}]},on:{\"success\":_vm.navRoute}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 69, modifiers: ['ctrlKey'],preventDefault: true}]},on:{\"success\":_vm.navRoute}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 78, modifiers: ['ctrlKey'],preventDefault: true}]},on:{\"success\":_vm.navRoute}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 79, modifiers: ['ctrlKey'],preventDefault: true}]},on:{\"success\":_vm.navRoute}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 73, modifiers: ['ctrlKey'],preventDefault: true}]},on:{\"success\":_vm.navRoute}}),_c('div',{staticClass:\"grid\"},[_c('aside',{staticClass:\"sidebar-left\",staticStyle:{\"background-color\":\"#2a2a2a\",\"color\":\"#ffffff\"}},[_c('svg',{attrs:{\"viewBox\":\"0 0 125 70\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12.0698 1.26944C10.5984 1.29437 8.02988 1.29437 7.48125 1.29437C6.9825 1.29437 3.56606 1.26944 2.76806 1.26944C2.21944 1.26944 1.74563 1.2445 1.24688 0.571186H1.07231L0 3.93775L0.29925 4.16219C1.04738 2.94025 2.26931 2.01756 3.96506 2.01756H6.1845C6.384 2.01756 6.48375 2.16719 6.48375 2.36669V17.8778L5.43638 18.6509V19H9.52613V18.6509L8.40394 17.8778V2.36669C8.40394 2.16719 8.50369 2.01756 8.70319 2.01756H9.99994C10.9476 2.01756 12.6932 1.89287 14.6882 3.96269L14.9376 3.71331L13.7655 0.571186H13.5909C13.0922 1.2445 12.6184 1.26944 12.0698 1.26944Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M31.5867 19V18.8254L30.4395 17.9028V2.34175L31.437 1.61856V1.29437H27.4969L27.472 1.46894L28.4944 2.34175V9.17462H20.2401V2.34175L21.2376 1.61856V1.29437H17.2975L17.2725 1.46894L18.295 2.34175V17.9776L17.1728 18.8254V19H21.3872V18.8254L20.2401 17.9028V10.0474H28.4944V17.9776L27.3722 18.8254V19H31.5867Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M39.2129 2.06744L42.4547 1.96769C44.9984 1.96769 45.6717 2.21706 47.143 4.16219L47.4422 4.06244L46.7939 1.29437H36.0707V1.49387L37.2677 2.51631V17.9526L36.37 18.7506V19H46.6941C46.8687 19 47.0183 18.9252 47.0682 18.7257C47.3175 17.5786 47.4173 17.404 47.9659 16.0574L47.542 15.8579C46.2203 17.9277 44.9235 18.3516 42.8537 18.3516C41.2577 18.3516 41.0084 18.3267 40.3849 18.2768C39.7615 18.2269 39.2627 17.8778 39.2378 17.1546V10.0474H45.0732L45.8961 12.1172H46.2203V6.98012H45.8462L45.0981 9.19956H39.2378L39.2129 2.06744Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M7.75556 44C11.7705 44 14.8129 42.2793 14.8129 39.1871C14.8129 36.3941 12.4937 34.9976 10.374 34.3991V34.2494C11.9949 33.7257 13.6408 32.6285 13.6408 30.5337C13.6408 27.8156 10.9476 26.2944 7.75556 26.2944H2.24437V26.5437L3.34162 27.5662V42.8529L2.31919 43.7007V44H7.75556ZM6.50869 43.2269H5.28675V34.9477H5.86031C8.00494 34.9477 12.5685 35.0724 12.5685 39.1621C12.4438 43.1771 8.5785 43.2269 6.50869 43.2269ZM5.28675 34.1996V27.0674H6.63338C8.35406 27.0674 11.4713 27.1173 11.4713 30.5587C11.4713 34.0749 7.83038 34.1996 5.985 34.1996H5.28675Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M22.1422 44V43.8254L20.995 42.9027V27.3417L21.9925 26.6186V26.2944H18.0524L18.0275 26.4689L19.0499 27.3417V42.9776L17.9277 43.8254V44H22.1422Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M32.1329 44C36.1479 44 39.1903 42.2793 39.1903 39.1871C39.1903 36.3941 36.8711 34.9976 34.7514 34.3991V34.2494C36.3723 33.7257 38.0182 32.6285 38.0182 30.5337C38.0182 27.8156 35.3249 26.2944 32.1329 26.2944H26.6218V26.5437L27.719 27.5662V42.8529L26.6966 43.7007V44H32.1329ZM30.8861 43.2269H29.6641V34.9477H30.2377C32.3823 34.9477 36.9459 35.0724 36.9459 39.1621C36.8212 43.1771 32.9559 43.2269 30.8861 43.2269ZM29.6641 34.1996V27.0674H31.0108C32.7314 27.0674 35.8486 27.1173 35.8486 30.5587C35.8486 34.0749 32.2078 34.1996 30.3624 34.1996H29.6641Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M46.719 44V43.7506L45.4722 42.9526V35.222H51.3574L52.2302 37.4165H52.5544L52.5045 31.9552H52.1804L51.3574 34.3492H45.4722V27.0674L49.3624 26.9677C52.9534 26.9677 53.4023 28.5886 53.8512 29.4365L54.325 29.4116L53.502 26.2944H42.4547V26.6934L43.527 27.5662V42.9277L42.3051 43.7756V44H46.719Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M57.1379 44H61.3024V43.7007L60.1054 42.9027V35.2719H61.2027C62.9732 35.2719 63.8211 36.419 64.3697 37.3916C64.9184 38.3392 66.7139 41.7806 66.8635 42.1048C67.4869 43.4264 68.5592 44.2494 70.1054 44.2743C71.6265 44.2743 72.0505 43.8254 72.0505 43.8254L72.0006 43.6509C70.4295 43.7756 70.1303 43.3766 69.1328 41.8554C68.7837 41.3317 67.5119 38.7881 66.9882 37.7158C66.1154 36.02 64.9433 35.1971 64.9433 35.1971V35.0474C66.8136 34.5736 69.5069 33.4764 69.5069 30.6834C69.5069 27.8654 66.664 26.2944 63.073 26.2944H57.063V26.5437L58.1603 27.5662V42.8529L57.1379 43.7007V44ZM60.1054 34.4489V27.0674H61.9508C63.8211 27.0674 67.2625 27.1173 67.2625 30.7083C67.2625 34.3492 63.2725 34.4489 61.3024 34.4489H60.1054Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M77.3049 37.1671L79.7238 29.8355L82.7911 37.1671H77.3049ZM74.6615 41.7556C74.3373 42.7033 74.0879 43.4015 73.0406 43.7756V44H76.2326V43.8254L75.26 43.2269L77.0056 37.9901H83.1901L85.4844 43.1022L84.462 43.7506L84.4869 44H88.6265V43.7007C88.1527 43.6259 87.4295 42.9277 87.0056 41.9053L80.2974 26.1946H80.0979C79.8734 26.7183 79.4994 27.5163 78.7762 28.1148L79.0256 28.7632L74.6615 41.7556Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M105.348 26.2944L99.5873 37.4913L99.4128 37.1671L93.5774 26.0201L91.1086 26.2694V26.4191L91.9564 27.7657V43.0274L91.1335 43.7506V44H93.7519V43.8005L93.0038 43.0274V29.0624L98.8641 40.2594H99.2133L105.074 29.0375V42.9776L104.226 43.8254V44H107.916V43.8254L107.019 42.9027V27.2171L107.642 26.5188V26.2944H105.348Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M115.535 27.0674L118.777 26.9677C121.321 26.9677 121.994 27.2171 123.465 29.1622L123.765 29.0624L123.116 26.2944H112.393V26.4939L113.59 27.5163V42.9526L112.692 43.7506V44H123.016C123.191 44 123.341 43.9252 123.391 43.7257C123.64 42.5786 123.74 42.404 124.288 41.0574L123.864 40.8579C122.543 42.9277 121.246 43.3516 119.176 43.3516C117.58 43.3516 117.331 43.3267 116.707 43.2768C116.084 43.2269 115.585 42.8778 115.56 42.1546V35.0474H121.396L122.218 37.1172H122.543V31.9801H122.169L121.42 34.1996H115.56L115.535 27.0674Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M5.3865 52.0674L8.62838 51.9677C11.172 51.9677 11.8453 52.2171 13.3166 54.1622L13.6159 54.0624L12.9675 51.2944H2.24437V51.4939L3.44138 52.5163V67.9526L2.54363 68.7506V69H12.8678C13.0423 69 13.1919 68.9252 13.2418 68.7257C13.4912 67.5786 13.5909 67.404 14.1396 66.0574L13.7156 65.8579C12.3939 67.9277 11.0972 68.3516 9.02738 68.3516C7.43137 68.3516 7.182 68.3267 6.55856 68.2768C5.93513 68.2269 5.43638 67.8778 5.41144 67.1546V60.0474H11.2468L12.0698 62.1172H12.3939V56.9801H12.0199L11.2718 59.1996H5.41144L5.3865 52.0674Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M23.7144 69C30.1233 69 32.8914 65.2843 32.8914 60.1472C32.8914 55.0849 29.1258 51.2944 23.7144 51.2944H17.9788V51.6186L18.7269 52.242L18.7518 67.6783L17.8541 68.5012V69H23.7144ZM20.672 52.0924H23.5897C27.2056 52.0924 30.6969 54.1123 30.6969 60.2469C30.6969 66.3067 28.1034 68.202 23.6645 68.202H21.9438C21.4451 68.202 20.697 68.0524 20.697 67.1047L20.672 52.0924Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M40.48 69V68.8254L39.3329 67.9027V52.3417L40.3304 51.6186V51.2944H36.3902L36.3653 51.4689L37.3877 52.3417V67.9776L36.2656 68.8254V69H40.48Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M54.785 51.2694C53.3136 51.2944 50.7451 51.2944 50.1965 51.2944C49.6977 51.2944 46.2813 51.2694 45.4833 51.2694C44.9346 51.2694 44.4608 51.2445 43.9621 50.5712H43.7875L42.7152 53.9377L43.0145 54.1622C43.7626 52.9402 44.9845 52.0176 46.6803 52.0176H48.8997C49.0992 52.0176 49.199 52.1672 49.199 52.3667V67.8778L48.1516 68.6509V69H52.2413V68.6509L51.1191 67.8778V52.3667C51.1191 52.1672 51.2189 52.0176 51.4184 52.0176H52.7151C53.6628 52.0176 55.4084 51.8929 57.4034 53.9627L57.6528 53.7133L56.4807 50.5712H56.3061C55.8074 51.2445 55.3336 51.2694 54.785 51.2694Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M67.3751 50.9203C62.2629 50.9203 58.3477 55.1098 58.3477 60.1971C58.3477 65.5586 62.238 69.3741 67.6245 69.3741C72.7366 69.3741 76.6518 65.1846 76.6518 60.0973C76.6518 54.7358 72.7616 50.9203 67.3751 50.9203ZM67.7491 68.5761C63.6843 68.5761 60.5422 65.1596 60.5422 59.9477C60.5422 55.0101 63.3601 51.7183 67.2504 51.7183C71.3152 51.7183 74.4573 55.1347 74.4573 60.3467C74.4573 65.2843 71.6394 68.5761 67.7491 68.5761Z\",\"fill\":\"white\"}}),_c('path',{attrs:{\"d\":\"M79.9079 69H84.0725V68.7007L82.8755 67.9027V60.2719H83.9727C85.7433 60.2719 86.5912 61.419 87.1398 62.3916C87.6884 63.3392 89.4839 66.7806 89.6336 67.1047C90.257 68.4264 91.3293 69.2494 92.8754 69.2743C94.3966 69.2743 94.8206 68.8254 94.8206 68.8254L94.7707 68.6509C93.1996 68.7756 92.9004 68.3766 91.9029 66.8554C91.5537 66.3317 90.2819 63.7881 89.7582 62.7158C88.8854 61.02 87.7134 60.1971 87.7134 60.1971V60.0474C89.5837 59.5736 92.2769 58.4764 92.2769 55.6834C92.2769 52.8654 89.4341 51.2944 85.8431 51.2944H79.8331V51.5437L80.9304 52.5662V67.8529L79.9079 68.7007V69ZM82.8755 59.4489V52.0674H84.7209C86.5912 52.0674 90.0326 52.1173 90.0326 55.7083C90.0326 59.3492 86.0426 59.4489 84.0725 59.4489H82.8755Z\",\"fill\":\"white\"}})]),_c('ul',{staticClass:\"sidebar-menu\"},[_c('li',{class:{ active: _vm.isMyRecords }},[_c('router-link',{class:{ active: _vm.isMyRecords },attrs:{\"to\":\"/myrecords\"}},[_vm._v(\"My records\")]),_c('span',{class:{ active: _vm.isMyRecords }},[_vm._v(\"CTRL+M\")])],1),_c('li',{class:{ active: _vm.isAllRecords }},[_c('router-link',{class:{ active: _vm.isAllRecords },attrs:{\"to\":\"/allrecords\"}},[_vm._v(\"Everyone's records\")]),_c('span',{class:{ active: _vm.isAllRecords }},[_vm._v(\"CTRL+E\")])],1),_c('li',{class:{ active: _vm.isNew }},[_c('router-link',{class:{ active: _vm.isNew },attrs:{\"to\":\"/new\"}},[_vm._v(\"Create new record\")]),_c('span',{class:{ active: _vm.isNew }},[_vm._v(\"CTRL+N\")])],1),_c('li',{class:{ active: _vm.isLoad }},[_c('router-link',{class:{ active: _vm.isLoad },attrs:{\"to\":\"/load\"}},[_vm._v(\"Load existing record\")]),_c('span',{class:{ active: _vm.isLoad }},[_vm._v(\"CTRL+O\")])],1),_c('li',{class:{ active: _vm.isSettings }},[_c('router-link',{class:{ active: _vm.isSettings },attrs:{\"to\":\"/settings\"}},[_vm._v(\"Settings\")]),_c('span',{class:{ active: _vm.isSettings }},[_vm._v(\"CTRL+I\")])],1)])]),_c('article',{attrs:{\"id\":\"home-content\"}},[(_vm.isNew)?_c('HomeNewComponent'):_vm._e(),(_vm.isLoad)?_c('HomeLoadComponent'):_vm._e(),(_vm.isSettings)?_c('HomeSettingsComponent'):_vm._e(),(_vm.isMyRecords)?_c('HomeMyRecordsComponent'):_vm._e(),(_vm.isAllRecords)?_c('HomeAllRecordsComponent'):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-new\"}},[_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":40},on:{\"success\":_vm.moveDown}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":38},on:{\"success\":_vm.moveUp}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":13},on:{\"success\":_vm.selectTemplate}}),_c('h1',[_vm._v(\"Create new record\")]),_c('hr'),_c('h3',[_vm._v(\"My templates\")]),_c('table',[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Based on profile\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Type\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Modified\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Hot Key\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_c('svg',{attrs:{\"fill\":\"#FFFFFF\",\"width\":\"1.2em\",\"height\":\"1.2em\",\"version\":\"1.1\",\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"m94.895 75.828l5.2305-12.797-5.9062-5.2852c-2.2539-2.0156-3.5508-4.8945-3.5664-7.918v-0.003906c-0.015625-3.0352 1.2578-5.9258 3.4961-7.9688l5.8594-5.3359-5.3477-12.75-7.9102 0.44141c-3.0234 0.16797-5.9883-0.95313-8.1367-3.0898 0 0-0.003906 0-0.003906-0.003906-2.1445-2.1289-3.2891-5.0703-3.1523-8.0938l0.37109-7.918-12.801-5.2305-5.2852 5.9102c-2.0156 2.2539-4.8984 3.5508-7.9219 3.5664h-0.007812c-3.0234 0.015626-5.9219-1.2578-7.9609-3.4961l-5.3398-5.8594-12.75 5.3477 0.44141 7.9102c0.16406 3.0273-0.95703 5.9844-3.0938 8.1367 0 0 0 0.003906-0.003906 0.003906-2.1289 2.1484-5.0703 3.293-8.0938 3.1523l-7.9219-0.37109-5.2305 12.797 5.9102 5.2852c2.2539 2.0156 3.5508 4.8945 3.5664 7.918v0.003907c0.015624 3.0312-1.2578 5.9258-3.4961 7.9688l-5.8594 5.3359 5.3516 12.75 7.9062-0.44141c3.0273-0.16406 5.9883 0.95703 8.1406 3.0938h0.003906c2.1484 2.1289 3.2891 5.0703 3.1523 8.0938l-0.37109 7.918 12.797 5.2305 5.2578-5.8672c2.0312-2.2773 4.9375-3.5859 7.9883-3.6055h0.003907c3.0039-0.019531 5.8711 1.2383 7.8945 3.4609l5.3711 5.8945 12.75-5.3516-0.44141-7.9141c-0.16406-3.0234 0.95703-5.9805 3.0859-8.125 0-0.003906 0.003906-0.003906 0.003906-0.003906 2.1289-2.1484 5.0742-3.2969 8.0977-3.1562zm-52.02-8.4023c-9.625-3.9375-14.238-14.93-10.301-24.551 3.9336-9.625 14.926-14.234 24.551-10.297 9.6211 3.9297 14.23 14.926 10.297 24.547-3.9375 9.6211-14.926 14.23-24.547 10.301z\"}})])])])]),_vm._m(0)]),_c('hr',{staticStyle:{\"margin-top\":\"2em\"}}),_c('h3',[_vm._v(\"General templates\")]),_c('table',[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Type\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Modified\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_c('svg',{attrs:{\"fill\":\"#FFFFFF\",\"width\":\"1.2em\",\"height\":\"1.2em\",\"version\":\"1.1\",\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"m94.895 75.828l5.2305-12.797-5.9062-5.2852c-2.2539-2.0156-3.5508-4.8945-3.5664-7.918v-0.003906c-0.015625-3.0352 1.2578-5.9258 3.4961-7.9688l5.8594-5.3359-5.3477-12.75-7.9102 0.44141c-3.0234 0.16797-5.9883-0.95313-8.1367-3.0898 0 0-0.003906 0-0.003906-0.003906-2.1445-2.1289-3.2891-5.0703-3.1523-8.0938l0.37109-7.918-12.801-5.2305-5.2852 5.9102c-2.0156 2.2539-4.8984 3.5508-7.9219 3.5664h-0.007812c-3.0234 0.015626-5.9219-1.2578-7.9609-3.4961l-5.3398-5.8594-12.75 5.3477 0.44141 7.9102c0.16406 3.0273-0.95703 5.9844-3.0938 8.1367 0 0 0 0.003906-0.003906 0.003906-2.1289 2.1484-5.0703 3.293-8.0938 3.1523l-7.9219-0.37109-5.2305 12.797 5.9102 5.2852c2.2539 2.0156 3.5508 4.8945 3.5664 7.918v0.003907c0.015624 3.0312-1.2578 5.9258-3.4961 7.9688l-5.8594 5.3359 5.3516 12.75 7.9062-0.44141c3.0273-0.16406 5.9883 0.95703 8.1406 3.0938h0.003906c2.1484 2.1289 3.2891 5.0703 3.1523 8.0938l-0.37109 7.918 12.797 5.2305 5.2578-5.8672c2.0312-2.2773 4.9375-3.5859 7.9883-3.6055h0.003907c3.0039-0.019531 5.8711 1.2383 7.8945 3.4609l5.3711 5.8945 12.75-5.3516-0.44141-7.9141c-0.16406-3.0234 0.95703-5.9805 3.0859-8.125 0-0.003906 0.003906-0.003906 0.003906-0.003906 2.1289-2.1484 5.0742-3.2969 8.0977-3.1562zm-52.02-8.4023c-9.625-3.9375-14.238-14.93-10.301-24.551 3.9336-9.625 14.926-14.234 24.551-10.297 9.6211 3.9297 14.23 14.926 10.297 24.547-3.9375 9.6211-14.926 14.23-24.547 10.301z\"}})])])])]),_c('tbody',_vm._l((Object.keys(_vm.startingPoints)),function(sp){return _c('tr',{key:sp},[_c('td',{class:['selectable-template', { 'active' : (_vm.activeTemplateId==_vm.returnTemplateIdCount(sp))  }],staticStyle:{\"width\":\"50%\"},attrs:{\"id\":_vm.returnTemplateIdCount(sp)},on:{\"click\":_vm.selectTemplateClick}},[_vm._v(_vm._s(sp))]),_c('td',[(_vm.startingPoints[sp].work)?_c('span',[_c('svg',{staticStyle:{\"width\":\"1.5em\"},attrs:{\"version\":\"1.1\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{staticStyle:{\"fill\":\"#7BADAD\",\"stroke\":\"#231F20\",\"stroke-width\":\"0.5\",\"stroke-miterlimit\":\"10\"},attrs:{\"d\":\"M88.8,33.6c-2.1-5-5.2-9.5-9-13.4c-3.9-3.9-8.4-6.9-13.4-9C61.2,9,55.7,7.8,50,7.8S38.8,9,33.6,11.2\\n  c-5,2.1-9.5,5.2-13.4,9c-3.9,3.9-6.9,8.4-9,13.4C9,38.8,7.8,44.3,7.8,50S9,61.2,11.2,66.4c2.1,5,5.2,9.5,9,13.4\\n  c3.9,3.9,8.4,6.9,13.4,9c5.2,2.2,10.7,3.3,16.4,3.3c5.7,0,11.2-1.1,16.4-3.3c5-2.1,9.5-5.2,13.4-9c3.9-3.9,6.9-8.4,9-13.4\\n  c2.2-5.2,3.3-10.7,3.3-16.4C92.1,44.3,91,38.8,88.8,33.6L88.8,33.6z\"}})]),_c('span',{staticClass:\"general-template-type-label\"},[_vm._v(\"Work\")])]):_vm._e(),(_vm.startingPoints[sp].instance)?_c('span',[_c('svg',{staticStyle:{\"width\":\"1.5em\"},attrs:{\"version\":\"1.1\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{staticStyle:{\"fill\":\"#8B588B\",\"stroke\":\"#0A131A\",\"stroke-width\":\"0.5\",\"stroke-miterlimit\":\"10\"},attrs:{\"d\":\"M50,1.4l48.8,48.8L50,99.1L1.2,50.3L50,1.4z\"}})]),_c('span',{staticClass:\"general-template-type-label\"},[_vm._v(\"Instance\")])]):_vm._e()]),_c('td',{attrs:{\"colspan\":\"2\"}})])}),0)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',[_c('tr',[_c('td',[_vm._v(\"No templates yet\")]),_c('td'),_c('td'),_c('td'),_c('td'),_c('td')])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"home-new\">\n\n    <Keypress key-event=\"keydown\" :key-code=\"40\" @success=\"moveDown\" />\n    <Keypress key-event=\"keydown\" :key-code=\"38\" @success=\"moveUp\" />\n    <Keypress key-event=\"keydown\" :key-code=\"13\" @success=\"selectTemplate\" />\n\n<!--     <Keypress key-event=\"keydown\" :key-code=\"34\" @success=\"movePageDown\" />          \n    <Keypress key-event=\"keydown\" :key-code=\"33\" @success=\"movePageUp\" />\n\n    <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 187, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"dupeProperty\" />\n -->\n\n    <h1>Create new record</h1>\n\n    <hr>\n\n    <h3>My templates</h3>\n\n    <table>\n        <thead>\n            <tr>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Based on profile</th>\n                <th scope=\"col\">Type</th>\n                <th scope=\"col\">Modified</th>\n                <th scope=\"col\">Hot Key</th>\n                <th scope=\"col\">\n\n\n<svg fill=\"#FFFFFF\" width=\"1.2em\" height=\"1.2em\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n <path d=\"m94.895 75.828l5.2305-12.797-5.9062-5.2852c-2.2539-2.0156-3.5508-4.8945-3.5664-7.918v-0.003906c-0.015625-3.0352 1.2578-5.9258 3.4961-7.9688l5.8594-5.3359-5.3477-12.75-7.9102 0.44141c-3.0234 0.16797-5.9883-0.95313-8.1367-3.0898 0 0-0.003906 0-0.003906-0.003906-2.1445-2.1289-3.2891-5.0703-3.1523-8.0938l0.37109-7.918-12.801-5.2305-5.2852 5.9102c-2.0156 2.2539-4.8984 3.5508-7.9219 3.5664h-0.007812c-3.0234 0.015626-5.9219-1.2578-7.9609-3.4961l-5.3398-5.8594-12.75 5.3477 0.44141 7.9102c0.16406 3.0273-0.95703 5.9844-3.0938 8.1367 0 0 0 0.003906-0.003906 0.003906-2.1289 2.1484-5.0703 3.293-8.0938 3.1523l-7.9219-0.37109-5.2305 12.797 5.9102 5.2852c2.2539 2.0156 3.5508 4.8945 3.5664 7.918v0.003907c0.015624 3.0312-1.2578 5.9258-3.4961 7.9688l-5.8594 5.3359 5.3516 12.75 7.9062-0.44141c3.0273-0.16406 5.9883 0.95703 8.1406 3.0938h0.003906c2.1484 2.1289 3.2891 5.0703 3.1523 8.0938l-0.37109 7.918 12.797 5.2305 5.2578-5.8672c2.0312-2.2773 4.9375-3.5859 7.9883-3.6055h0.003907c3.0039-0.019531 5.8711 1.2383 7.8945 3.4609l5.3711 5.8945 12.75-5.3516-0.44141-7.9141c-0.16406-3.0234 0.95703-5.9805 3.0859-8.125 0-0.003906 0.003906-0.003906 0.003906-0.003906 2.1289-2.1484 5.0742-3.2969 8.0977-3.1562zm-52.02-8.4023c-9.625-3.9375-14.238-14.93-10.301-24.551 3.9336-9.625 14.926-14.234 24.551-10.297 9.6211 3.9297 14.23 14.926 10.297 24.547-3.9375 9.6211-14.926 14.23-24.547 10.301z\"/>\n</svg>\n\n                </th>                \n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>No templates yet</td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            \n        </tbody>\n    </table>    \n\n\n\n    <hr style=\"margin-top:2em\">\n\n    <h3>General templates</h3>\n\n\n    <table>\n        <thead>\n            <tr>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Type</th>\n                <th scope=\"col\">Modified</th>\n                <th scope=\"col\">\n<svg fill=\"#FFFFFF\" width=\"1.2em\" height=\"1.2em\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n <path d=\"m94.895 75.828l5.2305-12.797-5.9062-5.2852c-2.2539-2.0156-3.5508-4.8945-3.5664-7.918v-0.003906c-0.015625-3.0352 1.2578-5.9258 3.4961-7.9688l5.8594-5.3359-5.3477-12.75-7.9102 0.44141c-3.0234 0.16797-5.9883-0.95313-8.1367-3.0898 0 0-0.003906 0-0.003906-0.003906-2.1445-2.1289-3.2891-5.0703-3.1523-8.0938l0.37109-7.918-12.801-5.2305-5.2852 5.9102c-2.0156 2.2539-4.8984 3.5508-7.9219 3.5664h-0.007812c-3.0234 0.015626-5.9219-1.2578-7.9609-3.4961l-5.3398-5.8594-12.75 5.3477 0.44141 7.9102c0.16406 3.0273-0.95703 5.9844-3.0938 8.1367 0 0 0 0.003906-0.003906 0.003906-2.1289 2.1484-5.0703 3.293-8.0938 3.1523l-7.9219-0.37109-5.2305 12.797 5.9102 5.2852c2.2539 2.0156 3.5508 4.8945 3.5664 7.918v0.003907c0.015624 3.0312-1.2578 5.9258-3.4961 7.9688l-5.8594 5.3359 5.3516 12.75 7.9062-0.44141c3.0273-0.16406 5.9883 0.95703 8.1406 3.0938h0.003906c2.1484 2.1289 3.2891 5.0703 3.1523 8.0938l-0.37109 7.918 12.797 5.2305 5.2578-5.8672c2.0312-2.2773 4.9375-3.5859 7.9883-3.6055h0.003907c3.0039-0.019531 5.8711 1.2383 7.8945 3.4609l5.3711 5.8945 12.75-5.3516-0.44141-7.9141c-0.16406-3.0234 0.95703-5.9805 3.0859-8.125 0-0.003906 0.003906-0.003906 0.003906-0.003906 2.1289-2.1484 5.0742-3.2969 8.0977-3.1562zm-52.02-8.4023c-9.625-3.9375-14.238-14.93-10.301-24.551 3.9336-9.625 14.926-14.234 24.551-10.297 9.6211 3.9297 14.23 14.926 10.297 24.547-3.9375 9.6211-14.926 14.23-24.547 10.301z\"/>\n</svg>\n\n                </th>                \n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"sp in Object.keys(startingPoints)\" :key=\"sp\" >\n                <td :id=\"returnTemplateIdCount(sp)\" @click=\"selectTemplateClick\" v-bind:class=\"['selectable-template', { 'active' : (activeTemplateId==returnTemplateIdCount(sp))  }]\" style=\"width:50%\">{{sp}}</td>\n                <td>\n\n                  <span v-if=\"startingPoints[sp].work\">\n                  <svg style=\"width: 1.5em\" version=\"1.1\" viewBox=\"0 0 100 100\"><path style=\"fill:#7BADAD;stroke:#231F20;stroke-width:0.5;stroke-miterlimit:10;\" d=\"M88.8,33.6c-2.1-5-5.2-9.5-9-13.4c-3.9-3.9-8.4-6.9-13.4-9C61.2,9,55.7,7.8,50,7.8S38.8,9,33.6,11.2\n  c-5,2.1-9.5,5.2-13.4,9c-3.9,3.9-6.9,8.4-9,13.4C9,38.8,7.8,44.3,7.8,50S9,61.2,11.2,66.4c2.1,5,5.2,9.5,9,13.4\n  c3.9,3.9,8.4,6.9,13.4,9c5.2,2.2,10.7,3.3,16.4,3.3c5.7,0,11.2-1.1,16.4-3.3c5-2.1,9.5-5.2,13.4-9c3.9-3.9,6.9-8.4,9-13.4\n  c2.2-5.2,3.3-10.7,3.3-16.4C92.1,44.3,91,38.8,88.8,33.6L88.8,33.6z\"/></svg>\n                  <span class=\"general-template-type-label\">Work</span>\n                  </span>\n                  <span v-if=\"startingPoints[sp].instance\">\n                    <svg style=\"width: 1.5em\" version=\"1.1\" viewBox=\"0 0 100 100\"><path style=\"fill:#8B588B;stroke:#0A131A;stroke-width:0.5;stroke-miterlimit:10;\" d=\"M50,1.4l48.8,48.8L50,99.1L1.2,50.3L50,1.4z\"/></svg>\n                    <span class=\"general-template-type-label\">Instance</span>\n                  </span>\n                </td>\n                <td colspan=\"2\"></td>\n\n            </tr>\n            \n        </tbody>\n    </table>    \n\n\n  </div>\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\n// import uiUtils from \"@/lib/uiUtils\"\n\n\nexport default {\n  name: \"HomeNewComponent\",\n  components: {\n      Keypress: () => import('vue-keypress')\n  },\n  props: {\n  },\n  methods: {\n\n\n    returnSpByTemplateId(templateId){\n\n      let sp = null\n      let c = 1\n      Object.keys(this.startingPoints).forEach((k)=>{\n        if (`template-id-${c++}` === templateId){\n          sp = k\n        }\n      })\n\n      return sp\n\n    },\n\n    returnTemplateIdCount(uniqueId, justLength){\n\n      let map = {}\n      let c = 1\n      // loop through all the starting profiles\n      Object.keys(this.startingPoints).forEach((k)=>{\n        map[k] = `template-id-${c++}`\n      })\n\n      // DO THE SAME THING FOR USER TEMPLATES WHEN ADDED TO THE SYSTEM\n\n      if (justLength){\n        return Object.keys(map).length\n      }else{\n        return map[uniqueId]  \n      }\n      \n\n\n    },\n\n    selectTemplateClick(event){\n\n\n      let useStartingPoint = this.returnSpByTemplateId(event.target.id)\n      \n      console.log(Object.assign({},this.profiles[useStartingPoint]), 'Object.assign({},this.profiles[useStartingPoint])')\n      this.$store.dispatch(\"setActiveProfile\", { self: this, profile: Object.assign({},this.profiles[useStartingPoint]) }).then(() => {\n        this.$router.push({ path: 'edit' })\n      })\n\n    },\n\n    selectTemplate(event){\n\n      if (this.actibveTemplateIdCount <= 0){ return false}\n\n      let useStartingPoint = this.returnSpByTemplateId(this.activeTemplateId)\n\n\n      this.$store.dispatch(\"setActiveProfile\", { self: this, profile: this.profiles[useStartingPoint] }).then(() => {\n        this.$router.push({ path: 'edit' })\n      })\n\n\n      event.event.preventDefault()\n      return false\n    },\n\n    moveDown(event){\n\n      if (this.actibveTemplateIdCount >= this.returnTemplateIdCount(true,true)){ return false}\n      this.actibveTemplateIdCount++\n      this.activeTemplateId = 'template-id-' + this.actibveTemplateIdCount\n      document.getElementById(this.activeTemplateId).scrollIntoView({behavior: \"smooth\", block: \"end\", inline: \"nearest\"})\n      event.event.preventDefault()\n      return false\n    },\n\n    moveUp(event){\n      if (this.actibveTemplateIdCount <= 1){ return false}\n\n      this.actibveTemplateIdCount = this.actibveTemplateIdCount - 1\n\n      this.activeTemplateId = 'template-id-' + this.actibveTemplateIdCount\n      document.getElementById(this.activeTemplateId).scrollIntoView({behavior: \"smooth\", block: \"end\", inline: \"nearest\"})\n      event.event.preventDefault()\n      return false\n    }    \n\n\n  },\n  computed: mapState({\n    activeInput: 'activeInput',\n    activeProfile: 'activeProfile',\n    startingPoints: 'startingPoints',\n    profiles: 'profiles',\n    profilesClean: 'profilesClean',\n\n    // assignedId (){\n\n\n    //   return uiUtils.assignID(this.structure,this.parentStructure)\n\n    // },    \n  }), \n\n  data: function() {\n    return {\n\n      activeTemplateId: null,\n      actibveTemplateIdCount:0\n\n    }\n  },\n  created: function(){\n\n\n\n\n\n  },\n};\n</script>\n\n\n<style scoped>\n\n\n\n\n\n  .general-template-type-label{\n    position: relative;\n    top: -0.35em;\n    padding-right: 1em;    \n    padding-left: 0.25em;\n  }\n\n\n  table{\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n\n\n\n  }\n  thead{\n    background-color: black;\n    color:white;\n    \n  }\n\n  th{\n    padding: 0.5em;\n    /*border-radius: 0.5em;*/\n  }\n\n\n\n  tr:first-child th:first-child {\n    border-top-left-radius: 6px;\n  }\n  tr:first-child th:last-child {\n    border-top-right-radius: 6px;\n  }\n  td {\n    border-right: 1px solid #c6c9cc;\n    border-bottom: 1px solid #c6c9cc;\n    padding: 0.25em;    \n  }\n  td:first-child {\n    border-left: 1px solid #c6c9cc;\n  }\n  tr:nth-child(even) td {\n    background: #eaeaed;\n  }\n  tr:last-child td:first-child {\n    border-bottom-left-radius: 6px;\n  }\n  tr:last-child td:last-child {\n    border-bottom-right-radius: 6px;\n  }\n\n  .selectable-template{\n    padding:4px;\n  }\n  .selectable-template:hover, td.active{\n    background-color: rgb(9 13 139 / 0.25) !important;\n    border: solid 4px rgb(9 13 139 / 0.25);\n    padding:1px;\n    cursor: pointer;\n  }\n\n  h1{\n    margin: 0;\n    font-weight: bold;\n    font-size:2em;\n  }\n  #home-new{\n    padding:1em 2em 1em 2em;\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNewComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNewComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeNewComponent.vue?vue&type=template&id=5fdd360e&scoped=true&\"\nimport script from \"./HomeNewComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeNewComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeNewComponent.vue?vue&type=style&index=0&id=5fdd360e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fdd360e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-load\"}},[_c('h1',[_vm._v(\"Load existing records\")]),_c('hr'),_c('h3',[_vm._v(\"From Bibframe Database\")]),_c('hr',{staticStyle:{\"margin-top\":\"2em\"}}),_c('h3',[_vm._v(\"From id.loc.gov\")]),_c('ul',[_c('li',{attrs:{\"id\":\"search-li\"}},[_vm._v(\"Search Works On ID: \"),_c('input',{attrs:{\"value\":\"Woolf, Virginia, 1882-1941. To the lighthouse\",\"autofocus\":\"\"},on:{\"keyup\":_vm.search}})]),_c('li',{attrs:{\"id\":\"profile-li\"}},[_vm._v(\" Use Resource Template: \"),_c('select',{on:{\"change\":_vm.rtChange}},_vm._l((_vm.rtLookupWorks),function(key){return _c('option',{key:key,domProps:{\"selected\":(key === 'lc:RT:bf2:Monograph:Work') ? true : false}},[_vm._v(_vm._s(key))])}),0)]),(_vm.searchActive)?_c('li',[_c('MiscLoaderAnimation'),_vm._v(\"Searching now...\")],1):_vm._e(),_vm._l((_vm.idWorkSearchResults),function(val,index){return _c('li',{key:index},[_c('button',{on:{\"click\":function($event){return _vm.load(val.id,true)}}},[_vm._v(\"Load & Edit\")]),_vm._v(\" - \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":val.id}},[_vm._v(_vm._s(val.label))])])})],2),_c('hr',{staticStyle:{\"margin-top\":\"2em\"}}),_c('h3',[_vm._v(\"From IBC\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// braks non-chromium browsers\n// const jsdom = require(\"jsdom\");\nimport store from \"../store\";\n\n\n\nconst parseId = {\n\n\tdata: {\t\t\n\t\twork: [],\n\t\tinstance: [],\n\t\titem:[]\n\t},\n\n\n\tnamespace: {\n\t\t'bf':'http://id.loc.gov/ontologies/bibframe/',\n\t\t'bflc': 'http://id.loc.gov/ontologies/bflc/',\n\t\t'madsrdf': 'http://www.loc.gov/mads/rdf/v1#',\n\t\t'rdf' : 'http://www.w3.org/1999/02/22-rdf-syntax-ns#'\n\t},\n\n\n\tisClass: function(uri){\n\n\t\tif (uri.match(/bf:[A-Z]/)){\n\t\t\treturn true\n\t\t}\n\n\n\t\treturn false\n\n\t},\n\n\tnamespaceUri: function(uri){\t\n\t\tfor (let ns in this.namespace){\n\t\t\tlet nsuri = this.namespace[ns]\n\t\t\tif (uri.includes(nsuri)){\n\t\t\t\treturn uri.replace(nsuri,`${ns}:`)\n\t\t\t}\n\n\t\t}\n\n\n\t},\n\n\tUriNamespace: function(passedNS){\n\n\t\tfor (let ns in this.namespace){\n\t\t\tlet nsuri = this.namespace[ns]\n\n\t\t\tif (passedNS.includes(ns)){\n\t\t\t\treturn passedNS.replace(`${ns}:`,nsuri)\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\treturnOneWhereParentIs: function(selection, requiredParent){\n\n\t\t// console.log(selection, requiredParent)\n\t\t// console.log('-----',)\n\n\n\t\tif (selection.length == 1){\n\t\t\treturn selection[0]\n\t\t}\n\t\tconsole.log('here')\n\t\tfor (let el of selection){\n\t\t\tif (el.parentNode.tagName === requiredParent){\n\t\t\t\treturn el\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\n\t},\n\n\tactiveDom: null,\n\n\n\tspecialTransforms: {\n\n\n\t\t'bf:subject' : function(xml,profile){\n\n\t\t\t//   <bf:subject>\n\t\t\t//      <bf:Place>\n\t\t\t//        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t//        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Skye, Island of (Scotland)--Fiction.</rdfs:label>\n\t\t\t//        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Skye, Island of (Scotland)--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t//        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t//        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t//          <madsrdf:Geographic>\n\t\t\t//            <madsrdf:authoritativeLabel>Skye, Island of (Scotland)</madsrdf:authoritativeLabel>\n\t\t\t//          </madsrdf:Geographic>\n\t\t\t//          <madsrdf:GenreForm>\n\t\t\t//            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t//          </madsrdf:GenreForm>\n\t\t\t//        </madsrdf:componentList>\n\t\t\t//        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">skyeislandof(scotland)fiction</bflc:aap-normalized>\n\t\t\t//      </bf:Place>\n\t\t\t//    </bf:subject>\n\n\n\t\t\t// grab the label and uri and type\n\t\t\tlet typeNode = xml.children[0]\n\t\t\tif (!typeNode){\n\t\t\t\tconsole.error('xml.children[0] for this subject does not exist')\n\t\t\t\treturn profile\n\t\t\t}\n\n\t\t\tprofile.userValue['@type'] = this.UriNamespace(typeNode.tagName)\n\t\t\tprofile.userValue['URI'] = null\n\t\t\tlet label = null\n\n\t\t\tif (typeNode.attributes && typeNode.attributes['rdf:about']){\n\t\t\t\tprofile.userValue['URI'] = typeNode.attributes['rdf:about'].value\n\t\t\t}\n\n\t\t\tif (typeNode.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t\t\t\tlabel = typeNode.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t\t\t}\n\t\t\tlet componentList = []\n\n\t\t\t\n\t\t\tprofile.userValue['literal'] = label\n\n\t\t\tif (typeNode.getElementsByTagName('madsrdf:componentList').length>0){\n\n\t\t\t\tfor (let child of typeNode.getElementsByTagName('madsrdf:componentList')[0].children){\n\n\t\t\t\t\tlet ctype = this.UriNamespace(child.tagName)\n\t\t\t\t\tlet clabel = null\n\t\t\t\t\tif (child.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t\t\t\t\t\tclabel = child.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t\t\t\t\t}\n\n\t\t\t\t\tcomponentList.push({'literal':clabel, '@type':ctype})\n\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tprofile.userValue['http://www.loc.gov/mads/rdf/v1#componentList'] = componentList\n\n\n\t\t\t// console.log('###################')\n\t\t\t// console.log(profile.userValue)\n\t\t\t// console.log('###################')\n\n\t\t\treturn profile\n\n\n\t\t},\n\t\t'bf:Work' : function(xml,profile){\n\n\t\t\tconsole.log(\"~~~~~~~~~~~~~~~~~~~\")\n\t\t\tconsole.log(xml)\n\t\t\tconsole.log(xml.attributes['rdf:about'])\n\t\t\tconsole.log(profile)\n\n\t\t\t\n\t\t\t\n\t\t\tlet titleStr = xml.attributes['rdf:about'].value\n\t\t\t\n\t\t\tlet titleEl = xml.getElementsByTagName(\"bflc:aap\")[0]\n\t\t\tif (titleEl){\n\t\t\t\ttitleStr = titleEl.innerHTML\n\t\t\t}\n\n\t\t\t// \"http://www.w3.org/2002/07/owl#sameAs\": {\n\t\t\tprofile.userValue['http://www.w3.org/2002/07/owl#sameAs'] = {\n\t\t\t\t'literal': titleStr,\n\t\t\t\t'URI' : xml.attributes['rdf:about'].value\n\t\t\t}\n\n\t\t\tprofile.userValue.URI = xml.attributes['rdf:about'].value\n\t\t\tprofile.userValue.literal = titleStr\n\t\t\treturn profile\n\t\t},\n\n\n\t\t'bf:contribution' : function(xml,profile){\n\n\n\t\t\t// <bf:contribution>\n\t\t\t//   <bf:Contribution>\n\t\t\t//     <bf:agent>\n\t\t\t//       <bf:Agent rdf:about=\"http://id.loc.gov/rwo/agents/n87899079\">\n\t\t\t//         <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Person\"/>\n\t\t\t//         <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Kemp, Sandra.</rdfs:label>\n\t\t\t//         <madsrdf:isIdentifiedByAuthority rdf:resource=\"http://id.loc.gov/authorities/names/n87899079\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t//       </bf:Agent>\n\t\t\t//     </bf:agent>\n\t\t\t//     <bf:role>\n\t\t\t//       <bf:Role rdf:about=\"http://id.loc.gov/vocabulary/relators/ctb\">\n\t\t\t//         <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Contributor</rdfs:label>\n\t\t\t//       </bf:Role>\n\t\t\t//     </bf:role>\n\t\t\t//   </bf:Contribution>\n\t\t\t// </bf:contribution>\n\n\n\t\t\t// grab the label and uri and type\n\n\t\t\tlet typeNode = xml.getElementsByTagName(\"bf:agent\")[0].children[0]\n\n\t\t\tif (!typeNode){\n\t\t\t\tconsole.error('xml.children[0] for this subject does not exist')\n\t\t\t\treturn profile\n\t\t\t}\n\n\t\t\t// console.log(this)\n\n\t\t\tprofile.userValue['@type'] = this.UriNamespace(typeNode.tagName)\n\t\t\tprofile.userValue['URI'] = null\n\t\t\tlet label = null\n\n\t\t\tif (typeNode.getElementsByTagName('rdf:type').length>0){\n\t\t\t\tprofile.userValue['@type'] = typeNode.getElementsByTagName('rdf:type')[0].attributes['rdf:resource'].value\n\t\t\t}\n\n\t\t\tif (typeNode.attributes && typeNode.attributes['rdf:about']){\n\t\t\t\tprofile.userValue['URI'] = typeNode.attributes['rdf:about'].value\n\t\t\t}\n\n\t\t\tif (typeNode.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t\t\t\tlabel = typeNode.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t\t\t}else if (typeNode.getElementsByTagName('rdfs:label').length>0){\n\t\t\t\tlabel = typeNode.getElementsByTagName('rdfs:label')[0].innerHTML\n\t\t\t}\n\n\t\t\tprofile.userValue['literal'] = label\n\n\n\n\t\t\tif (xml.getElementsByTagName('bf:Role').length>0){\n\t\t\t\tlet role = xml.getElementsByTagName('bf:Role')[0]\n\n\t\t\t\tlet roleuri = null\n\t\t\t\tlet rolelabel = null\n\t\t\t\tif (role.attributes && role.attributes['rdf:about']){\n\t\t\t\t\troleuri = role.attributes['rdf:about'].value\n\t\t\t\t}\n\n\t\t\t\tif (role.getElementsByTagName('rdfs:label').length>0){\n\t\t\t\t\trolelabel= role.getElementsByTagName('rdfs:label')[0].innerHTML\n\t\t\t\t}\n\n\t\t\t\tprofile.userValue['http://id.loc.gov/ontologies/bibframe/role'] = {'URI':roleuri, 'literal': rolelabel}\n\n\n\t\t\t}\n\n\t\t\t\n\n\n\n\t\t\t// console.log('#########specialTransformContribution##########')\n\t\t\t// console.log(profile.userValue)\n\t\t\t// console.log('#########specialTransformContribution##########')\n\n\t\t\treturn profile\n\n\n\t\t}\n\n\n\n\t},\n\n\n\ttransform: function(profile){\n\n\n\n\t\tconsole.log(profile)\n\n\t\tfor (const pkey in profile.rt) {\n\n\t\t\tlet tle = \"\"\t\t\t\n\t\t\tif (pkey.endsWith(':Work')){\n\t\t\t\ttle = \"bf:Work\"\n\t\t\t}else if (pkey.endsWith(':Instance')){\n\t\t\t\ttle = \"bf:Instance\"\n\t\t\t}else if (pkey.endsWith(':Item')){\n\t\t\t\ttle = \"bf:Item\"\n\t\t\t}\n\n\t\t\t// select the right part of the profile\n\t\t\tlet pt = profile.rt[pkey].pt\n\t\t\t\n\t\t\t// select the right part of the XML\n\t\t\tlet xml = this.activeDom.getElementsByTagName(tle)\n\n\t\t\t// only return the top level, no nested related things\n\t\t\txml = this.returnOneWhereParentIs(xml, \"rdf:RDF\")\n\n\t\t\tif (!xml){\n\t\t\t\tconsole.warn('Could not find the requested XML fragment, looking for ', tle)\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\t// remove some things we will want to work with later but are just too complicated right now\n\t\t\tlet adminMetadata = xml.getElementsByTagName('bf:adminMetadata')\n\t\t\tlet adminMetadataData = Array.prototype.slice.call( adminMetadata )\n\t\t\tfor (let item of adminMetadata) {\n\t\t\t\titem.parentNode.removeChild(item)\n\t\t\t}\n\n\t\t\tlet hasSeries = xml.getElementsByTagName('bf:hasSeries')\n\t\t\tlet hasSeriesData = Array.prototype.slice.call( hasSeries )\n\t\t\tfor (let item of hasSeries) {\n\t\t\t\titem.parentNode.removeChild(item)\n\t\t\t}\n\n\t\t\tlet sucessfulProperties  = []\n\n\t\t\t// at this point we have the main piece of the xml tree that has all our data\n\t\t\t// loop through properties we are looking for and build out the the profile\n\n\t\t\tfor (let k in pt){\n\t\t\t\t// console.log(pt[k])\n\t\t\t\t// console.log(pt[k].propertyURI)\n\t\t\t\tlet propertyURI = pt[k].propertyURI\n\t\t\t\tlet prefixURI = this.namespaceUri(propertyURI)\n\n\t\t\t\t// see if we have that specific propertry in the xml\n\t\t\t\tlet el = xml.getElementsByTagName(prefixURI)\n\n\t\t\t\t// console.log(prefixURI)\n\t\t\t\t// console.log(el)\n\t\t\t\t// console.log('******')\n\n\t\t\t\tif (el.length>0){\n\t\t\t\t\t// we have that element\n\t\t\t\t\tsucessfulProperties.push(prefixURI)\n\t\t\t\t\t// loop through all of them\n\t\t\t\t\tlet counter = 0\n\t\t\t\t\tfor (let e of el){\n\t\t\t\t\t\t// console.log(e,counter, e.children[0].tagName)\n\n\t\t\t\t\t\t// start populating the data\n\t\t\t\t\t\tlet populateData = null\n\t\t\t\t\t\tpopulateData = JSON.parse(JSON.stringify(pt[k]))\n\t\t\t\t\t\t// save the source xml for later display\n\t\t\t\t\t\tpopulateData.xmlSource = e.outerHTML\n\n\t\t\t\t\t\t// console.log(\"----------DOING NOW-------------\")\n\t\t\t\t\t\t// console.log(e.outerHTML)\n\n\t\t\t\t\t\tconsole.log(prefixURI)\n\t\t\t\t\t\t// we have some special functions to deal with tricky elements\n\t\t\t\t\t\tif (this.specialTransforms[prefixURI]){\n\t\t\t\t\t\t\t// make sure to pass the current 'this' context to the functions that use helper functions at this level like this.UriNamespace\n\t\t\t\t\t\t\tpopulateData = this.specialTransforms[prefixURI].call(this,e,populateData)\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\n\n\t\t\t\t\t\t\tfor (let child of e.children){\n\t\t\t\t\t\t\t\t// console.log(child.tagName,\"~~~~\",this.isClass(child.tagName))\n\n\n\n\t\t\t\t\t\t\t\t// lvl 1\n\t\t\t\t\t\t\t\tif (this.isClass(child.tagName)){\n\t\t\t\t\t\t\t\t\t// example > <bf:title><bf:Title> \n\t\t\t\t\t\t\t\t\tpopulateData.userValue['@type'] = this.UriNamespace(child.tagName)\n\n\t\t\t\t\t\t\t\t\t// does it have a URI?\n\t\t\t\t\t\t\t\t\tlet childUri = null\n\t\t\t\t\t\t\t\t\tif (child.attributes && child.attributes['rdf:about']){\n\t\t\t\t\t\t\t\t\t\tchildUri = child.attributes['rdf:about'].value\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlet childLabel = null\n\n\t\t\t\t\t\t\t\t\t// lvl 2, loop through all of its properties\n\t\t\t\t\t\t\t\t\tfor (let grandchild of child.children){\n\n\t\t\t\t\t\t\t\t\t\t// example > <bf:title><bf:Title> <bf:mainTitle>\n\t\t\t\t\t\t\t\t\t\tif (!this.isClass(grandchild.tagName)){\n\n\t\t\t\t\t\t\t\t\t\t\tif (grandchild.tagName == 'rdfs:label'){\n\t\t\t\t\t\t\t\t\t\t\t\tchildLabel = grandchild.innerHTML\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t// set the value to whatever it is\n\t\t\t\t\t\t\t\t\t\t\t\tif (!this.UriNamespace(grandchild.tagName)){\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.error(grandchild.tagName,'what is this')\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t// does this one also have children?\n\t\t\t\t\t\t\t\t\t\t\t\tif (grandchild.children.length==0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t// no just assign the value\n\t\t\t\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[this.UriNamespace(grandchild.tagName)] = grandchild.innerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(\"-----------NESTED Property------------\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(grandchild.innerHTML)\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildUri = null\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildValue = null\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildType = null\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let greatgrandchild of grandchild.children){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.isClass(greatgrandchild.tagName)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// something like this\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// <bf:classification>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t<bf:ClassificationLcc>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t<bf:source>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t<bf:Source>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// small usecases here, might need to expand\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildType = this.UriNamespace(greatgrandchild.tagName)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(grandchild)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchild.attributes && greatgrandchild.attributes['rdf:about']){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildUri = greatgrandchild.attributes['rdf:about'].value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let greatgreatgrandchild of greatgrandchild.children){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgreatgrandchild.tagName == 'rdfs:label'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (greatgreatgrandchild.tagName == 'madsrdf:authoritativeLabel'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (greatgreatgrandchild.tagName == 'bf:code'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// some hack stuff here\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchildUri && !greatgrandchildValue){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// so there is a URI, but no label or code for it, just use part of  the URI for the label then\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgrandchildUri.split('/')[greatgrandchildUri.split('/').length-1]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildUri)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildType)\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('not nested class? what is this',greatgrandchild.innerHTML)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchildUri && greatgrandchildValue && greatgrandchildType){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[this.UriNamespace(grandchild.tagName)] = {'@type':greatgrandchildType, 'literal':greatgrandchildValue, 'URI':greatgrandchildUri}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tconsole.error('cant handle nested classes yet')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\tif (childUri && childLabel){\n\t\t\t\t\t\t\t\t\t\t// populateData.userValue['@value'] = {literal: childLabel, URI: childUri}\n\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[propertyURI] = {literal: childLabel, URI: childUri}\n\t\t\t\t\t\t\t\t\t}else if (!childUri && childLabel && Object.keys(populateData.userValue).length==1){\n\t\t\t\t\t\t\t\t\t\t// populateData.userValue['@value'] = childLabel\n\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[propertyURI] = {literal: childLabel, URI: null}\n\t\t\t\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t\t\t\t// console.log(childLabel,childUri,populateData)\n\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// console.log('----~~~~~------')\n\t\t\t\t\t\t// console.log(populateData,'populateData',counter)\n\n\t\t\t\t\t\t// since we created a brand new populateData we either need to \n\t\t\t\t\t\t// replace the orginal in the profile or if there is more than one we \n\t\t\t\t\t\t// need to make a new one and add it to the resource template list\n\t\t\t\t\t\t// since each piece of data in the property is its own resource template\n\n\t\t\t\t\t\tif (counter === 0){\n\t\t\t\t\t\t\tpt[k] = populateData\n\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\tlet newKey = `${k}_${counter}`\n\t\t\t\t\t\t\tlet currentpos = profile.rt[pkey].ptOrder.indexOf(k)\n\t\t\t\t\t\t\tprofile.rt[pkey].ptOrder.splice(currentpos+1, 0, newKey);\n\t\t\t\t\t\t\tpt[newKey] = populateData\n\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++\n\n\t\t\t\t\t}\n\n\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t\t// we did something with it, so remove it from the xml\n\t\t\tfor (let p of sucessfulProperties){\n\t\t\t\tlet els = xml.getElementsByTagName(p)\n\t\t\t\t// this is a strange loop here because we need to remvoe elements without changing the parent order which will mess up the dom tree and the loop\n\t\t\t\tfor (let step = els.length-1; step >= 0; step=step-1) {\n\t\t\t\t\tels[step].remove()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// store the unused xml\n\t\t\tprofile.rt[pkey].unusedXml = xml.outerHTML;\n\n\t\t\tlet totalHasDataLoaded = 0\n\t\t\tlet uniquePropertyURIs  = {}\n\t\t\t// we are now going to do some ananlyis on profile, see how many properties are acutally used, what is not used, etc\n\t\t\tfor (let key in profile.rt[pkey].pt){\n\n\t\t\t\t// console.log(key,'key here')\n\t\t\t\tif (Object.keys(uniquePropertyURIs).indexOf(profile.rt[pkey].pt[key].propertyURI)===-1){\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI] = {status:false,data:[],resourceTemplates:{},unAssingedProperties:[]}\n\t\t\t\t}\n\t\t\t\t// mark if we have loaded data from the source for this properity\n\t\t\t\tif (Object.keys(profile.rt[pkey].pt[key].userValue).length==0){\n\t\t\t\t\tprofile.rt[pkey].pt[key].dataLoaded=false\n\t\t\t\t}else{\n\t\t\t\t\tprofile.rt[pkey].pt[key].dataLoaded=true\n\t\t\t\t\ttotalHasDataLoaded++\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].status = true\n\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].data.push({'json':profile.rt[pkey].pt[key].userValue,'propertyLabel': profile.rt[pkey].pt[key].propertyLabel, 'xml':profile.rt[pkey].pt[key].xmlSource})\n\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].resourceTemplates[key] = profile.rt[pkey].pt[key]\n\n\t\t\t\t\t// not look into the rt of this propertiy to see what properties we have sucuessfully mapped and things we did not map\n\t\t\t\t\tlet allUris = []\n\t\t\t\t\tprofile.rt[pkey].pt[key].valueConstraint.valueTemplateRefs.forEach((rtName)=>{\n\t\t\t\t\t\tstore.state.rtLookup[rtName].propertyTemplates.forEach((ptObj)=>{\n\t\t\t\t\t\t\tif (allUris.indexOf(ptObj.propertyURI)==-1){\n\t\t\t\t\t\t\t\tallUris.push(ptObj.propertyURI)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\t\n\t\t\t\t\t})\n\n\t\t\t\t\t// console.log(allUris)\n\t\t\t\t\t// console.log(profile.rt[pkey].pt[key].userValue)\n\t\t\t\t\t// console.log('##################~~~~!!!!')\n\t\t\t\t\tprofile.rt[pkey].pt[key].missingProfile = []\n\t\t\t\t\t// loop though the URIs we have\n\t\t\t\t\tObject.keys(profile.rt[pkey].pt[key].userValue).forEach((userURI)=>{\n\t\t\t\t\t\tif (userURI !== '@value' && userURI !== '@type' && userURI !== 'uri'){\n\t\t\t\t\t\t\tif (allUris.indexOf(userURI)===-1){\n\t\t\t\t\t\t\t\tconsole.log(userURI, 'not found')\n\t\t\t\t\t\t\t\tprofile.rt[pkey].pt[key].missingProfile.push(userURI)\n\n\t\t\t\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].unAssingedProperties.push(userURI)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\n\t\t\t\t\tif (uniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].unAssingedProperties.length>0){\n\t\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].status='mixed'\n\t\t\t\t\t}\n\n\t\t\t\t\t// console.log('##################~~~~!!!!')\n\n\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t\tprofile.rt[pkey].propertyLoadReport = uniquePropertyURIs\n\n\t\t\tprofile.rt[pkey].propertyLoadRatio = parseInt(Object.keys(uniquePropertyURIs).filter((k)=>uniquePropertyURIs[k].status).length /Object.keys(uniquePropertyURIs).length * 100)\n\n\t\t\t// console.log(uniquePropertyURIs)\n\t\t\t// console.log('uniquePropertyURIs')\n\t\t\tconsole.log(totalHasDataLoaded)\n\n\n\t\t\t// console.log(\"here\")\n\t\t\t// console.log(pt,tle,xml)\t\n\t\t\t// console.log(profile)\t\n\t\t\t// console.log(\"^^^^^***\")\n\t\t\t// console.log(xml.outerHTML)\n\t\t\t// console.log(sucessfulProperties)\n\t\t\tconsole.log(adminMetadataData,hasSeriesData)\n\n\n\t\t\treturn profile\n\n\t\t}\n\n\n\n\t},\n\n\tparse: function(xml){\n\n\t\tif (!xml){\n\t\t\txml = this.testXml\n\t\t}\t\n\t\t// use the browser if we can, should be faster, fall back to the library if not running in the browser\n\t\tif (window.DOMParser){\n\t\t\tlet parser = new DOMParser();\n\t\t\tthis.activeDom = parser.parseFromString(xml, \"text/xml\");\n\t\t// }else{\n\t\t// \tthis.activeDom = new jsdom.JSDOM(xml, {\n\t\t// \t\tcontentType: \"text/xml\",\n\t\t// \t\tstorageQuota: 10000000\n\t\t// \t})\n\t\t// \tthis.activeDom = this.dom.window.document\n\t\t}\n\n\n\n\t\tconsole.log(this.activeDom.getElementsByTagName(\"rdf:type\")[0].attributes)\n\n\n\n\n\t},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ttestXml : `<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n\t\t\t\t  <bf:Work rdf:about=\"http://id.loc.gov/resources/works/2998171\" xmlns:bf=\"http://id.loc.gov/ontologies/bibframe/\">\n\t\t\t\t    <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">Woolf, Virginia, 1882-1941. To the lighthouse</bflc:aap>\n\t\t\t\t    <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">woolfvirginia18821941tothelighthouse</bflc:aap-normalized>\n\t\t\t\t    <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Text\"/>\n\t\t\t\t    <bf:language>\n\t\t\t\t      <bf:Language rdf:about=\"http://id.loc.gov/vocabulary/languages/eng\">\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">English</rdfs:label>\n\t\t\t\t      </bf:Language>\n\t\t\t\t    </bf:language>\n\t\t\t\t    <bf:supplementaryContent>\n\t\t\t\t      <bf:SupplementaryContent rdf:about=\"http://id.loc.gov/authorities/genreForms/gf2014026048\">\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">bibliographies</rdfs:label>\n\t\t\t\t      </bf:SupplementaryContent>\n\t\t\t\t    </bf:supplementaryContent>\n\t\t\t\t    <bf:supplementaryContent>\n\t\t\t\t      <bf:SupplementaryContent rdf:about=\"http://id.loc.gov/vocabulary/msupplcont/index\">\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Index present</rdfs:label>\n\t\t\t\t      </bf:SupplementaryContent>\n\t\t\t\t    </bf:supplementaryContent>\n\t\t\t\t    <bf:genreForm>\n\t\t\t\t      <bf:GenreForm rdf:about=\"http://id.loc.gov/authorities/genreForms/gf2014026339\">\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">fiction</rdfs:label>\n\t\t\t\t      </bf:GenreForm>\n\t\t\t\t    </bf:genreForm>\n\t\t\t\t    <bf:identifiedBy>\n\t\t\t\t      <bf:Lccn>\n\t\t\t\t        <rdf:value>93038757 </rdf:value>\n\t\t\t\t      </bf:Lccn>\n\t\t\t\t    </bf:identifiedBy>\n\t\t\t\t    <bf:geographicCoverage>\n\t\t\t\t      <bf:GeographicCoverage rdf:about=\"http://id.loc.gov/vocabulary/geographicAreas/e-uk-en\">\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">England</rdfs:label>\n\t\t\t\t      </bf:GeographicCoverage>\n\t\t\t\t    </bf:geographicCoverage>\n\t\t\t\t    <bf:classification>\n\t\t\t\t      <bf:ClassificationLcc>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\"/>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <bf:classificationPortion>PR6045.O72</bf:classificationPortion>\n\t\t\t\t        <bf:itemPortion>T6 1994</bf:itemPortion>\n\t\t\t\t      </bf:ClassificationLcc>\n\t\t\t\t    </bf:classification>\n\t\t\t\t    <bf:classification>\n\t\t\t\t      <bf:ClassificationDdc>\n\t\t\t\t        <bf:classificationPortion>823/.912</bf:classificationPortion>\n\t\t\t\t        <bf:edition rdf:datatype=\"http://www.w3.org/2001/XMLSchema#anyURI\">http://id.loc.gov/vocabulary/classSchemes/ddc20</bf:edition>\n\t\t\t\t        <bf:edition>full</bf:edition>\n\t\t\t\t        <bf:assigner>\n\t\t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\"/>\n\t\t\t\t        </bf:assigner>\n\t\t\t\t      </bf:ClassificationDdc>\n\t\t\t\t    </bf:classification>\n\t\t\t\t    <bf:contribution>\n\t\t\t\t      <bf:Contribution>\n\t\t\t\t        <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bflc/PrimaryContribution\"/>\n\t\t\t\t        <bf:agent>\n\t\t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/rwo/agents/n79041870\">\n\t\t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Person\"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Woolf, Virginia, 1882-1941.</rdfs:label>\n\t\t\t\t            <madsrdf:isIdentifiedByAuthority rdf:resource=\"http://id.loc.gov/authorities/names/n79041870\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t          </bf:Agent>\n\t\t\t\t        </bf:agent>\n\t\t\t\t        <bf:role>\n\t\t\t\t          <bf:Role rdf:about=\"http://id.loc.gov/vocabulary/relators/ctb\">\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Contributor</rdfs:label>\n\t\t\t\t          </bf:Role>\n\t\t\t\t        </bf:role>\n\t\t\t\t      </bf:Contribution>\n\t\t\t\t    </bf:contribution>\n\t\t\t\t    <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">To the lighthouse</rdfs:label>\n\t\t\t\t    <bf:title>\n\t\t\t\t      <bf:Title>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">To the lighthouse</rdfs:label>\n\t\t\t\t        <bf:mainTitle>To the lighthouse</bf:mainTitle>\n\t\t\t\t      </bf:Title>\n\t\t\t\t    </bf:title>\n\t\t\t\t    <bf:hasSeries>\n\t\t\t\t      <bf:Work rdf:about=\"http://id.loc.gov/resources/hubs/8a8cae2fea46062d5e392a9bdf369df0\">\n\t\t\t\t        <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">Routledge English texts</bflc:aap>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">routledgeenglishtexts</bflc:aap-normalized>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Routledge English texts</rdfs:label>\n\t\t\t\t        <bf:title>\n\t\t\t\t          <bf:Title>\n\t\t\t\t            <bf:mainTitle>Routledge English texts</bf:mainTitle>\n\t\t\t\t          </bf:Title>\n\t\t\t\t        </bf:title>\n\t\t\t\t      </bf:Work>\n\t\t\t\t    </bf:hasSeries>\n\t\t\t\t    <bf:supplementaryContent>\n\t\t\t\t      <bf:SupplementaryContent>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Includes bibliographical references (p. 219-222) and index.</rdfs:label>\n\t\t\t\t      </bf:SupplementaryContent>\n\t\t\t\t    </bf:supplementaryContent>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Place>\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Skye, Island of (Scotland)--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Skye, Island of (Scotland)--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Geographic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Skye, Island of (Scotland)</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Geographic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">skyeislandof(scotland)fiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Place>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2009125026\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">English--Scotland--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">English--Scotland--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>English</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:Geographic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Scotland</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Geographic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">englishscotlandfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008106913\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Loss (Psychology)--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Loss (Psychology)--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Loss (Psychology)</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">loss(psychology)fiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008107230\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Mothers--Death--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Mothers--Death--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Mothers</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Death</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">mothersdeathfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008111402\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Summer resorts--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Summer resorts--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Summer resorts</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">summerresortsfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008107177\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Married people--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Married people--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Married people</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">marriedpeoplefiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008107119\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Lighthouses--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Lighthouses--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Lighthouses</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">lighthousesfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008113433\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Widowers--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Widowers--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Widowers</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">widowersfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:genreForm>\n\t\t\t\t      <bf:GenreForm rdf:about=\"http://id.loc.gov/authorities/subjects/sh85108438\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#Topic\"/>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Psychological fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source>\n\t\t\t\t            <bf:code>lcsh</bf:code>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Psychological fiction.</rdfs:label>\n\t\t\t\t      </bf:GenreForm>\n\t\t\t\t    </bf:genreForm>\n\t\t\t\t    <bf:genreForm>\n\t\t\t\t      <bf:GenreForm rdf:about=\"http://id.loc.gov/authorities/subjects/sh86004353\">\n\t\t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#Topic\"/>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Domestic fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source>\n\t\t\t\t            <bf:code>lcsh</bf:code>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Domestic fiction.</rdfs:label>\n\t\t\t\t      </bf:GenreForm>\n\t\t\t\t    </bf:genreForm>\n\t\t\t\t    <bf:contribution>\n\t\t\t\t      <bf:Contribution>\n\t\t\t\t        <bf:agent>\n\t\t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/rwo/agents/n87899079\">\n\t\t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Person\"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Kemp, Sandra.</rdfs:label>\n\t\t\t\t            <madsrdf:isIdentifiedByAuthority rdf:resource=\"http://id.loc.gov/authorities/names/n87899079\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t\t          </bf:Agent>\n\t\t\t\t        </bf:agent>\n\t\t\t\t        <bf:role>\n\t\t\t\t          <bf:Role rdf:about=\"http://id.loc.gov/vocabulary/relators/ctb\">\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Contributor</rdfs:label>\n\t\t\t\t          </bf:Role>\n\t\t\t\t        </bf:role>\n\t\t\t\t      </bf:Contribution>\n\t\t\t\t    </bf:contribution>\n\t\t\t\t    <dcterms:isPartOf rdf:resource=\"http://id.loc.gov/resources/works\" xmlns:dcterms=\"http://purl.org/dc/terms/\"/>\n\t\t\t\t    <bf:hasInstance>\n\t\t\t\t      <bf:Instance rdf:about=\"http://id.loc.gov/resources/instances/2998171\">\n\t\t\t\t        <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">To the lighthouse</bflc:aap>\n\t\t\t\t      </bf:Instance>\n\t\t\t\t    </bf:hasInstance>\n\t\t\t\t    <bf:adminMetadata>\n\t\t\t\t      <bf:AdminMetadata>\n\t\t\t\t        <bf:generationProcess>\n\t\t\t\t          <bf:GenerationProcess>\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC marc2bibframe2 v1.5.0-SNAPSHOT: 2019-06-13T11:45:19-04:00</rdfs:label>\n\t\t\t\t          </bf:GenerationProcess>\n\t\t\t\t        </bf:generationProcess>\n\t\t\t\t        <bf:status>\n\t\t\t\t          <bf:Status>\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">increase in encoding level from prepublication</rdfs:label>\n\t\t\t\t            <bf:code>p</bf:code>\n\t\t\t\t          </bf:Status>\n\t\t\t\t        </bf:status>\n\t\t\t\t        <bflc:encodingLevel xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">\n\t\t\t\t          <bflc:EncodingLevel rdf:about=\"http://id.loc.gov/vocabulary/menclvl/f\">\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">full</rdfs:label>\n\t\t\t\t          </bflc:EncodingLevel>\n\t\t\t\t        </bflc:encodingLevel>\n\t\t\t\t        <bf:descriptionConventions>\n\t\t\t\t          <bf:DescriptionConventions rdf:about=\"http://id.loc.gov/vocabulary/descriptionConventions/aacr\">\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">aacr</rdfs:label>\n\t\t\t\t          </bf:DescriptionConventions>\n\t\t\t\t        </bf:descriptionConventions>\n\t\t\t\t        <bf:identifiedBy>\n\t\t\t\t          <bf:Local>\n\t\t\t\t            <rdf:value>2998171</rdf:value>\n\t\t\t\t            <bf:assigner>\n\t\t\t\t              <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\"/>\n\t\t\t\t            </bf:assigner>\n\t\t\t\t          </bf:Local>\n\t\t\t\t        </bf:identifiedBy>\n\t\t\t\t        <bf:changeDate rdf:datatype=\"http://www.w3.org/2001/XMLSchema#dateTime\">2005-02-15T16:40:14</bf:changeDate>\n\t\t\t\t        <bf:creationDate rdf:datatype=\"http://www.w3.org/2001/XMLSchema#date\">1993-10-12</bf:creationDate>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t\t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Agent\"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t\t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Agent\"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <bf:descriptionModifier>\n\t\t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t\t\t\t          </bf:Agent>\n\t\t\t\t        </bf:descriptionModifier>\n\t\t\t\t      </bf:AdminMetadata>\n\t\t\t\t    </bf:adminMetadata>\n\t\t\t\t    <bf:expressionOf>\n\t\t\t\t      <bf:Work rdf:about=\"http://id.loc.gov/resources/hubs/03a711d5e5b9763d7a03d9f4d7d5c642\">\n\t\t\t\t        <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">Woolf, Virginia, 1882-1941. To the lighthouse</bflc:aap>\n\t\t\t\t      </bf:Work>\n\t\t\t\t    </bf:expressionOf>\n\t\t\t\t  </bf:Work>\n\t\t\t\t</rdf:RDF>`\n\n\n\n\n}\n\n\nexport default parseId;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100px\"},attrs:{\"id\":\"hourglass\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\n  <div id=\"hourglass\" style=\"width: 100px\"></div>\n\n\n</template>\n\n<script>\n\n\n\nexport default {\n  name: \"MiscLoaderAnimation\",\n  components: {\n      // Keypress: () => import('vue-keypress')\n  },\n  props: {\n  },\n  methods: {\n\n    hourglassFill() {\n        let hourglass = document.getElementById('hourglass');\n        console.log(hourglass,hourglass,hourglass,hourglass)\n        hourglass.innerHTML = '<svg height=\"100px\" width=\"100px\"  fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\"><g><path fill=\"#000000\" d=\"M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186   l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312   c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16   C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388   L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z\"></path><path fill=\"#000000\" d=\"M64,23.5v7.924L52.137,46.097c-0.524,0.648-1.303,1.021-2.137,1.021   s-1.613-0.372-2.138-1.021L36,31.424V23.5H64z\"></path></g></svg>';\n\n        // half\n        window.hourglassTimeout1 = setTimeout(function () {\n            hourglass.innerHTML = '<svg height=\"100px\" width=\"100px\"  fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\"><g><path fill=\"#000000\" d=\"M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186   l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312   c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16   C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388   L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z\"></path><path fill=\"#000000\" d=\"M62.683,33.053L52.226,45.987c-0.423,0.523-0.994,0.937-1.652,1.072   c-1.041,0.213-2.068-0.166-2.711-0.962L37.317,33.053c-0.529-0.654-0.063-1.629,0.778-1.629h23.811   C62.746,31.424,63.212,32.399,62.683,33.053z\"></path><path fill=\"#000000\" d=\"M36,76.5v-5.218c0-0.423,0.266-0.799,0.663-0.942l11.99-4.285   c0.87-0.311,1.822-0.311,2.692,0l11.99,4.285C63.734,70.483,64,70.859,64,71.282V76.5H36z\"></path></g></svg>';\n        }, 1000);\n\n        // end\n        window.hourglassTimeout2 = setTimeout(function () {\n            hourglass.innerHTML = '<svg height=\"100px\" width=\"100px\"  fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\"><g><path fill=\"#000000\" d=\"M36,76.301v-6.653l12.635-11.865c0.768-0.721,1.963-0.723,2.733-0.004l12.587,11.744   L64,76.301c0.001,0.11-0.088,0.199-0.198,0.199H36.199C36.089,76.5,36,76.411,36,76.301z\"></path><g><path fill=\"#000000\" d=\"M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186    l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312    c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16    C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388    L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z\"></path><path fill=\"#000000\" d=\"M43.66,40.899l4.112,5.086c0.423,0.523,0.994,0.938,1.653,1.073    c1.041,0.214,2.069-0.166,2.712-0.962l4.202-5.197c0.529-0.654,0.063-1.629-0.778-1.629H44.438    C43.597,39.271,43.132,40.245,43.66,40.899z\"></path></g></g></svg>';\n        }, 1500);\n\n        // end\n        window.hourglassTimeout3 = setTimeout(function () {\n            hourglass.innerHTML = '<svg height=\"100px\" width=\"100px\"  fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\"><g><path fill=\"#000000\" d=\"M71.5,86h-43c-1.105,0-2-0.895-2-2V66.114c0-0.46,0.158-0.906,0.449-1.262l12.234-15.037   L26.956,34.959c-0.295-0.358-0.456-0.807-0.456-1.271V16c0-1.105,0.895-2,2-2h43c1.105,0,2,0.895,2,2v17.688   c0,0.464-0.161,0.913-0.456,1.271L60.818,49.814l12.234,15.037c0.29,0.357,0.449,0.802,0.449,1.262V84   C73.5,85.105,72.605,86,71.5,86z M31.5,81h37V67.181L54.873,50.432c-0.3-0.369-0.299-0.899,0.004-1.267L68.5,32.612V19h-37v13.612   l13.623,16.553c0.302,0.368,0.304,0.897,0.004,1.267L31.5,67.181V81z\"></path><path fill=\"#000000\" d=\"M36,76.5v-7.924l11.863-14.673c0.524-0.648,1.303-1.021,2.137-1.021   s1.613,0.372,2.138,1.021L64,68.576V76.5H36z\"></path></g></svg>';\n        }, 2000);\n\n\n\n        // rotate\n        setTimeout(function () {\n            hourglass.classList.toggle('rotated');\n        }, 3000);\n\n        // rotate again to the original position\n        window.hourglassTimeout4 = setTimeout(function () {\n            hourglass.classList.toggle('rotated');\n            hourglass.innerHTML = '<svg height=\"100px\" width=\"100px\"  fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\"><g><path fill=\"#000000\" d=\"M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186   l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312   c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16   C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388   L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z\"></path><path fill=\"#000000\" d=\"M64,23.5v7.924L52.137,46.097c-0.524,0.648-1.303,1.021-2.137,1.021   s-1.613-0.372-2.138-1.021L36,31.424V23.5H64z\"></path></g></svg>';\n        }, 3500);\n    }\n\n  },\n \n  data: function() {\n    return {\n     \n      test: null\n\n    }\n  },\n  mounted: function(){\n\n\n            clearTimeout(window.hourglassTimeout1)\n            clearTimeout(window.hourglassTimeout2)\n            clearTimeout(window.hourglassTimeout3)\n            clearTimeout(window.hourglassTimeout4)\n            clearTimeout(window.hourglassTimeout5)\n\n            this.hourglassFill();\n\n            window.hourglassTimeout5 = setInterval(this.hourglassFill, 4000);\n\n\n\n  },\n\n  beforeDestroy: function(){\n\n            clearTimeout(window.hourglassTimeout1)\n            clearTimeout(window.hourglassTimeout2)\n            clearTimeout(window.hourglassTimeout3)\n            clearTimeout(window.hourglassTimeout4)\n            clearTimeout(window.hourglassTimeout5)\n    \n  }\n};\n</script>\n\n\n<style scoped>\n\n .icon-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: auto;\n}\n\n.icon-wrapper div.fa {\n    margin: 20px 0;\n}\n\n.rotated {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -ms-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg);\n\n    -webkit-transition: all 0.5s ease-in-out;\n    -moz-transition: all 0.5s ease-in-out;\n    -o-transition: all 0.5s ease-in-out;\n    transition: all 0.5s ease-in-out;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiscLoaderAnimation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiscLoaderAnimation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MiscLoaderAnimation.vue?vue&type=template&id=7bb5161c&scoped=true&\"\nimport script from \"./MiscLoaderAnimation.vue?vue&type=script&lang=js&\"\nexport * from \"./MiscLoaderAnimation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MiscLoaderAnimation.vue?vue&type=style&index=0&id=7bb5161c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bb5161c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"home-load\">\n<!-- \n    <Keypress key-event=\"keydown\" :key-code=\"40\" @success=\"moveDown\" />\n    <Keypress key-event=\"keydown\" :key-code=\"38\" @success=\"moveUp\" />\n    <Keypress key-event=\"keydown\" :key-code=\"13\" @success=\"selectTemplate\" />\n -->\n<!--     <Keypress key-event=\"keydown\" :key-code=\"34\" @success=\"movePageDown\" />          \n    <Keypress key-event=\"keydown\" :key-code=\"33\" @success=\"movePageUp\" />\n\n    <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 187, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"dupeProperty\" />\n -->\n\n    <h1>Load existing records</h1>\n\n    <hr>\n\n    <h3>From Bibframe Database</h3>\n\n\n    <hr style=\"margin-top:2em\">\n\n    <h3>From id.loc.gov</h3>\n\n\n    <ul>\n      <li id=\"search-li\">Search Works On ID: <input @keyup=\"search\" value=\"Woolf, Virginia, 1882-1941. To the lighthouse\" autofocus ></li>\n      <li id=\"profile-li\">\n        Use Resource Template: \n        <select @change=\"rtChange\">\n          <option v-for=\"key in rtLookupWorks\" :key=\"key\"  :selected=\"(key === 'lc:RT:bf2:Monograph:Work') ? true : false\"  >{{key}}</option>\n        </select>\n      </li>\n      <li v-if=\"searchActive\"><MiscLoaderAnimation></MiscLoaderAnimation>Searching now...</li>\n      <li v-for=\"(val,index) in idWorkSearchResults\" :key=\"index\">\n        <button @click=\"load(val.id,true)\">Load & Edit</button> - <a target=\"_blank\" :href=\"val.id\">{{val.label}}</a></li>\n\n    </ul>\n\n\n\n\n    <hr style=\"margin-top:2em\">\n\n    <h3>From IBC</h3>\n\n  </div>\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\n// import uiUtils from \"@/lib/uiUtils\"\nimport parseId from '@/lib/parseId'\n\nimport MiscLoaderAnimation from \"@/components/MiscLoaderAnimation.vue\";\n\nexport default {\n  name: \"HomeNewComponent\",\n  components: {\n      // Keypress: () => import('vue-keypress')\n      MiscLoaderAnimation\n  },\n  props: {\n  },\n  methods: {\n\n\n    search: function(event){\n      window.clearTimeout(this.searchTimeout)\n      this.searchActive=true\n      this.searchTimeout = window.setTimeout(()=>{\n        this.$store.dispatch(\"fetchIdWorkSearch\", { self: this, searchValue: event.target.value }).then(() => {\n          this.searchActive=false\n        })\n      },500)\n    },\n\n    rtChange: function(event){\n      this.useRtSelected = event.target.value\n    },\n\n    load: function(useId,goEdit){\n\n\n      this.$store.dispatch(\"fetchIdXML\", { self: this, url: useId }).then(() => {\n        // the xml is loaded\n        //console.log(this.idXML)\n        parseId.parse(this.idXML)\n\n        let useProfile = null\n        // find the right profile to feed it\n        for (let key in this.profiles){\n          if (this.profiles[key].rtOrder.indexOf(this.useRtSelected)>-1){\n            useProfile = JSON.parse(JSON.stringify(this.profiles[key]))\n          }\n        }\n\n        // console.log(useProfile,'console.log(useProfile)')\n        this.transformResults  = parseId.transform(useProfile)\n\n        let workkey = this.transformResults.rtOrder.filter((k)=> k.endsWith(\":Work\"))[0]\n\n\n        this.transformResultsDisplay = this.transformResults.rt[workkey]\n\n\n        if (goEdit){\n          this.$store.dispatch(\"setActiveProfile\", { self: this, profile: this.transformResults }).then(() => {\n\n            this.$router.push({ path: 'edit' })\n          })\n        }\n\n        // this.$router.push({ path: 'edit' })\n\n        // console.log(this.transformResults)\n        // console.log(useProfile.id,workkey)\n\n      })\n\n\n\n    }\n\n  },\n  computed: mapState({\n    activeInput: 'activeInput',\n    activeProfile: 'activeProfile',\n    startingPoints: 'startingPoints',\n    profiles: 'profiles',\n    profilesLoaded: 'profilesLoaded',\n    idWorkSearchResults: 'idWorkSearchResults',\n    rtLookup:'rtLookup',\n    idXML:'idXML',\n    // to access local state with `this`, a normal function must be used\n    rtLookupWorks (state) {\n      let r = []\n      for (let k of Object.keys(state.rtLookup)){\n        if (k.endsWith(':Work')){\n          r.push(k)\n        }\n      }\n      return r\n    }\n    // assignedId (){\n\n\n    //   return uiUtils.assignID(this.structure,this.parentStructure)\n\n    // },    \n  }), \n\n  data: function() {\n    return {\n      useRtSelected: 'lc:RT:bf2:Monograph:Work',\n      searchTimeout: null,\n      transformResults: null,\n      transformResultsDisplay: null,\n      activeTemplateId: null,\n      actibveTemplateIdCount:0,\n      searchActive: true\n\n    }\n  },\n  created: function(){\n\n   this.$store.dispatch(\"fetchIdWorkSearch\", { self: this, searchValue: 'Woolf, Virginia, 1882-1941. To the lighthouse' }).then(() => {\n      this.searchActive=false\n    })\n\n  },\n};\n</script>\n\n\n<style scoped>\n\n  li::before{\n    \n    content: '';\n  }\n\n  h1{\n    margin: 0;\n    font-weight: bold;\n    font-size:2em;\n  }\n  #home-load{\n    padding:1em 2em 1em 2em;\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeLoadComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeLoadComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeLoadComponent.vue?vue&type=template&id=46833cd3&scoped=true&\"\nimport script from \"./HomeLoadComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeLoadComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeLoadComponent.vue?vue&type=style&index=0&id=46833cd3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46833cd3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-settings\"}},[_c('div',{staticClass:\"grid\"},[_c('aside',{staticClass:\"sidebar-left\",staticStyle:{\"background-color\":\"#4b4b4b\",\"color\":\"#ffffff\"}},[_c('ul',{staticClass:\"sidebar-menu\"},[_c('p',[_vm._v(\"(There is only one setting so far)\")]),_c('li',{class:{ active: _vm.isDiacritics }},[_c('router-link',{class:{ active: _vm.isDiacritics },attrs:{\"to\":\"/settings/diacritics\"}},[_vm._v(\"Diacritics\")])],1)])]),_c('article',{attrs:{\"id\":\"settings-content\"}},[(_vm.isDiacritics)?_c('HomeSettingsDiacriticsComponent'):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-settings-diacritics\"}},[_c('h1',[_vm._v(\"Diacritics\")]),_c('hr'),_c('h3',[_vm._v(\"Your custom defined diacritics\")]),_vm._l((_vm.locatStorageDiacritics),function(rule,idx){return _c('div',{key:idx,staticClass:\"current-diacritics\"},[_c('div',{staticClass:\"component-container-input-container current-diacritics-display\"},[_c('div',{class:['component-container-fake-input', 'no-lower-right-border-radius'],staticStyle:{\"background-color\":\"#eaeaea\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('div',{staticClass:\"component-nested-container-title\"},[_vm._v(\"diacritic\")]),_c('input',{staticClass:\"input-nested selectable-input\",attrs:{\"disabled\":\"\",\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":_vm.locatStorageDiacritics[idx].letter}})])]),_c('div',{class:['component-container-fake-input', 'no-upper-border', 'no-lower-border', 'no-upper-right-border-radius', 'no-lower-right-border-radius'],staticStyle:{\"background-color\":\"#eaeaea\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('div',{staticClass:\"component-nested-container-title\"},[_vm._v(\"trigger key\")]),_c('input',{staticClass:\"input-nested selectable-input\",attrs:{\"disabled\":\"\",\"bfeType\":\"EditLiteralComponent-nested\",\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":'\"' +_vm.locatStorageDiacritics[idx].trigger + '\"'}})])]),_c('div',{class:['component-container-fake-input', 'no-upper-border', 'no-upper-right-border-radius'],staticStyle:{\"background-color\":\"#eaeaea\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('div',{staticClass:\"component-nested-container-title\"},[_vm._v(\"description\")]),_c('input',{staticClass:\"input-nested selectable-input\",attrs:{\"disabled\":\"\",\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":_vm.locatStorageDiacritics[idx].desc}})])])]),_c('div',{staticClass:\"current-diacritics-button\"},[_c('button',{on:{\"click\":function($event){return _vm.removeExisting(_vm.locatStorageDiacritics[idx].keycode)}}},[_vm._v(\"Remove\")])])])}),_c('hr'),_c('h3',[_vm._v(\"Add new definition\")]),_vm._m(0),_c('div',{staticClass:\"component-container-input-container\"},[_c('div',{class:['component-container-fake-input', 'no-lower-right-border-radius']},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('div',{staticClass:\"component-nested-container-title\"},[_vm._v(\"diacritic\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCutomDiacriticLetter),expression:\"newCutomDiacriticLetter\"}],staticClass:\"input-nested selectable-input\",attrs:{\"id\":\"newDiacriticDiacritic\",\"bfeType\":\"EditLiteralComponent-nested\",\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":(_vm.newCutomDiacriticLetter)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"keyup\":_vm.nav,\"input\":function($event){if($event.target.composing){ return; }_vm.newCutomDiacriticLetter=$event.target.value}}})])]),_c('div',{class:['component-container-fake-input', 'no-upper-border', 'no-lower-border', 'no-upper-right-border-radius', 'no-lower-right-border-radius']},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('div',{staticClass:\"component-nested-container-title\"},[_vm._v(\"trigger key\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCutomDiacriticKey),expression:\"newCutomDiacriticKey\"}],staticClass:\"input-nested selectable-input\",attrs:{\"id\":\"newDiacriticKey\",\"bfeType\":\"EditLiteralComponent-nested\",\"autocomplete\":\"off\",\"type\":\"text\",\"placeholder\":\"(press the key you want to use to select this diacritic from the menu)\"},domProps:{\"value\":(_vm.newCutomDiacriticKey)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"keyup\":_vm.nav,\"keypress\":_vm.selectKeyField,\"focus\":_vm.clearKeyField,\"input\":function($event){if($event.target.composing){ return; }_vm.newCutomDiacriticKey=$event.target.value}}})])]),_c('div',{class:['component-container-fake-input', 'no-upper-border', 'no-upper-right-border-radius']},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('div',{staticClass:\"component-nested-container-title\"},[_vm._v(\"description\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCutomDiacriticDesc),expression:\"newCutomDiacriticDesc\"}],staticClass:\"input-nested selectable-input\",attrs:{\"id\":\"newDiacriticDesc\",\"bfeType\":\"EditLiteralComponent-nested\",\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":(_vm.newCutomDiacriticDesc)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"keyup\":_vm.nav,\"input\":function($event){if($event.target.composing){ return; }_vm.newCutomDiacriticDesc=$event.target.value}}})])]),_c('button',{on:{\"click\":_vm.addDiacritic}},[_vm._v(\"Add\")])])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('details',[_c('summary',[_vm._v(\"Help\")]),_vm._v(\" The system provided a quick menu for inserting diacritic characters into a text field. You can add another diacritic to your quick menu below. The \\\"diacritic\\\" field is the character you would like to insert into text, for example é, ü, ø, etc.. The \\\"trigger key\\\" is the key, once the diacritic quick menue is open, that will insert the diacritic charater. Once you are in that field press the key you want to trigger it. The \\\"description\\\" field is a short description of this diacritic mark, like \\\"acute e\\\" or \\\"umlaut u\\\", etc.. \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"home-settings-diacritics\">\n\n    <h1>Diacritics</h1>\n    <hr>\n    <h3>Your custom defined diacritics</h3>\n\n    <div class=\"current-diacritics\" v-for=\"(rule, idx) in locatStorageDiacritics\" :key=\"idx\">\n      \n\n\n      <div class=\"component-container-input-container current-diacritics-display\">\n        <div v-bind:class=\"['component-container-fake-input', 'no-lower-right-border-radius']\" style=\"background-color: #eaeaea\">\n          <form autocomplete=\"off\" >\n            <div  class=\"component-nested-container-title\">diacritic</div>\n            <input disabled :value=\"locatStorageDiacritics[idx].letter\"  autocomplete=\"off\" type=\"text\" class=\"input-nested selectable-input\">\n          </form>\n        </div>\n        <div style=\"background-color: #eaeaea\" v-bind:class=\"['component-container-fake-input', 'no-upper-border', 'no-lower-border', 'no-upper-right-border-radius', 'no-lower-right-border-radius']\">\n          <form autocomplete=\"off\" >\n            <div  class=\"component-nested-container-title\">trigger key</div>\n            <input disabled :value=\"'&quot;' +locatStorageDiacritics[idx].trigger + '&quot;'\" bfeType=\"EditLiteralComponent-nested\" autocomplete=\"off\" type=\"text\"  class=\"input-nested selectable-input\">\n          </form>\n        </div>\n        <div style=\"background-color: #eaeaea\" v-bind:class=\"['component-container-fake-input', 'no-upper-border', 'no-upper-right-border-radius']\">\n          <form autocomplete=\"off\" >\n            <div  class=\"component-nested-container-title\">description</div>\n            <input disabled :value=\"locatStorageDiacritics[idx].desc\" autocomplete=\"off\" type=\"text\"  class=\"input-nested selectable-input\">\n          </form>\n        </div>\n      </div>\n\n      <div class=\"current-diacritics-button\">\n        <button @click=\"removeExisting(locatStorageDiacritics[idx].keycode)\">Remove</button>\n      </div>\n\n\n    </div>\n\n    <hr>\n\n    <h3>Add new definition</h3>\n\n    <details>\n        <summary>Help</summary>\n        The system provided a quick menu for inserting diacritic characters into a text field. You can add another diacritic to your quick menu below. The \"diacritic\" field is the character you would like to insert into text, for example é, ü, ø, etc.. The \"trigger key\" is the key, once the diacritic quick menue is open, that will insert the diacritic charater. Once you are in that field press the key you want to trigger it. The \"description\" field is a short description of this diacritic mark, like \"acute e\" or \"umlaut u\", etc..\n    </details>    \n    \n    <div class=\"component-container-input-container\">\n\n      <div v-bind:class=\"['component-container-fake-input', 'no-lower-right-border-radius']\">\n        <form autocomplete=\"off\" >\n          <div  class=\"component-nested-container-title\">diacritic</div>\n          <input id=\"newDiacriticDiacritic\" bfeType=\"EditLiteralComponent-nested\" v-on:keydown.enter.prevent=\"\"  autocomplete=\"off\" type=\"text\" @keyup=\"nav\" v-model=\"newCutomDiacriticLetter\"  class=\"input-nested selectable-input\">\n        </form>\n      </div>\n      <div v-bind:class=\"['component-container-fake-input', 'no-upper-border', 'no-lower-border', 'no-upper-right-border-radius', 'no-lower-right-border-radius']\">\n        <form autocomplete=\"off\" >\n          <div  class=\"component-nested-container-title\">trigger key</div>\n          <input id=\"newDiacriticKey\" bfeType=\"EditLiteralComponent-nested\" v-on:keydown.enter.prevent=\"\"  autocomplete=\"off\" type=\"text\" @keyup=\"nav\" placeholder=\"(press the key you want to use to select this diacritic from the menu)\" @keypress=\"selectKeyField\" @focus=\"clearKeyField\" v-model=\"newCutomDiacriticKey\"  class=\"input-nested selectable-input\">\n        </form>\n      </div>\n      <div v-bind:class=\"['component-container-fake-input', 'no-upper-border', 'no-upper-right-border-radius']\">\n        <form autocomplete=\"off\" >\n          <div  class=\"component-nested-container-title\">description</div>\n          <input id=\"newDiacriticDesc\" bfeType=\"EditLiteralComponent-nested\" v-on:keydown.enter.prevent=\"\"  autocomplete=\"off\" type=\"text\" @keyup=\"nav\" v-model=\"newCutomDiacriticDesc\"  class=\"input-nested selectable-input\">\n        </form>\n      </div>\n\n      <button @click=\"addDiacritic\">Add</button>\n    </div>\n\n  </div>\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\n// import uiUtils from \"@/lib/uiUtils\"\n\nexport default {\n  name: \"HomeSettingsDiacriticsComponent\",\n  components: {\n      // Keypress: () => import('vue-keypress')\n      \n  },\n  props: {\n  },\n  methods: {\n\n\n    removeExisting(keycode){\n\n      let existing = this.locatStorageDiacritics\n      existing = existing.filter((d)=>{ return d.keycode != keycode })\n      localStorage.setItem('bfeDiacritics',JSON.stringify(existing))\n\n      this.locatStorageDiacritics = existing\n\n    },\n\n    addDiacritic(){\n\n      if (this.newCutomDiacriticLetter===null || this.newCutomDiacriticLetter.trim() === \"\"){\n        alert(\"Please fill out the 'diacritic' field\")\n        return false\n      }\n      if (this.newCutomDiacriticKeyCode===null || this.newCutomDiacriticKeyCode === \"\" ){\n        alert(\"Please fill out the 'trigger key' field\")\n        return false \n      }\n      if (this.newCutomDiacriticDesc===null || this.newCutomDiacriticDesc.trim() === \"\"){\n        alert(\"Please fill out the 'description' field\")\n        return false\n      }\n\n      // add\n      let bfeDiacritics = localStorage.getItem('bfeDiacritics')\n      if (bfeDiacritics === null){\n        bfeDiacritics = []\n      }else{\n        bfeDiacritics = JSON.parse(bfeDiacritics)\n      }\n\n      let newD = {letter: this.newCutomDiacriticLetter, trigger: this.newCutomDiacriticKey.replace('\"','').replace('\"',''), keycode:this.newCutomDiacriticKeyCode, desc: this.newCutomDiacriticDesc }\n\n      // make sure we don't have that keycoe in use\n\n      if (bfeDiacritics.filter((d)=>{return d.keycode == newD.keycode}).length>0){\n          alert('You are already using this trigger key, please pick a different one')\n          return false\n      }\n\n\n      bfeDiacritics.push(newD)\n\n      localStorage.setItem('bfeDiacritics',JSON.stringify(bfeDiacritics))\n\n      this.locatStorageDiacritics = bfeDiacritics\n\n      // console.log(localStorage.getItem('bfeDiacritics'))\n      this.newCutomDiacriticLetter = null\n      this.newCutomDiacriticKey = \"\"\n      this.newCutomDiacriticKeyCode = null\n      this.newCutomDiacriticDesc = null\n      document.getElementById('newDiacriticDiacritic').focus()\n\n    },\n\n    nav(event){\n\n      if (event.key == 'ArrowDown'){\n        if (event.target.id === 'newDiacriticDiacritic') document.getElementById('newDiacriticKey').focus()\n        if (event.target.id === 'newDiacriticKey') document.getElementById('newDiacriticDesc').focus()\n      }\n      if (event.key == 'ArrowUp'){\n        if (event.target.id === 'newDiacriticDesc') document.getElementById('newDiacriticKey').focus()\n        if (event.target.id === 'newDiacriticKey') document.getElementById('newDiacriticDiacritic').focus()\n      }\n      if (event.key == 'Enter' && event.target.id === 'newDiacriticDesc'){\n        this.addDiacritic()\n      }\n    \n\n    },\n\n    clearKeyField(){\n\n      this.newCutomDiacriticKey = \"\"\n      this.newCutomDiacriticKeyCode = null\n\n\n    },\n\n    selectKeyField(event){\n\n      this.newCutomDiacriticKeyCode = event.keyCode\n      // this.newCutomDiacriticKey = `\"${event.key}\" [key code: ${event.keyCode}]`\n      this.newCutomDiacriticKey = `\"${event.key}\"`\n      event.preventDefault()      \n      // console.log(event)\n      document.getElementById('newDiacriticDesc').focus()\n      return false\n    }\n\n  },\n  computed: mapState({\n    profiles: 'profiles',\n    profilesLoaded: 'profilesLoaded',\n    // isDiacritics () {\n    //   return (this.$route.fullPath===\"/settings/diacritics\" || this.$route.fullPath===\"/settings\")\n    // },\n    // cutomDiacriticsStorage(){\n\n    //   // is the local version of it empty\n    //   if (this.locatStorageDiacritics.length==0){\n    //     let bfeDiacritics = localStorage.getItem('bfeDiacritics')\n    //     if (bfeDiacritics === null){\n    //       bfeDiacritics = []\n    //     }else{\n    //       bfeDiacritics = JSON.parse(bfeDiacritics)\n    //     }\n    //   }\n\n\n    //   return JSON.parse(localStorage.getItem('bfeDiacritics'))\n    //   return locatStorageDiacritics\n    // } \n  }), \n\n  data: function() {\n    return {\n\n      newCutomDiacriticLetter: null,\n      newCutomDiacriticKey: null,\n      newCutomDiacriticDesc: null,\n      newCutomDiacriticKeyCode: null,\n\n      locatStorageDiacritics: []\n\n    }\n  },\n  created: function(){\n\n    let bfeDiacritics = localStorage.getItem('bfeDiacritics')\n    if (bfeDiacritics === null){\n      bfeDiacritics = []\n    }else{\n      bfeDiacritics = JSON.parse(bfeDiacritics)\n    }\n\n    this.locatStorageDiacritics = bfeDiacritics\n\n  },\n};\n</script>\n\n\n<style scoped>\n  \n  .current-diacritics{\n    display: flex;\n    margin-bottom: 1em;\n  }\n\n  .current-diacritics-display{\n    flex:2;\n  }\n\n  .current-diacritics-button{\n    flex:1;\n  }\n  .current-diacritics-button button{\n   margin-top: 20%;\n   margin-left: 35%;\n  }\n\n\n\n  button{\n    margin-top: 1em;\n  }\n\n  summary{\n    cursor: pointer;\n  }\n  details{\n    margin-bottom: 1em;\n  }\n  h1{\n    margin: 0;\n    font-weight: bold;\n    font-size:2em;\n  }\n\n  .input-single{\n  width: 95%;\n  border:none;\n  height: 90%;\n  font-size: 1.5em;\n  padding: 0.5em 0 0 0.1em;\n  background: none;\n}\n.input-nested{\n  width: 95%;\n  border:none;\n  font-size: 1.5em;\n  padding: 0.1em;\n  background: none;\n}\n.component-container-fake-input:focus-within {\n  /*border: solid 1px #718ec3 !important;*/\n  /*padding: 2px !important;*/\n  background-color: #dfe5f1;\n}\ninput{\n  outline:none;\n}\n\n  #home-settings-diacritics{\n    padding:2em; \n  }\n  \n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsDiacriticsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsDiacriticsComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeSettingsDiacriticsComponent.vue?vue&type=template&id=26e77543&scoped=true&\"\nimport script from \"./HomeSettingsDiacriticsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeSettingsDiacriticsComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeSettingsDiacriticsComponent.vue?vue&type=style&index=0&id=26e77543&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26e77543\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"home-settings\">\n\n\n\n      <div class=\"grid\">  \n        <aside class=\"sidebar-left\" style=\"background-color: #4b4b4b; color: #ffffff\" >\n            \n\n            <ul class=\"sidebar-menu\">\n              <p>(There is only one setting so far)</p>\n              <li v-bind:class=\"{ active: isDiacritics }\"><router-link v-bind:class=\"{ active: isDiacritics }\" to=\"/settings/diacritics\">Diacritics</router-link></li>\n\n\n            </ul>\n\n\n\n        </aside>\n      \n        <article id=\"settings-content\">\n\n          <HomeSettingsDiacriticsComponent v-if=\"isDiacritics\"></HomeSettingsDiacriticsComponent>\n\n\n\n        </article>\n\n      </div>      \n\n\n\n\n\n  </div>\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\n// import uiUtils from \"@/lib/uiUtils\"\nimport HomeSettingsDiacriticsComponent from \"@/components/HomeSettingsDiacriticsComponent.vue\";\n\nexport default {\n  name: \"HomeSettingsComponent\",\n  components: {\n      // Keypress: () => import('vue-keypress')\n      HomeSettingsDiacriticsComponent\n  },\n  props: {\n  },\n  methods: {\n\n\n\n  },\n  computed: mapState({\n    profiles: 'profiles',\n    profilesLoaded: 'profilesLoaded',\n    isDiacritics () {\n      return (this.$route.fullPath===\"/settings/diacritics\" || this.$route.fullPath===\"/settings\")\n    },\n    // assignedId (){\n\n\n    //   return uiUtils.assignID(this.structure,this.parentStructure)\n\n    // },    \n  }), \n\n  data: function() {\n    return {\n\n\n    }\n  },\n  created: function(){\n\n\n  },\n};\n</script>\n\n\n<style scoped>\n\n\n  #home-settings, .grid{\n    height: 100vh;\n    width: 100%;\n  }\n\n  .grid{\n    grid-template-columns: 20% 80%;\n  }\n\n\n  \n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeSettingsComponent.vue?vue&type=template&id=0a1e1970&scoped=true&\"\nimport script from \"./HomeSettingsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeSettingsComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeSettingsComponent.vue?vue&type=style&index=0&id=0a1e1970&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a1e1970\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-load\"}},[_vm._v(\" Nothing Here Yet \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"home-load\">\n\n    Nothing Here Yet\n\n  </div>\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\n// import uiUtils from \"@/lib/uiUtils\"\n\n// import HomeMyRecordsComponent from \"@/components/HomeMyRecordsComponent.vue\";\n\nexport default {\n  name: \"HomeMyRecordsComponent\",\n  components: {\n      // Keypress: () => import('vue-keypress')\n  },\n  props: {\n  },\n  methods: {\n\n\n  },\n  computed: mapState({\n    activeProfile: 'activeProfile',\n    startingPoints: 'startingPoints',\n    profiles: 'profiles',\n    profilesLoaded: 'profilesLoaded',\n    // to access local state with `this`, a normal function must be used\n   \n    // assignedId (){\n\n\n    //   return uiUtils.assignID(this.structure,this.parentStructure)\n\n    // },    \n  }), \n\n  data: function() {\n    return {\n\n    }\n  },\n  created: function(){\n\n\n  },\n};\n</script>\n\n\n<style scoped>\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeMyRecordsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeMyRecordsComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeMyRecordsComponent.vue?vue&type=template&id=37a1778c&scoped=true&\"\nimport script from \"./HomeMyRecordsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeMyRecordsComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37a1778c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-load\"}},[_vm._v(\" Nothing Here Yet \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"home-load\">\n\n    Nothing Here Yet\n\n  </div>\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\n// import uiUtils from \"@/lib/uiUtils\"\n\n// import HomeAllRecordsComponent from \"@/components/HomeAllRecordsComponent.vue\";\n\nexport default {\n  name: \"HomeAllRecordsComponent\",\n  components: {\n      // Keypress: () => import('vue-keypress')\n  },\n  props: {\n  },\n  methods: {\n\n\n  },\n  computed: mapState({\n    activeProfile: 'activeProfile',\n    startingPoints: 'startingPoints',\n    profiles: 'profiles',\n    profilesLoaded: 'profilesLoaded',\n    // to access local state with `this`, a normal function must be used\n   \n    // assignedId (){\n\n\n    //   return uiUtils.assignID(this.structure,this.parentStructure)\n\n    // },    \n  }), \n\n  data: function() {\n    return {\n\n    }\n  },\n  created: function(){\n\n\n  },\n};\n</script>\n\n\n<style scoped>\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeAllRecordsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeAllRecordsComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeAllRecordsComponent.vue?vue&type=template&id=292d3752&scoped=true&\"\nimport script from \"./HomeAllRecordsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeAllRecordsComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"292d3752\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\n\n\n    <div id=\"home\">\n\n\n       <Keypress key-event=\"keydown\" :key-code=\"40\" @success=\"moveDown\" />\n\n       <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 77, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"navRoute\" />\n       <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 69, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"navRoute\" />\n       <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 78, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"navRoute\" />\n       <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 79, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"navRoute\" />\n       <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 73, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"navRoute\" />\n\n      <div class=\"grid\">  \n        <aside class=\"sidebar-left\" style=\"background-color: #2a2a2a; color: #ffffff\" >\n                  \n          <svg viewBox=\"0 0 125 70\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12.0698 1.26944C10.5984 1.29437 8.02988 1.29437 7.48125 1.29437C6.9825 1.29437 3.56606 1.26944 2.76806 1.26944C2.21944 1.26944 1.74563 1.2445 1.24688 0.571186H1.07231L0 3.93775L0.29925 4.16219C1.04738 2.94025 2.26931 2.01756 3.96506 2.01756H6.1845C6.384 2.01756 6.48375 2.16719 6.48375 2.36669V17.8778L5.43638 18.6509V19H9.52613V18.6509L8.40394 17.8778V2.36669C8.40394 2.16719 8.50369 2.01756 8.70319 2.01756H9.99994C10.9476 2.01756 12.6932 1.89287 14.6882 3.96269L14.9376 3.71331L13.7655 0.571186H13.5909C13.0922 1.2445 12.6184 1.26944 12.0698 1.26944Z\" fill=\"white\"/>\n            <path d=\"M31.5867 19V18.8254L30.4395 17.9028V2.34175L31.437 1.61856V1.29437H27.4969L27.472 1.46894L28.4944 2.34175V9.17462H20.2401V2.34175L21.2376 1.61856V1.29437H17.2975L17.2725 1.46894L18.295 2.34175V17.9776L17.1728 18.8254V19H21.3872V18.8254L20.2401 17.9028V10.0474H28.4944V17.9776L27.3722 18.8254V19H31.5867Z\" fill=\"white\"/>\n            <path d=\"M39.2129 2.06744L42.4547 1.96769C44.9984 1.96769 45.6717 2.21706 47.143 4.16219L47.4422 4.06244L46.7939 1.29437H36.0707V1.49387L37.2677 2.51631V17.9526L36.37 18.7506V19H46.6941C46.8687 19 47.0183 18.9252 47.0682 18.7257C47.3175 17.5786 47.4173 17.404 47.9659 16.0574L47.542 15.8579C46.2203 17.9277 44.9235 18.3516 42.8537 18.3516C41.2577 18.3516 41.0084 18.3267 40.3849 18.2768C39.7615 18.2269 39.2627 17.8778 39.2378 17.1546V10.0474H45.0732L45.8961 12.1172H46.2203V6.98012H45.8462L45.0981 9.19956H39.2378L39.2129 2.06744Z\" fill=\"white\"/>\n            <path d=\"M7.75556 44C11.7705 44 14.8129 42.2793 14.8129 39.1871C14.8129 36.3941 12.4937 34.9976 10.374 34.3991V34.2494C11.9949 33.7257 13.6408 32.6285 13.6408 30.5337C13.6408 27.8156 10.9476 26.2944 7.75556 26.2944H2.24437V26.5437L3.34162 27.5662V42.8529L2.31919 43.7007V44H7.75556ZM6.50869 43.2269H5.28675V34.9477H5.86031C8.00494 34.9477 12.5685 35.0724 12.5685 39.1621C12.4438 43.1771 8.5785 43.2269 6.50869 43.2269ZM5.28675 34.1996V27.0674H6.63338C8.35406 27.0674 11.4713 27.1173 11.4713 30.5587C11.4713 34.0749 7.83038 34.1996 5.985 34.1996H5.28675Z\" fill=\"white\"/>\n            <path d=\"M22.1422 44V43.8254L20.995 42.9027V27.3417L21.9925 26.6186V26.2944H18.0524L18.0275 26.4689L19.0499 27.3417V42.9776L17.9277 43.8254V44H22.1422Z\" fill=\"white\"/>\n            <path d=\"M32.1329 44C36.1479 44 39.1903 42.2793 39.1903 39.1871C39.1903 36.3941 36.8711 34.9976 34.7514 34.3991V34.2494C36.3723 33.7257 38.0182 32.6285 38.0182 30.5337C38.0182 27.8156 35.3249 26.2944 32.1329 26.2944H26.6218V26.5437L27.719 27.5662V42.8529L26.6966 43.7007V44H32.1329ZM30.8861 43.2269H29.6641V34.9477H30.2377C32.3823 34.9477 36.9459 35.0724 36.9459 39.1621C36.8212 43.1771 32.9559 43.2269 30.8861 43.2269ZM29.6641 34.1996V27.0674H31.0108C32.7314 27.0674 35.8486 27.1173 35.8486 30.5587C35.8486 34.0749 32.2078 34.1996 30.3624 34.1996H29.6641Z\" fill=\"white\"/>\n            <path d=\"M46.719 44V43.7506L45.4722 42.9526V35.222H51.3574L52.2302 37.4165H52.5544L52.5045 31.9552H52.1804L51.3574 34.3492H45.4722V27.0674L49.3624 26.9677C52.9534 26.9677 53.4023 28.5886 53.8512 29.4365L54.325 29.4116L53.502 26.2944H42.4547V26.6934L43.527 27.5662V42.9277L42.3051 43.7756V44H46.719Z\" fill=\"white\"/>\n            <path d=\"M57.1379 44H61.3024V43.7007L60.1054 42.9027V35.2719H61.2027C62.9732 35.2719 63.8211 36.419 64.3697 37.3916C64.9184 38.3392 66.7139 41.7806 66.8635 42.1048C67.4869 43.4264 68.5592 44.2494 70.1054 44.2743C71.6265 44.2743 72.0505 43.8254 72.0505 43.8254L72.0006 43.6509C70.4295 43.7756 70.1303 43.3766 69.1328 41.8554C68.7837 41.3317 67.5119 38.7881 66.9882 37.7158C66.1154 36.02 64.9433 35.1971 64.9433 35.1971V35.0474C66.8136 34.5736 69.5069 33.4764 69.5069 30.6834C69.5069 27.8654 66.664 26.2944 63.073 26.2944H57.063V26.5437L58.1603 27.5662V42.8529L57.1379 43.7007V44ZM60.1054 34.4489V27.0674H61.9508C63.8211 27.0674 67.2625 27.1173 67.2625 30.7083C67.2625 34.3492 63.2725 34.4489 61.3024 34.4489H60.1054Z\" fill=\"white\"/>\n            <path d=\"M77.3049 37.1671L79.7238 29.8355L82.7911 37.1671H77.3049ZM74.6615 41.7556C74.3373 42.7033 74.0879 43.4015 73.0406 43.7756V44H76.2326V43.8254L75.26 43.2269L77.0056 37.9901H83.1901L85.4844 43.1022L84.462 43.7506L84.4869 44H88.6265V43.7007C88.1527 43.6259 87.4295 42.9277 87.0056 41.9053L80.2974 26.1946H80.0979C79.8734 26.7183 79.4994 27.5163 78.7762 28.1148L79.0256 28.7632L74.6615 41.7556Z\" fill=\"white\"/>\n            <path d=\"M105.348 26.2944L99.5873 37.4913L99.4128 37.1671L93.5774 26.0201L91.1086 26.2694V26.4191L91.9564 27.7657V43.0274L91.1335 43.7506V44H93.7519V43.8005L93.0038 43.0274V29.0624L98.8641 40.2594H99.2133L105.074 29.0375V42.9776L104.226 43.8254V44H107.916V43.8254L107.019 42.9027V27.2171L107.642 26.5188V26.2944H105.348Z\" fill=\"white\"/>\n            <path d=\"M115.535 27.0674L118.777 26.9677C121.321 26.9677 121.994 27.2171 123.465 29.1622L123.765 29.0624L123.116 26.2944H112.393V26.4939L113.59 27.5163V42.9526L112.692 43.7506V44H123.016C123.191 44 123.341 43.9252 123.391 43.7257C123.64 42.5786 123.74 42.404 124.288 41.0574L123.864 40.8579C122.543 42.9277 121.246 43.3516 119.176 43.3516C117.58 43.3516 117.331 43.3267 116.707 43.2768C116.084 43.2269 115.585 42.8778 115.56 42.1546V35.0474H121.396L122.218 37.1172H122.543V31.9801H122.169L121.42 34.1996H115.56L115.535 27.0674Z\" fill=\"white\"/>\n            <path d=\"M5.3865 52.0674L8.62838 51.9677C11.172 51.9677 11.8453 52.2171 13.3166 54.1622L13.6159 54.0624L12.9675 51.2944H2.24437V51.4939L3.44138 52.5163V67.9526L2.54363 68.7506V69H12.8678C13.0423 69 13.1919 68.9252 13.2418 68.7257C13.4912 67.5786 13.5909 67.404 14.1396 66.0574L13.7156 65.8579C12.3939 67.9277 11.0972 68.3516 9.02738 68.3516C7.43137 68.3516 7.182 68.3267 6.55856 68.2768C5.93513 68.2269 5.43638 67.8778 5.41144 67.1546V60.0474H11.2468L12.0698 62.1172H12.3939V56.9801H12.0199L11.2718 59.1996H5.41144L5.3865 52.0674Z\" fill=\"white\"/>\n            <path d=\"M23.7144 69C30.1233 69 32.8914 65.2843 32.8914 60.1472C32.8914 55.0849 29.1258 51.2944 23.7144 51.2944H17.9788V51.6186L18.7269 52.242L18.7518 67.6783L17.8541 68.5012V69H23.7144ZM20.672 52.0924H23.5897C27.2056 52.0924 30.6969 54.1123 30.6969 60.2469C30.6969 66.3067 28.1034 68.202 23.6645 68.202H21.9438C21.4451 68.202 20.697 68.0524 20.697 67.1047L20.672 52.0924Z\" fill=\"white\"/>\n            <path d=\"M40.48 69V68.8254L39.3329 67.9027V52.3417L40.3304 51.6186V51.2944H36.3902L36.3653 51.4689L37.3877 52.3417V67.9776L36.2656 68.8254V69H40.48Z\" fill=\"white\"/>\n            <path d=\"M54.785 51.2694C53.3136 51.2944 50.7451 51.2944 50.1965 51.2944C49.6977 51.2944 46.2813 51.2694 45.4833 51.2694C44.9346 51.2694 44.4608 51.2445 43.9621 50.5712H43.7875L42.7152 53.9377L43.0145 54.1622C43.7626 52.9402 44.9845 52.0176 46.6803 52.0176H48.8997C49.0992 52.0176 49.199 52.1672 49.199 52.3667V67.8778L48.1516 68.6509V69H52.2413V68.6509L51.1191 67.8778V52.3667C51.1191 52.1672 51.2189 52.0176 51.4184 52.0176H52.7151C53.6628 52.0176 55.4084 51.8929 57.4034 53.9627L57.6528 53.7133L56.4807 50.5712H56.3061C55.8074 51.2445 55.3336 51.2694 54.785 51.2694Z\" fill=\"white\"/>\n            <path d=\"M67.3751 50.9203C62.2629 50.9203 58.3477 55.1098 58.3477 60.1971C58.3477 65.5586 62.238 69.3741 67.6245 69.3741C72.7366 69.3741 76.6518 65.1846 76.6518 60.0973C76.6518 54.7358 72.7616 50.9203 67.3751 50.9203ZM67.7491 68.5761C63.6843 68.5761 60.5422 65.1596 60.5422 59.9477C60.5422 55.0101 63.3601 51.7183 67.2504 51.7183C71.3152 51.7183 74.4573 55.1347 74.4573 60.3467C74.4573 65.2843 71.6394 68.5761 67.7491 68.5761Z\" fill=\"white\"/>\n            <path d=\"M79.9079 69H84.0725V68.7007L82.8755 67.9027V60.2719H83.9727C85.7433 60.2719 86.5912 61.419 87.1398 62.3916C87.6884 63.3392 89.4839 66.7806 89.6336 67.1047C90.257 68.4264 91.3293 69.2494 92.8754 69.2743C94.3966 69.2743 94.8206 68.8254 94.8206 68.8254L94.7707 68.6509C93.1996 68.7756 92.9004 68.3766 91.9029 66.8554C91.5537 66.3317 90.2819 63.7881 89.7582 62.7158C88.8854 61.02 87.7134 60.1971 87.7134 60.1971V60.0474C89.5837 59.5736 92.2769 58.4764 92.2769 55.6834C92.2769 52.8654 89.4341 51.2944 85.8431 51.2944H79.8331V51.5437L80.9304 52.5662V67.8529L79.9079 68.7007V69ZM82.8755 59.4489V52.0674H84.7209C86.5912 52.0674 90.0326 52.1173 90.0326 55.7083C90.0326 59.3492 86.0426 59.4489 84.0725 59.4489H82.8755Z\" fill=\"white\"/>\n            </svg>\n\n              <ul class=\"sidebar-menu\">\n                <li v-bind:class=\"{ active: isMyRecords }\"><router-link v-bind:class=\"{ active: isMyRecords }\" to=\"/myrecords\">My records</router-link><span v-bind:class=\"{ active: isMyRecords }\">CTRL+M</span></li>\n                <li v-bind:class=\"{ active: isAllRecords }\"><router-link v-bind:class=\"{ active: isAllRecords }\" to=\"/allrecords\">Everyone's records</router-link><span v-bind:class=\"{ active: isAllRecords }\">CTRL+E</span></li>\n                <li v-bind:class=\"{ active: isNew }\"><router-link v-bind:class=\"{ active: isNew }\" to=\"/new\">Create new record</router-link><span v-bind:class=\"{ active: isNew }\">CTRL+N</span></li>\n                <li v-bind:class=\"{ active: isLoad }\"><router-link v-bind:class=\"{ active: isLoad }\" to=\"/load\">Load existing record</router-link><span v-bind:class=\"{ active: isLoad }\">CTRL+O</span></li>\n                <li v-bind:class=\"{ active: isSettings }\"><router-link v-bind:class=\"{ active: isSettings }\" to=\"/settings\">Settings</router-link><span v-bind:class=\"{ active: isSettings }\">CTRL+I</span></li>\n\n              </ul>\n\n\n\n        </aside>\n      \n        <article id=\"home-content\">\n\n\n        <HomeNewComponent v-if=\"isNew\"></HomeNewComponent>\n        <HomeLoadComponent v-if=\"isLoad\"></HomeLoadComponent>\n        <HomeSettingsComponent v-if=\"isSettings\"></HomeSettingsComponent>\n        <HomeMyRecordsComponent v-if=\"isMyRecords\"></HomeMyRecordsComponent>\n        <HomeAllRecordsComponent v-if=\"isAllRecords\"></HomeAllRecordsComponent>\n\n\n\n        </article>\n\n      </div>      \n\n\n\n    </div>\n\n</template>\n\n<script>\n// @ is an alias to /src\nimport HomeNewComponent from \"@/components/HomeNewComponent.vue\";\nimport HomeLoadComponent from \"@/components/HomeLoadComponent.vue\";\nimport HomeSettingsComponent from \"@/components/HomeSettingsComponent.vue\";\n\nimport HomeMyRecordsComponent from \"@/components/HomeMyRecordsComponent.vue\";\nimport HomeAllRecordsComponent from \"@/components/HomeAllRecordsComponent.vue\";\n\n\n\nimport { mapState } from 'vuex'\n\n\n\nexport default {\n  name: \"Home\",\n  components: {\n    HomeNewComponent,\n    HomeLoadComponent,\n    HomeSettingsComponent,\n    HomeMyRecordsComponent,\n    HomeAllRecordsComponent,\n    Keypress: () => import('vue-keypress')\n\n  },\n  data: function() {\n    return {\n\n      activeTemplate: null\n\n\n\n    }\n  },\n\n\n  methods: {\n\n\n    moveDown(){\n\n\n      console.log('home press')\n    },\n\n\n    navRoute(event){\n\n      if (event.event.keyCode == 77 && this.$route.fullPath!=\"/myrecords\"){\n        this.$router.push({ path: '/myrecords' })\n      }\n\n      if (event.event.keyCode == 69 && this.$route.fullPath!=\"/allrecords\"){\n        this.$router.push({ path: '/allrecords' })\n      }\n\n\n      if (event.event.keyCode == 78 && this.$route.fullPath!=\"/new\"){\n        this.$router.push({ path: '/new' })\n      }\n\n\n      if (event.event.keyCode == 79 && this.$route.fullPath!=\"/load\"){\n        this.$router.push({ path: '/load' })\n      }\n \n\n      if (event.event.keyCode == 73 && this.$route.fullPath!=\"/settings\"){\n        this.$router.push({ path: '/settings' })\n      }\n\n\n    }\n\n\n  },\n  computed: mapState({\n    profilesLoaded: 'profilesLoaded',\n    startingPoints: 'startingPoints',\n\n    // to access local state with `this`, a normal function must be used\n    isMyRecords () {\n      return (this.$route.fullPath===\"/myrecords\")\n    },\n\n    isAllRecords () {\n      return (this.$route.fullPath===\"/allrecords\")\n    },\n\n    isNew () {\n      // the default view\n      if (this.$route.fullPath===\"/new\" || this.$route.fullPath===\"/\"){\n        return true      \n      }else{\n        return false\n      }\n\n    },\n\n    isLoad () {\n      return (this.$route.fullPath===\"/load\")\n    },\n\n\n    isSettings () {\n      return (this.$route.fullPath.startsWith('/settings'))\n    }\n\n\n\n  }),\n  created: function () {\n    // kick off the fetching of profiles on load\n    this.$store.dispatch(\"fetchProfiles\", { self: this })    \n    console.log(this.$route)\n\n  },\n\n  beforeCreate: function() {\n      document.body.classList.add('height-100');\n      console.log(document.getElementById('app'))\n      document.getElementById('app').classList.add('height-100')\n  }  \n};\n</script>\n\n\n\n<style scoped>\n  \n\n  .sidebar-left svg{\n    width: 55%;\n    padding: 1.25em;\n  }\n\n  body{\n    background-color: rgb(42, 42, 42);\n  }\n  #home{\n    height: 100%;\n    background-color: rgb(42, 42, 42);\n  }\n\n  #home-content{\n    background-color: white;\n    min-height: 100vh;\n  }\n\n  .grid{\n    grid-template-columns: 25% 75%;\n    height: 100%;\n  }\n\n \n\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=78259126&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=78259126&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78259126\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grid\"},[_c('header',[_c('div',{staticStyle:{\"display\":\"none\"}},[_vm._v(\"loaded profile -- \"+_vm._s(_vm.profilesLoaded)+\" \")])]),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":40},on:{\"success\":_vm.moveDown}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":38},on:{\"success\":_vm.moveUp}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":34},on:{\"success\":_vm.movePageDown}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":33},on:{\"success\":_vm.movePageUp}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 187, modifiers: ['ctrlKey'],preventDefault: true}]},on:{\"success\":_vm.dupeProperty}}),_c('aside',{staticClass:\"sidebar-left\",staticStyle:{\"background-color\":\"#2a2a2a\",\"color\":\"#ffffff\"},attrs:{\"id\":\"edit-left-menu\"}},[(_vm.profilesLoaded)?_c('div',{ref:\"editLeftMenuFixed\",staticStyle:{\"height\":\"100vh\",\"overflow-y\":\"scroll\",\"position\":\"fixed\",\"width\":\"20%\"},attrs:{\"id\":\"edit-left-menu-fixed\"}},_vm._l((_vm.activeProfile.rtOrder),function(profileName){return _c('div',{key:profileName},[_c('div',[_c('div',{staticClass:\"container-type-icon\",staticStyle:{\"color\":\"#ffffff\"}},[_c('div',[(profileName.split(':').slice(-1)[0] == 'Work')?_c('svg',{attrs:{\"width\":\"1.5em\",\"height\":\"1.1em\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"fill\":\"#7badad\",\"cx\":\"0.55em\",\"cy\":\"0.6em\",\"r\":\"0.45em\"}})]):_vm._e(),(profileName.split(':').slice(-1)[0] == 'Instance')?_c('div',{staticClass:\"temp-icon-instance\",staticStyle:{\"height\":\"1em\",\"width\":\"1em\",\"display\":\"inline-block\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(profileName.split(':').slice(-1)[0]))])])]),_c('ul',{key:'leftmenu' + _vm.activeEditCounter,staticStyle:{\"padding-left\":\"0\"}},_vm._l((_vm.activeProfile.rt[profileName].ptOrder),function(profileCompoent){return _c('li',{key:profileCompoent,class:['left-menu-list-item', { 'left-menu-list-item-has-data' :  _vm.liHasData(_vm.activeProfile.rt[profileName].pt[profileCompoent]) && _vm.returnOpacFormat(_vm.activeProfile.rt[profileName].pt[profileCompoent].userValue) != '', 'left-menu-list-item-active':(_vm.activeComponent==profileCompoent &&_vm.activeProfileName==profileName)}],attrs:{\"id\":'menu'+profileCompoent}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.scrollFieldContainerIntoView($event,profileCompoent.replace(/\\(|\\)|\\s|\\/|:|\\.|\\|/g,'_'))}}},[_vm._v(_vm._s(_vm.activeProfile.rt[profileName].pt[profileCompoent].propertyLabel))])])}),0)])])}),0):_vm._e()]),_c('article',[(_vm.profilesLoaded)?_c('div',_vm._l((_vm.activeProfile.rtOrder),function(profileName){return _c('div',{key:profileName},[_c('div',{class:['container-' + profileName.split(':').slice(-1)[0]]},[_c('div',{staticClass:\"container-type-icon\"},[_c('div',[_vm._v(_vm._s(profileName.split(':').slice(-1)[0]))]),_c('div',[(profileName.split(':').slice(-1)[0] == 'Work')?_c('svg',{attrs:{\"width\":\"3em\",\"height\":\"2.5em\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"fill\":\"#7badad\",\"cx\":\"1.5em\",\"cy\":\"1em\",\"r\":\"0.75em\"}})]):_vm._e(),(profileName.split(':').slice(-1)[0] == 'Instance')?_c('div',{staticClass:\"temp-icon-instance\",staticStyle:{\"height\":\"1.75em\",\"width\":\"2em\",\"margin-left\":\"1.5em\"}}):_vm._e()])]),_vm._l((_vm.activeProfile.rt[profileName].ptOrder),function(profileCompoent){return _c('div',{key:profileCompoent,attrs:{\"id\":'container-for-'+profileCompoent.replace(/\\(|\\)|\\s|\\/|:|\\.|\\|/g,'_')}},[_c('EditMainComponent',{staticClass:\"component\",attrs:{\"activeTemplate\":_vm.activeProfile.rt[profileName].pt[profileCompoent],\"profileName\":profileName,\"profileCompoent\":profileCompoent,\"topLevelComponent\":true,\"parentStructure\":_vm.activeProfile.rtOrder,\"structure\":_vm.activeProfile.rt[profileName].pt[profileCompoent]}})],1)}),(_vm.activeProfile.rt[profileName].unusedXml)?_c('div',{staticStyle:{\"background-color\":\"#fde4b7\",\"overflow-x\":\"hidden\"}},[_c('h3',[_vm._v(\"There was some XML that could not be loaded into this profile (\"+_vm._s(profileName)+\"):\")]),_c('code',[_c('pre',[_vm._v(_vm._s(_vm.prettifyXml(_vm.activeProfile.rt[profileName].unusedXml)))])])]):_vm._e()],2)])}),0):_vm._e()]),_c('aside',{key:_vm.activeEditCounter,staticClass:\"sidebar-right\",staticStyle:{\"background-color\":\"white\"}},[(_vm.profilesLoaded)?_c('div',{ref:\"editRightMenuFixed\",staticStyle:{\"height\":\"100vh\",\"overflow-y\":\"scroll\",\"position\":\"fixed\",\"width\":\"100%\"}},[_vm._l((_vm.activeProfile.rtOrder),function(profileName){return _c('div',{key:profileName},[_c('div',{staticClass:\"container-type-icon\",staticStyle:{\"color\":\"#2c3e50\"}},[_c('div',[(profileName.split(':').slice(-1)[0] == 'Work')?_c('div',[(profileName.split(':').slice(-1)[0] == 'Work')?_c('svg',{attrs:{\"width\":\"1.5em\",\"height\":\"1.1em\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"fill\":\"#7badad\",\"cx\":\"0.55em\",\"cy\":\"0.6em\",\"r\":\"0.45em\"}})]):_vm._e(),_c('span',[_vm._v(\"Work\")])]):_vm._e()])]),_c('div',{staticStyle:{\"margin-left\":\"1%\",\"border-left\":\"1px solid rgba(44, 62, 80, 0.25)\",\"padding-left\":\"0.2em\"}},_vm._l((_vm.activeProfile.rt[profileName].ptOrder),function(profileCompoent){return _c('div',{key:profileCompoent},[(Object.keys(_vm.activeProfile.rt[profileName].pt[profileCompoent].userValue).length>0 && _vm.returnOpacFormat(_vm.activeProfile.rt[profileName].pt[profileCompoent].userValue) != '')?_c('div',{class:[ {'opac-field-active':(_vm.activeComponent==profileCompoent &&_vm.activeProfileName==profileName)}],staticStyle:{\"margin-bottom\":\"1em\"}},[_c('span',{staticClass:\"opac-field-title\"},[_vm._v(_vm._s(_vm.activeProfile.rt[profileName].pt[profileCompoent].propertyLabel))]),_c('div',{staticClass:\"opac-field-value\"},[_vm._v(_vm._s(_vm.returnOpacFormat(_vm.activeProfile.rt[profileName].pt[profileCompoent].userValue)))])]):_vm._e()])}),0)])}),_c('button',{on:{\"click\":_vm.triggerXMLExport}},[_vm._v(\"EXPORT\")])],2):_vm._e()]),_c('footer',{staticStyle:{\"display\":\"none\"}},[_vm._v(\" Footer \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// import store from \"../store\";\n\n\n\nconst exportXML = {\n\n\n\ttoBFXML: function(profile){\n\n\n\n\n\n\t\treturn profile\n\n\t}\n\n\n\n\n\n\n\n\n\t// data: {\t\t\n\t// \twork: [],\n\t// \tinstance: [],\n\t// \titem:[]\n\t// },\n\n\n\t// namespace: {\n\t// \t'bf':'http://id.loc.gov/ontologies/bibframe/',\n\t// \t'bflc': 'http://id.loc.gov/ontologies/bflc/',\n\t// \t'madsrdf': 'http://www.loc.gov/mads/rdf/v1#',\n\t// \t'rdf' : 'http://www.w3.org/1999/02/22-rdf-syntax-ns#'\n\t// },\n\n\n\t// isClass: function(uri){\n\n\t// \tif (uri.match(/bf:[A-Z]/)){\n\t// \t\treturn true\n\t// \t}\n\n\n\t// \treturn false\n\n\t// },\n\n\t// namespaceUri: function(uri){\t\n\t// \tfor (let ns in this.namespace){\n\t// \t\tlet nsuri = this.namespace[ns]\n\t// \t\tif (uri.includes(nsuri)){\n\t// \t\t\treturn uri.replace(nsuri,`${ns}:`)\n\t// \t\t}\n\n\t// \t}\n\n\n\t// },\n\n\t// UriNamespace: function(passedNS){\n\n\t// \tfor (let ns in this.namespace){\n\t// \t\tlet nsuri = this.namespace[ns]\n\n\t// \t\tif (passedNS.includes(ns)){\n\t// \t\t\treturn passedNS.replace(`${ns}:`,nsuri)\n\t// \t\t}\n\n\t// \t}\n\n\t// },\n\n\t// returnOneWhereParentIs: function(selection, requiredParent){\n\n\t// \t// console.log(selection, requiredParent)\n\t// \t// console.log('-----',)\n\n\n\t// \tif (selection.length == 1){\n\t// \t\treturn selection[0]\n\t// \t}\n\t// \tconsole.log('here')\n\t// \tfor (let el of selection){\n\t// \t\tif (el.parentNode.tagName === requiredParent){\n\t// \t\t\treturn el\n\t// \t\t}\n\t// \t}\n\n\t// \treturn false\n\n\t// },\n\n\t// activeDom: null,\n\n\n\t// specialTransforms: {\n\n\n\t// \t'bf:subject' : function(xml,profile){\n\n\t// \t\t//   <bf:subject>\n\t// \t\t//      <bf:Place>\n\t// \t\t//        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t//        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Skye, Island of (Scotland)--Fiction.</rdfs:label>\n\t// \t\t//        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Skye, Island of (Scotland)--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t//        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t//        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t//          <madsrdf:Geographic>\n\t// \t\t//            <madsrdf:authoritativeLabel>Skye, Island of (Scotland)</madsrdf:authoritativeLabel>\n\t// \t\t//          </madsrdf:Geographic>\n\t// \t\t//          <madsrdf:GenreForm>\n\t// \t\t//            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t//          </madsrdf:GenreForm>\n\t// \t\t//        </madsrdf:componentList>\n\t// \t\t//        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">skyeislandof(scotland)fiction</bflc:aap-normalized>\n\t// \t\t//      </bf:Place>\n\t// \t\t//    </bf:subject>\n\n\n\t// \t\t// grab the label and uri and type\n\t// \t\tlet typeNode = xml.children[0]\n\t// \t\tif (!typeNode){\n\t// \t\t\tconsole.error('xml.children[0] for this subject does not exist')\n\t// \t\t\treturn profile\n\t// \t\t}\n\n\t// \t\tprofile.userValue['@type'] = this.UriNamespace(typeNode.tagName)\n\t// \t\tprofile.userValue['URI'] = null\n\t// \t\tlet label = null\n\n\t// \t\tif (typeNode.attributes && typeNode.attributes['rdf:about']){\n\t// \t\t\tprofile.userValue['URI'] = typeNode.attributes['rdf:about'].value\n\t// \t\t}\n\n\t// \t\tif (typeNode.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t// \t\t\tlabel = typeNode.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t// \t\t}\n\t// \t\tlet componentList = []\n\n\t\t\t\n\t// \t\tprofile.userValue['literal'] = label\n\n\t// \t\tif (typeNode.getElementsByTagName('madsrdf:componentList').length>0){\n\n\t// \t\t\tfor (let child of typeNode.getElementsByTagName('madsrdf:componentList')[0].children){\n\n\t// \t\t\t\tlet ctype = this.UriNamespace(child.tagName)\n\t// \t\t\t\tlet clabel = null\n\t// \t\t\t\tif (child.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t// \t\t\t\t\tclabel = child.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t// \t\t\t\t}\n\n\t// \t\t\t\tcomponentList.push({'literal':clabel, '@type':ctype})\n\n\n\t// \t\t\t}\n\n\t// \t\t}\n\t// \t\tprofile.userValue['http://www.loc.gov/mads/rdf/v1#componentList'] = componentList\n\n\n\t// \t\t// console.log('###################')\n\t// \t\t// console.log(profile.userValue)\n\t// \t\t// console.log('###################')\n\n\t// \t\treturn profile\n\n\n\t// \t},\n\n\t// \t'bf:contribution' : function(xml,profile){\n\n\n\t// \t\t// <bf:contribution>\n\t// \t\t//   <bf:Contribution>\n\t// \t\t//     <bf:agent>\n\t// \t\t//       <bf:Agent rdf:about=\"http://id.loc.gov/rwo/agents/n87899079\">\n\t// \t\t//         <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Person\"/>\n\t// \t\t//         <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Kemp, Sandra.</rdfs:label>\n\t// \t\t//         <madsrdf:isIdentifiedByAuthority rdf:resource=\"http://id.loc.gov/authorities/names/n87899079\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t//       </bf:Agent>\n\t// \t\t//     </bf:agent>\n\t// \t\t//     <bf:role>\n\t// \t\t//       <bf:Role rdf:about=\"http://id.loc.gov/vocabulary/relators/ctb\">\n\t// \t\t//         <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Contributor</rdfs:label>\n\t// \t\t//       </bf:Role>\n\t// \t\t//     </bf:role>\n\t// \t\t//   </bf:Contribution>\n\t// \t\t// </bf:contribution>\n\n\n\t// \t\t// grab the label and uri and type\n\n\t// \t\tlet typeNode = xml.getElementsByTagName(\"bf:agent\")[0].children[0]\n\n\t// \t\tif (!typeNode){\n\t// \t\t\tconsole.error('xml.children[0] for this subject does not exist')\n\t// \t\t\treturn profile\n\t// \t\t}\n\n\t// \t\t// console.log(this)\n\n\t// \t\tprofile.userValue['@type'] = this.UriNamespace(typeNode.tagName)\n\t// \t\tprofile.userValue['URI'] = null\n\t// \t\tlet label = null\n\n\t// \t\tif (typeNode.getElementsByTagName('rdf:type').length>0){\n\t// \t\t\tprofile.userValue['@type'] = typeNode.getElementsByTagName('rdf:type')[0].attributes['rdf:resource'].value\n\t// \t\t}\n\n\t// \t\tif (typeNode.attributes && typeNode.attributes['rdf:about']){\n\t// \t\t\tprofile.userValue['URI'] = typeNode.attributes['rdf:about'].value\n\t// \t\t}\n\n\t// \t\tif (typeNode.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t// \t\t\tlabel = typeNode.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t// \t\t}else if (typeNode.getElementsByTagName('rdfs:label').length>0){\n\t// \t\t\tlabel = typeNode.getElementsByTagName('rdfs:label')[0].innerHTML\n\t// \t\t}\n\n\t// \t\tprofile.userValue['literal'] = label\n\n\n\n\t// \t\tif (xml.getElementsByTagName('bf:Role').length>0){\n\t// \t\t\tlet role = xml.getElementsByTagName('bf:Role')[0]\n\n\t// \t\t\tlet roleuri = null\n\t// \t\t\tlet rolelabel = null\n\t// \t\t\tif (role.attributes && role.attributes['rdf:about']){\n\t// \t\t\t\troleuri = role.attributes['rdf:about'].value\n\t// \t\t\t}\n\n\t// \t\t\tif (role.getElementsByTagName('rdfs:label').length>0){\n\t// \t\t\t\trolelabel= role.getElementsByTagName('rdfs:label')[0].innerHTML\n\t// \t\t\t}\n\n\t// \t\t\tprofile.userValue['http://id.loc.gov/ontologies/bibframe/role'] = {'URI':roleuri, 'literal': rolelabel}\n\n\n\t// \t\t}\n\n\t\t\t\n\n\n\n\t// \t\t// console.log('#########specialTransformContribution##########')\n\t// \t\t// console.log(profile.userValue)\n\t// \t\t// console.log('#########specialTransformContribution##########')\n\n\t// \t\treturn profile\n\n\n\t// \t}\n\n\n\n\t// },\n\n\n\t// transform: function(profile){\n\n\n\n\t// \tconsole.log(profile)\n\n\t// \tfor (const pkey in profile.rt) {\n\n\t// \t\tlet tle = \"\"\t\t\t\n\t// \t\tif (pkey.endsWith(':Work')){\n\t// \t\t\ttle = \"bf:Work\"\n\t// \t\t}else if (pkey.endsWith(':Instance')){\n\t// \t\t\ttle = \"bf:Instance\"\n\t// \t\t}else if (pkey.endsWith(':Item')){\n\t// \t\t\ttle = \"bf:Item\"\n\t// \t\t}\n\n\t// \t\t// select the right part of the profile\n\t// \t\tlet pt = profile.rt[pkey].pt\n\t\t\t\n\t// \t\t// select the right part of the XML\n\t// \t\tlet xml = this.activeDom.getElementsByTagName(tle)\n\n\t// \t\t// only return the top level, no nested related things\n\t// \t\txml = this.returnOneWhereParentIs(xml, \"rdf:RDF\")\n\n\t// \t\tif (!xml){\n\t// \t\t\tconsole.warn('Could not find the requested XML fragment, looking for ', tle)\n\t// \t\t\tcontinue\n\t// \t\t}\n\n\t// \t\t// remove some things we will want to work with later but are just too complicated right now\n\t// \t\tlet adminMetadata = xml.getElementsByTagName('bf:adminMetadata')\n\t// \t\tlet adminMetadataData = Array.prototype.slice.call( adminMetadata )\n\t// \t\tfor (let item of adminMetadata) {\n\t// \t\t\titem.parentNode.removeChild(item)\n\t// \t\t}\n\n\t// \t\tlet hasSeries = xml.getElementsByTagName('bf:hasSeries')\n\t// \t\tlet hasSeriesData = Array.prototype.slice.call( hasSeries )\n\t// \t\tfor (let item of hasSeries) {\n\t// \t\t\titem.parentNode.removeChild(item)\n\t// \t\t}\n\n\t// \t\tlet sucessfulProperties  = []\n\n\t// \t\t// at this point we have the main piece of the xml tree that has all our data\n\t// \t\t// loop through properties we are looking for and build out the the profile\n\n\t// \t\tfor (let k in pt){\n\t// \t\t\t// console.log(pt[k])\n\t// \t\t\t// console.log(pt[k].propertyURI)\n\t// \t\t\tlet propertyURI = pt[k].propertyURI\n\t// \t\t\tlet prefixURI = this.namespaceUri(propertyURI)\n\n\t// \t\t\t// see if we have that specific propertry in the xml\n\t// \t\t\tlet el = xml.getElementsByTagName(prefixURI)\n\n\t// \t\t\t// console.log(prefixURI)\n\t// \t\t\t// console.log(el)\n\t// \t\t\t// console.log('******')\n\n\t// \t\t\tif (el.length>0){\n\t// \t\t\t\t// we have that element\n\t// \t\t\t\tsucessfulProperties.push(prefixURI)\n\t// \t\t\t\t// loop through all of them\n\t// \t\t\t\tlet counter = 0\n\t// \t\t\t\tfor (let e of el){\n\t// \t\t\t\t\t// console.log(e,counter, e.children[0].tagName)\n\n\t// \t\t\t\t\t// start populating the data\n\t// \t\t\t\t\tlet populateData = null\n\t// \t\t\t\t\tpopulateData = JSON.parse(JSON.stringify(pt[k]))\n\t// \t\t\t\t\t// save the source xml for later display\n\t// \t\t\t\t\tpopulateData.xmlSource = e.outerHTML\n\n\t// \t\t\t\t\t// console.log(\"----------DOING NOW-------------\")\n\t// \t\t\t\t\t// console.log(e.outerHTML)\n\n\n\t// \t\t\t\t\t// we have some special functions to deal with tricky elements\n\t// \t\t\t\t\tif (this.specialTransforms[prefixURI]){\n\t// \t\t\t\t\t\t// make sure to pass the current 'this' context to the functions that use helper functions at this level like this.UriNamespace\n\t// \t\t\t\t\t\tpopulateData = this.specialTransforms[prefixURI].call(this,e,populateData)\t\t\t\t\t\n\t// \t\t\t\t\t}else{\n\n\n\t// \t\t\t\t\t\tfor (let child of e.children){\n\t// \t\t\t\t\t\t\t// console.log(child.tagName,\"~~~~\",this.isClass(child.tagName))\n\n\n\n\t// \t\t\t\t\t\t\t// lvl 1\n\t// \t\t\t\t\t\t\tif (this.isClass(child.tagName)){\n\t// \t\t\t\t\t\t\t\t// example > <bf:title><bf:Title> \n\t// \t\t\t\t\t\t\t\tpopulateData.userValue['@type'] = this.UriNamespace(child.tagName)\n\n\t// \t\t\t\t\t\t\t\t// does it have a URI?\n\t// \t\t\t\t\t\t\t\tlet childUri = null\n\t// \t\t\t\t\t\t\t\tif (child.attributes && child.attributes['rdf:about']){\n\t// \t\t\t\t\t\t\t\t\tchildUri = child.attributes['rdf:about'].value\n\t// \t\t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t\t\tlet childLabel = null\n\n\t// \t\t\t\t\t\t\t\t// lvl 2, loop through all of its properties\n\t// \t\t\t\t\t\t\t\tfor (let grandchild of child.children){\n\n\t// \t\t\t\t\t\t\t\t\t// example > <bf:title><bf:Title> <bf:mainTitle>\n\t// \t\t\t\t\t\t\t\t\tif (!this.isClass(grandchild.tagName)){\n\n\t// \t\t\t\t\t\t\t\t\t\tif (grandchild.tagName == 'rdfs:label'){\n\t// \t\t\t\t\t\t\t\t\t\t\tchildLabel = grandchild.innerHTML\n\t// \t\t\t\t\t\t\t\t\t\t}else{\n\n\t// \t\t\t\t\t\t\t\t\t\t\t// set the value to whatever it is\n\t// \t\t\t\t\t\t\t\t\t\t\tif (!this.UriNamespace(grandchild.tagName)){\n\t// \t\t\t\t\t\t\t\t\t\t\t\tconsole.error(grandchild.tagName,'what is this')\n\t// \t\t\t\t\t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t\t\t\t\t\t// does this one also have children?\n\t// \t\t\t\t\t\t\t\t\t\t\tif (grandchild.children.length==0){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t// no just assign the value\n\t// \t\t\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[this.UriNamespace(grandchild.tagName)] = grandchild.innerHTML\n\t// \t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t// console.log(\"-----------NESTED Property------------\")\n\t// \t\t\t\t\t\t\t\t\t\t\t\t// console.log(grandchild.innerHTML)\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildUri = null\n\t// \t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildValue = null\n\t// \t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildType = null\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\tfor (let greatgrandchild of grandchild.children){\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\tif (this.isClass(greatgrandchild.tagName)){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// something like this\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// <bf:classification>\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t<bf:ClassificationLcc>\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t<bf:source>\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t<bf:Source>\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// small usecases here, might need to expand\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildType = this.UriNamespace(greatgrandchild.tagName)\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(grandchild)\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchild.attributes && greatgrandchild.attributes['rdf:about']){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildUri = greatgrandchild.attributes['rdf:about'].value\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let greatgreatgrandchild of greatgrandchild.children){\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgreatgrandchild.tagName == 'rdfs:label'){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (greatgreatgrandchild.tagName == 'madsrdf:authoritativeLabel'){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (greatgreatgrandchild.tagName == 'bf:code'){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// some hack stuff here\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchildUri && !greatgrandchildValue){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// so there is a URI, but no label or code for it, just use part of  the URI for the label then\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgrandchildUri.split('/')[greatgrandchildUri.split('/').length-1]\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildUri)\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildValue)\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildType)\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('not nested class? what is this',greatgrandchild.innerHTML)\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t// \t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchildUri && greatgrandchildValue && greatgrandchildType){\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[this.UriNamespace(grandchild.tagName)] = {'@type':greatgrandchildType, 'literal':greatgrandchildValue, 'URI':greatgrandchildUri}\n\t// \t\t\t\t\t\t\t\t\t\t\t\t}\n\n\n\t// \t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t// \t\t\t\t\t\t\t\t\t\t}\n\t// \t\t\t\t\t\t\t\t\t}else{\n\t// \t\t\t\t\t\t\t\t\t\tconsole.error('cant handle nested classes yet')\n\t// \t\t\t\t\t\t\t\t\t}\n\t// \t\t\t\t\t\t\t\t}\n\n\n\t// \t\t\t\t\t\t\t\tif (childUri && childLabel){\n\t// \t\t\t\t\t\t\t\t\t// populateData.userValue['@value'] = {literal: childLabel, URI: childUri}\n\t// \t\t\t\t\t\t\t\t\tpopulateData.userValue[propertyURI] = {literal: childLabel, URI: childUri}\n\t// \t\t\t\t\t\t\t\t}else if (!childUri && childLabel && Object.keys(populateData.userValue).length==1){\n\t// \t\t\t\t\t\t\t\t\t// populateData.userValue['@value'] = childLabel\n\t// \t\t\t\t\t\t\t\t\tpopulateData.userValue[propertyURI] = {literal: childLabel, URI: null}\n\t// \t\t\t\t\t\t\t\t}\n\n\n\n\t// \t\t\t\t\t\t\t\t// console.log(childLabel,childUri,populateData)\n\n\n\t// \t\t\t\t\t\t\t}\n\n\t// \t\t\t\t\t\t}\n\n\n\t// \t\t\t\t\t}\n\n\t// \t\t\t\t\t// console.log('----~~~~~------')\n\t// \t\t\t\t\t// console.log(populateData,'populateData',counter)\n\n\t// \t\t\t\t\t// since we created a brand new populateData we either need to \n\t// \t\t\t\t\t// replace the orginal in the profile or if there is more than one we \n\t// \t\t\t\t\t// need to make a new one and add it to the resource template list\n\t// \t\t\t\t\t// since each piece of data in the property is its own resource template\n\n\t// \t\t\t\t\tif (counter === 0){\n\t// \t\t\t\t\t\tpt[k] = populateData\n\t// \t\t\t\t\t}else{\n\n\t// \t\t\t\t\t\tlet newKey = `${k}_${counter}`\n\t// \t\t\t\t\t\tlet currentpos = profile.rt[pkey].ptOrder.indexOf(k)\n\t// \t\t\t\t\t\tprofile.rt[pkey].ptOrder.splice(currentpos+1, 0, newKey);\n\t// \t\t\t\t\t\tpt[newKey] = populateData\n\n\n\t// \t\t\t\t\t}\n\n\t// \t\t\t\t\tcounter++\n\n\t// \t\t\t\t}\n\n\n\t// \t\t\t}\n\t// \t\t}\n\n\n\n\t// \t\t// we did something with it, so remove it from the xml\n\t// \t\tfor (let p of sucessfulProperties){\n\t// \t\t\tlet els = xml.getElementsByTagName(p)\n\t// \t\t\t// this is a strange loop here because we need to remvoe elements without changing the parent order which will mess up the dom tree and the loop\n\t// \t\t\tfor (let step = els.length-1; step >= 0; step=step-1) {\n\t// \t\t\t\tels[step].remove()\n\t// \t\t\t}\n\t// \t\t}\n\n\t// \t\t// store the unused xml\n\t// \t\tprofile.rt[pkey].unusedXml = xml.outerHTML;\n\n\t// \t\tlet totalHasDataLoaded = 0\n\t// \t\tlet uniquePropertyURIs  = {}\n\t// \t\t// we are now going to do some ananlyis on profile, see how many properties are acutally used, what is not used, etc\n\t// \t\tfor (let key in profile.rt[pkey].pt){\n\n\t// \t\t\t// console.log(key,'key here')\n\t// \t\t\tif (Object.keys(uniquePropertyURIs).indexOf(profile.rt[pkey].pt[key].propertyURI)===-1){\n\t// \t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI] = {status:false,data:[],resourceTemplates:{},unAssingedProperties:[]}\n\t// \t\t\t}\n\t// \t\t\t// mark if we have loaded data from the source for this properity\n\t// \t\t\tif (Object.keys(profile.rt[pkey].pt[key].userValue).length==0){\n\t// \t\t\t\tprofile.rt[pkey].pt[key].dataLoaded=false\n\t// \t\t\t}else{\n\t// \t\t\t\tprofile.rt[pkey].pt[key].dataLoaded=true\n\t// \t\t\t\ttotalHasDataLoaded++\n\t// \t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].status = true\n\n\t// \t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].data.push({'json':profile.rt[pkey].pt[key].userValue,'propertyLabel': profile.rt[pkey].pt[key].propertyLabel, 'xml':profile.rt[pkey].pt[key].xmlSource})\n\n\t// \t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].resourceTemplates[key] = profile.rt[pkey].pt[key]\n\n\t// \t\t\t\t// not look into the rt of this propertiy to see what properties we have sucuessfully mapped and things we did not map\n\t// \t\t\t\tlet allUris = []\n\t// \t\t\t\tprofile.rt[pkey].pt[key].valueConstraint.valueTemplateRefs.forEach((rtName)=>{\n\t// \t\t\t\t\tstore.state.rtLookup[rtName].propertyTemplates.forEach((ptObj)=>{\n\t// \t\t\t\t\t\tif (allUris.indexOf(ptObj.propertyURI)==-1){\n\t// \t\t\t\t\t\t\tallUris.push(ptObj.propertyURI)\n\t// \t\t\t\t\t\t}\n\n\t// \t\t\t\t\t})\t\n\t// \t\t\t\t})\n\n\t// \t\t\t\t// console.log(allUris)\n\t// \t\t\t\t// console.log(profile.rt[pkey].pt[key].userValue)\n\t// \t\t\t\t// console.log('##################~~~~!!!!')\n\t// \t\t\t\tprofile.rt[pkey].pt[key].missingProfile = []\n\t// \t\t\t\t// loop though the URIs we have\n\t// \t\t\t\tObject.keys(profile.rt[pkey].pt[key].userValue).forEach((userURI)=>{\n\t// \t\t\t\t\tif (userURI !== '@value' && userURI !== '@type' && userURI !== 'uri'){\n\t// \t\t\t\t\t\tif (allUris.indexOf(userURI)===-1){\n\t// \t\t\t\t\t\t\tconsole.log(userURI, 'not found')\n\t// \t\t\t\t\t\t\tprofile.rt[pkey].pt[key].missingProfile.push(userURI)\n\n\t// \t\t\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].unAssingedProperties.push(userURI)\n\t// \t\t\t\t\t\t}\n\t// \t\t\t\t\t}\n\n\t// \t\t\t\t})\n\n\t// \t\t\t\tif (uniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].unAssingedProperties.length>0){\n\t// \t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].status='mixed'\n\t// \t\t\t\t}\n\n\t// \t\t\t\t// console.log('##################~~~~!!!!')\n\n\n\t// \t\t\t}\n\t// \t\t}\n\n\n\n\t// \t\tprofile.rt[pkey].propertyLoadReport = uniquePropertyURIs\n\n\t// \t\tprofile.rt[pkey].propertyLoadRatio = parseInt(Object.keys(uniquePropertyURIs).filter((k)=>uniquePropertyURIs[k].status).length /Object.keys(uniquePropertyURIs).length * 100)\n\n\t// \t\t// console.log(uniquePropertyURIs)\n\t// \t\t// console.log('uniquePropertyURIs')\n\t// \t\tconsole.log(totalHasDataLoaded)\n\n\n\t// \t\t// console.log(\"here\")\n\t// \t\t// console.log(pt,tle,xml)\t\n\t// \t\t// console.log(profile)\t\n\t// \t\t// console.log(\"^^^^^***\")\n\t// \t\t// console.log(xml.outerHTML)\n\t// \t\t// console.log(sucessfulProperties)\n\t// \t\tconsole.log(adminMetadataData,hasSeriesData)\n\n\n\t// \t\treturn profile\n\n\t// \t}\n\n\n\n\t// },\n\n\t// parse: function(xml){\n\n\t// \tif (!xml){\n\t// \t\txml = this.testXml\n\t// \t}\t\n\t// \t// use the browser if we can, should be faster, fall back to the library if not running in the browser\n\t// \tif (window.DOMParser){\n\t// \t\tlet parser = new DOMParser();\n\t// \t\tthis.activeDom = parser.parseFromString(xml, \"text/xml\");\n\t// \t// }else{\n\t// \t// \tthis.activeDom = new jsdom.JSDOM(xml, {\n\t// \t// \t\tcontentType: \"text/xml\",\n\t// \t// \t\tstorageQuota: 10000000\n\t// \t// \t})\n\t// \t// \tthis.activeDom = this.dom.window.document\n\t// \t}\n\n\n\n\t// \tconsole.log(this.activeDom.getElementsByTagName(\"rdf:type\")[0].attributes)\n\n\n\n\n\t// },\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t// testXml : `<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n\t// \t\t\t  <bf:Work rdf:about=\"http://id.loc.gov/resources/works/2998171\" xmlns:bf=\"http://id.loc.gov/ontologies/bibframe/\">\n\t// \t\t\t    <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">Woolf, Virginia, 1882-1941. To the lighthouse</bflc:aap>\n\t// \t\t\t    <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">woolfvirginia18821941tothelighthouse</bflc:aap-normalized>\n\t// \t\t\t    <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Text\"/>\n\t// \t\t\t    <bf:language>\n\t// \t\t\t      <bf:Language rdf:about=\"http://id.loc.gov/vocabulary/languages/eng\">\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">English</rdfs:label>\n\t// \t\t\t      </bf:Language>\n\t// \t\t\t    </bf:language>\n\t// \t\t\t    <bf:supplementaryContent>\n\t// \t\t\t      <bf:SupplementaryContent rdf:about=\"http://id.loc.gov/authorities/genreForms/gf2014026048\">\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">bibliographies</rdfs:label>\n\t// \t\t\t      </bf:SupplementaryContent>\n\t// \t\t\t    </bf:supplementaryContent>\n\t// \t\t\t    <bf:supplementaryContent>\n\t// \t\t\t      <bf:SupplementaryContent rdf:about=\"http://id.loc.gov/vocabulary/msupplcont/index\">\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Index present</rdfs:label>\n\t// \t\t\t      </bf:SupplementaryContent>\n\t// \t\t\t    </bf:supplementaryContent>\n\t// \t\t\t    <bf:genreForm>\n\t// \t\t\t      <bf:GenreForm rdf:about=\"http://id.loc.gov/authorities/genreForms/gf2014026339\">\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">fiction</rdfs:label>\n\t// \t\t\t      </bf:GenreForm>\n\t// \t\t\t    </bf:genreForm>\n\t// \t\t\t    <bf:identifiedBy>\n\t// \t\t\t      <bf:Lccn>\n\t// \t\t\t        <rdf:value>93038757 </rdf:value>\n\t// \t\t\t      </bf:Lccn>\n\t// \t\t\t    </bf:identifiedBy>\n\t// \t\t\t    <bf:geographicCoverage>\n\t// \t\t\t      <bf:GeographicCoverage rdf:about=\"http://id.loc.gov/vocabulary/geographicAreas/e-uk-en\">\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">England</rdfs:label>\n\t// \t\t\t      </bf:GeographicCoverage>\n\t// \t\t\t    </bf:geographicCoverage>\n\t// \t\t\t    <bf:classification>\n\t// \t\t\t      <bf:ClassificationLcc>\n\t// \t\t\t        <bf:source>\n\t// \t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\"/>\n\t// \t\t\t        </bf:source>\n\t// \t\t\t        <bf:classificationPortion>PR6045.O72</bf:classificationPortion>\n\t// \t\t\t        <bf:itemPortion>T6 1994</bf:itemPortion>\n\t// \t\t\t      </bf:ClassificationLcc>\n\t// \t\t\t    </bf:classification>\n\t// \t\t\t    <bf:classification>\n\t// \t\t\t      <bf:ClassificationDdc>\n\t// \t\t\t        <bf:classificationPortion>823/.912</bf:classificationPortion>\n\t// \t\t\t        <bf:edition rdf:datatype=\"http://www.w3.org/2001/XMLSchema#anyURI\">http://id.loc.gov/vocabulary/classSchemes/ddc20</bf:edition>\n\t// \t\t\t        <bf:edition>full</bf:edition>\n\t// \t\t\t        <bf:assigner>\n\t// \t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\"/>\n\t// \t\t\t        </bf:assigner>\n\t// \t\t\t      </bf:ClassificationDdc>\n\t// \t\t\t    </bf:classification>\n\t// \t\t\t    <bf:contribution>\n\t// \t\t\t      <bf:Contribution>\n\t// \t\t\t        <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bflc/PrimaryContribution\"/>\n\t// \t\t\t        <bf:agent>\n\t// \t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/rwo/agents/n79041870\">\n\t// \t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Person\"/>\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Woolf, Virginia, 1882-1941.</rdfs:label>\n\t// \t\t\t            <madsrdf:isIdentifiedByAuthority rdf:resource=\"http://id.loc.gov/authorities/names/n79041870\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t          </bf:Agent>\n\t// \t\t\t        </bf:agent>\n\t// \t\t\t        <bf:role>\n\t// \t\t\t          <bf:Role rdf:about=\"http://id.loc.gov/vocabulary/relators/ctb\">\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Contributor</rdfs:label>\n\t// \t\t\t          </bf:Role>\n\t// \t\t\t        </bf:role>\n\t// \t\t\t      </bf:Contribution>\n\t// \t\t\t    </bf:contribution>\n\t// \t\t\t    <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">To the lighthouse</rdfs:label>\n\t// \t\t\t    <bf:title>\n\t// \t\t\t      <bf:Title>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">To the lighthouse</rdfs:label>\n\t// \t\t\t        <bf:mainTitle>To the lighthouse</bf:mainTitle>\n\t// \t\t\t      </bf:Title>\n\t// \t\t\t    </bf:title>\n\t// \t\t\t    <bf:hasSeries>\n\t// \t\t\t      <bf:Work rdf:about=\"http://id.loc.gov/resources/hubs/8a8cae2fea46062d5e392a9bdf369df0\">\n\t// \t\t\t        <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">Routledge English texts</bflc:aap>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">routledgeenglishtexts</bflc:aap-normalized>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Routledge English texts</rdfs:label>\n\t// \t\t\t        <bf:title>\n\t// \t\t\t          <bf:Title>\n\t// \t\t\t            <bf:mainTitle>Routledge English texts</bf:mainTitle>\n\t// \t\t\t          </bf:Title>\n\t// \t\t\t        </bf:title>\n\t// \t\t\t      </bf:Work>\n\t// \t\t\t    </bf:hasSeries>\n\t// \t\t\t    <bf:supplementaryContent>\n\t// \t\t\t      <bf:SupplementaryContent>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Includes bibliographical references (p. 219-222) and index.</rdfs:label>\n\t// \t\t\t      </bf:SupplementaryContent>\n\t// \t\t\t    </bf:supplementaryContent>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Place>\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Skye, Island of (Scotland)--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Skye, Island of (Scotland)--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Geographic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Skye, Island of (Scotland)</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Geographic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">skyeislandof(scotland)fiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Place>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2009125026\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">English--Scotland--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">English--Scotland--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>English</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:Geographic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Scotland</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Geographic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">englishscotlandfiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Topic>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008106913\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Loss (Psychology)--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Loss (Psychology)--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Loss (Psychology)</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">loss(psychology)fiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Topic>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008107230\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Mothers--Death--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Mothers--Death--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Mothers</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Death</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">mothersdeathfiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Topic>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008111402\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Summer resorts--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Summer resorts--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Summer resorts</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">summerresortsfiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Topic>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008107177\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Married people--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Married people--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Married people</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">marriedpeoplefiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Topic>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008107119\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Lighthouses--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Lighthouses--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Lighthouses</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">lighthousesfiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Topic>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:subject>\n\t// \t\t\t      <bf:Topic rdf:about=\"http://id.loc.gov/authorities/subjects/sh2008113433\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Widowers--Fiction.</rdfs:label>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Widowers--Fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t// \t\t\t          <madsrdf:Topic>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Widowers</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:Topic>\n\t// \t\t\t          <madsrdf:GenreForm>\n\t// \t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t// \t\t\t          </madsrdf:GenreForm>\n\t// \t\t\t        </madsrdf:componentList>\n\t// \t\t\t        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">widowersfiction</bflc:aap-normalized>\n\t// \t\t\t      </bf:Topic>\n\t// \t\t\t    </bf:subject>\n\t// \t\t\t    <bf:genreForm>\n\t// \t\t\t      <bf:GenreForm rdf:about=\"http://id.loc.gov/authorities/subjects/sh85108438\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#Topic\"/>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Psychological fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <bf:source>\n\t// \t\t\t          <bf:Source>\n\t// \t\t\t            <bf:code>lcsh</bf:code>\n\t// \t\t\t          </bf:Source>\n\t// \t\t\t        </bf:source>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Psychological fiction.</rdfs:label>\n\t// \t\t\t      </bf:GenreForm>\n\t// \t\t\t    </bf:genreForm>\n\t// \t\t\t    <bf:genreForm>\n\t// \t\t\t      <bf:GenreForm rdf:about=\"http://id.loc.gov/authorities/subjects/sh86004353\">\n\t// \t\t\t        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#Topic\"/>\n\t// \t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Domestic fiction.</madsrdf:authoritativeLabel>\n\t// \t\t\t        <bf:source>\n\t// \t\t\t          <bf:Source>\n\t// \t\t\t            <bf:code>lcsh</bf:code>\n\t// \t\t\t          </bf:Source>\n\t// \t\t\t        </bf:source>\n\t// \t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Domestic fiction.</rdfs:label>\n\t// \t\t\t      </bf:GenreForm>\n\t// \t\t\t    </bf:genreForm>\n\t// \t\t\t    <bf:contribution>\n\t// \t\t\t      <bf:Contribution>\n\t// \t\t\t        <bf:agent>\n\t// \t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/rwo/agents/n87899079\">\n\t// \t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Person\"/>\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Kemp, Sandra.</rdfs:label>\n\t// \t\t\t            <madsrdf:isIdentifiedByAuthority rdf:resource=\"http://id.loc.gov/authorities/names/n87899079\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t// \t\t\t          </bf:Agent>\n\t// \t\t\t        </bf:agent>\n\t// \t\t\t        <bf:role>\n\t// \t\t\t          <bf:Role rdf:about=\"http://id.loc.gov/vocabulary/relators/ctb\">\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Contributor</rdfs:label>\n\t// \t\t\t          </bf:Role>\n\t// \t\t\t        </bf:role>\n\t// \t\t\t      </bf:Contribution>\n\t// \t\t\t    </bf:contribution>\n\t// \t\t\t    <dcterms:isPartOf rdf:resource=\"http://id.loc.gov/resources/works\" xmlns:dcterms=\"http://purl.org/dc/terms/\"/>\n\t// \t\t\t    <bf:hasInstance>\n\t// \t\t\t      <bf:Instance rdf:about=\"http://id.loc.gov/resources/instances/2998171\">\n\t// \t\t\t        <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">To the lighthouse</bflc:aap>\n\t// \t\t\t      </bf:Instance>\n\t// \t\t\t    </bf:hasInstance>\n\t// \t\t\t    <bf:adminMetadata>\n\t// \t\t\t      <bf:AdminMetadata>\n\t// \t\t\t        <bf:generationProcess>\n\t// \t\t\t          <bf:GenerationProcess>\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC marc2bibframe2 v1.5.0-SNAPSHOT: 2019-06-13T11:45:19-04:00</rdfs:label>\n\t// \t\t\t          </bf:GenerationProcess>\n\t// \t\t\t        </bf:generationProcess>\n\t// \t\t\t        <bf:status>\n\t// \t\t\t          <bf:Status>\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">increase in encoding level from prepublication</rdfs:label>\n\t// \t\t\t            <bf:code>p</bf:code>\n\t// \t\t\t          </bf:Status>\n\t// \t\t\t        </bf:status>\n\t// \t\t\t        <bflc:encodingLevel xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">\n\t// \t\t\t          <bflc:EncodingLevel rdf:about=\"http://id.loc.gov/vocabulary/menclvl/f\">\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">full</rdfs:label>\n\t// \t\t\t          </bflc:EncodingLevel>\n\t// \t\t\t        </bflc:encodingLevel>\n\t// \t\t\t        <bf:descriptionConventions>\n\t// \t\t\t          <bf:DescriptionConventions rdf:about=\"http://id.loc.gov/vocabulary/descriptionConventions/aacr\">\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">aacr</rdfs:label>\n\t// \t\t\t          </bf:DescriptionConventions>\n\t// \t\t\t        </bf:descriptionConventions>\n\t// \t\t\t        <bf:identifiedBy>\n\t// \t\t\t          <bf:Local>\n\t// \t\t\t            <rdf:value>2998171</rdf:value>\n\t// \t\t\t            <bf:assigner>\n\t// \t\t\t              <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\"/>\n\t// \t\t\t            </bf:assigner>\n\t// \t\t\t          </bf:Local>\n\t// \t\t\t        </bf:identifiedBy>\n\t// \t\t\t        <bf:changeDate rdf:datatype=\"http://www.w3.org/2001/XMLSchema#dateTime\">2005-02-15T16:40:14</bf:changeDate>\n\t// \t\t\t        <bf:creationDate rdf:datatype=\"http://www.w3.org/2001/XMLSchema#date\">1993-10-12</bf:creationDate>\n\t// \t\t\t        <bf:source>\n\t// \t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t// \t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Agent\"/>\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t// \t\t\t          </bf:Source>\n\t// \t\t\t        </bf:source>\n\t// \t\t\t        <bf:source>\n\t// \t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t// \t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Agent\"/>\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t// \t\t\t          </bf:Source>\n\t// \t\t\t        </bf:source>\n\t// \t\t\t        <bf:descriptionModifier>\n\t// \t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t// \t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t// \t\t\t          </bf:Agent>\n\t// \t\t\t        </bf:descriptionModifier>\n\t// \t\t\t      </bf:AdminMetadata>\n\t// \t\t\t    </bf:adminMetadata>\n\t// \t\t\t    <bf:expressionOf>\n\t// \t\t\t      <bf:Work rdf:about=\"http://id.loc.gov/resources/hubs/03a711d5e5b9763d7a03d9f4d7d5c642\">\n\t// \t\t\t        <bflc:aap xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">Woolf, Virginia, 1882-1941. To the lighthouse</bflc:aap>\n\t// \t\t\t      </bf:Work>\n\t// \t\t\t    </bf:expressionOf>\n\t// \t\t\t  </bf:Work>\n\t// \t\t\t</rdf:RDF>`\n\n\n\n\n}\n\n\nexport default exportXML;","<template>\n    <div class=\"grid\">\n\n      <header>\n                    <div style=\"display: none\">loaded profile -- {{profilesLoaded}} </div>\n\n      </header>\n\n          <Keypress key-event=\"keydown\" :key-code=\"40\" @success=\"moveDown\" />\n          <Keypress key-event=\"keydown\" :key-code=\"38\" @success=\"moveUp\" />\n          <Keypress key-event=\"keydown\" :key-code=\"34\" @success=\"movePageDown\" />          \n          <Keypress key-event=\"keydown\" :key-code=\"33\" @success=\"movePageUp\" />\n\n          <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 187, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"dupeProperty\" />\n\n\n        \n\n\n\n\n        <aside id=\"edit-left-menu\" class=\"sidebar-left\" style=\"background-color: #2a2a2a; color: #ffffff\" >\n        \n            <div id=\"edit-left-menu-fixed\" ref=\"editLeftMenuFixed\" style=\"height: 100vh; overflow-y:scroll; position: fixed; width: 20%;\" v-if=\"profilesLoaded\">\n                <!-- <div style=\"color:#bfbfbf; font-size: 1.5em; text-align: center;\">{{sartingPoint}}</div> -->\n                <div v-for=\"profileName in activeProfile.rtOrder\" :key=\"profileName\">\n\n                    <div>\n                        <div class=\"container-type-icon\" style=\"color: #ffffff\">\n                            <div>   \n                                <svg v-if=\"profileName.split(':').slice(-1)[0] == 'Work'\" width=\"1.5em\" height=\"1.1em\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <circle fill=\"#7badad\" cx=\"0.55em\" cy=\"0.6em\" r=\"0.45em\"/>\n                                </svg>\n                                <div v-if=\"profileName.split(':').slice(-1)[0] == 'Instance'\" style=\"height: 1em;width: 1em; display: inline-block;\" class=\"temp-icon-instance\"></div>\n                                <span>{{profileName.split(':').slice(-1)[0]}}</span>\n                            </div>\n                            \n\n                        </div>\n\n                        <ul style=\"padding-left: 0;\" :key=\"'leftmenu' + activeEditCounter\">\n                            <li v-bind:class=\"['left-menu-list-item', { 'left-menu-list-item-has-data' :  liHasData(activeProfile.rt[profileName].pt[profileCompoent]) && returnOpacFormat(activeProfile.rt[profileName].pt[profileCompoent].userValue) != '', 'left-menu-list-item-active':(activeComponent==profileCompoent &&activeProfileName==profileName)}]\" :id=\"'menu'+profileCompoent\"  v-for=\"profileCompoent in activeProfile.rt[profileName].ptOrder\" :key=\"profileCompoent\">\n                                <a @click=\"scrollFieldContainerIntoView($event,profileCompoent.replace(/\\(|\\)|\\s|\\/|:|\\.|\\|/g,'_'))\" href=\"#\">{{activeProfile.rt[profileName].pt[profileCompoent].propertyLabel}}</a>\n\n\n                            </li>\n                        </ul>\n                    </div>\n\n\n                </div>\n\n            </div>\n\n\n        </aside>\n\n        <article>\n            \n            <div v-if=\"profilesLoaded\">\n                <div v-for=\"profileName in activeProfile.rtOrder\" :key=\"profileName\">\n\n                    \n                    <div :class=\"['container-' + profileName.split(':').slice(-1)[0]]\">\n                        <div class=\"container-type-icon\">\n                            <div>{{profileName.split(':').slice(-1)[0]}}</div>\n                            <div>\n                                <svg v-if=\"profileName.split(':').slice(-1)[0] == 'Work'\" width=\"3em\" height=\"2.5em\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <circle fill=\"#7badad\" cx=\"1.5em\" cy=\"1em\" r=\"0.75em\"/>\n                                </svg>\n                                <div v-if=\"profileName.split(':').slice(-1)[0] == 'Instance'\" style=\"height: 1.75em;width: 2em; margin-left: 1.5em;\" class=\"temp-icon-instance\">\n\n                                        \n                                </div>\n                            </div>\n                        </div>\n\n                        <div v-for=\"profileCompoent in activeProfile.rt[profileName].ptOrder\" :key=\"profileCompoent\" :id=\"'container-for-'+profileCompoent.replace(/\\(|\\)|\\s|\\/|:|\\.|\\|/g,'_')\">\n                              <EditMainComponent class=\"component\" :activeTemplate=\"activeProfile.rt[profileName].pt[profileCompoent]\" :profileName=\"profileName\" :profileCompoent=\"profileCompoent\" :topLevelComponent=\"true\" :parentStructure=\"activeProfile.rtOrder\" :structure=\"activeProfile.rt[profileName].pt[profileCompoent]\"/>\n                        </div>\n\n                        <div v-if=\"activeProfile.rt[profileName].unusedXml\" style=\"background-color: #fde4b7; overflow-x: hidden;\">\n                          <h3>There was some XML that could not be loaded into this profile ({{profileName}}):</h3>\n                          <code><pre>{{prettifyXml(activeProfile.rt[profileName].unusedXml)}}</pre></code>\n                        </div>\n                    </div>\n\n\n                </div>\n\n            </div>\n\n\n        </article>\n\n        <aside class=\"sidebar-right\" style=\"background-color: white\" :key=\"activeEditCounter\">\n\n            <div ref=\"editRightMenuFixed\"  style=\"height: 100vh; overflow-y:scroll; position: fixed; width: 100%;\"  v-if=\"profilesLoaded\">\n                <!-- <div style=\"color:#bfbfbf; font-size: 1.5em; text-align: center;\">{{sartingPoint}}</div> -->\n                <div v-for=\"profileName in activeProfile.rtOrder\" :key=\"profileName\">\n\n                        <div class=\"container-type-icon\" style=\"color: #2c3e50\">\n                            <div>   \n                                \n                              <div v-if=\"profileName.split(':').slice(-1)[0] == 'Work'\">\n                                <svg v-if=\"profileName.split(':').slice(-1)[0] == 'Work'\" width=\"1.5em\" height=\"1.1em\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <circle fill=\"#7badad\" cx=\"0.55em\" cy=\"0.6em\" r=\"0.45em\"/>\n                                </svg><span>Work</span>\n                              </div>\n\n\n\n                                <!-- <div v-if=\"profileName.split(':').slice(-1)[0] == 'Instance'\" style=\"height: 1em;width: 1em; display: inline-block;\" class=\"temp-icon-instance\"></div>\n                                <span>{{profileName.split(':').slice(-1)[0]}}</span> -->\n                            </div>\n                            \n\n                        </div>\n\n\n                        <div style=\"margin-left: 1%; border-left: 1px solid rgba(44, 62, 80, 0.25); padding-left: 0.2em\">\n                            \n                            <div v-for=\"profileCompoent in activeProfile.rt[profileName].ptOrder\" :key=\"profileCompoent\">\n\n\n\n                              <div style=\"margin-bottom: 1em;\" v-bind:class=\"[ {'opac-field-active':(activeComponent==profileCompoent &&activeProfileName==profileName)}]\" v-if=\"Object.keys(activeProfile.rt[profileName].pt[profileCompoent].userValue).length>0 && returnOpacFormat(activeProfile.rt[profileName].pt[profileCompoent].userValue) != ''\">\n                                <span class=\"opac-field-title\">{{activeProfile.rt[profileName].pt[profileCompoent].propertyLabel}}</span>\n                                <div class=\"opac-field-value\">{{returnOpacFormat(activeProfile.rt[profileName].pt[profileCompoent].userValue)}}</div>\n\n                              </div>\n\n\n                            </div>\n\n                          \n                        </div>\n\n<!-- \n                        <ul style=\"padding-left: 0;\">\n                            <li v-bind:class=\"['left-menu-list-item', { 'left-menu-list-item-has-data' :  liHasData(activeProfile.rt[profileName].pt[profileCompoent]), 'left-menu-list-item-active':(activeComponent==profileCompoent &&activeProfileName==profileName)}]\" style=\"padding-left: 2em;\" :id=\"'menu'+profileCompoent\"  v-for=\"profileCompoent in activeProfile.rt[profileName].ptOrder\" :key=\"profileCompoent\">\n                                {{activeProfile.rt[profileName].pt[profileCompoent].propertyLabel}}\n\n                            </li>\n                        </ul> -->\n\n\n                </div>\n\n                <button @click=\"triggerXMLExport\">EXPORT</button>\n            </div>\n\n\n\n\n        </aside>\n\n\n        <footer style=\"display: none;\">\n            Footer\n        </footer>\n\n\n\n    </div>\n\n\n\n\n</template>\n\n\n\n\n<script>\n// @ is an alias to /src\nimport EditMainComponent from \"@/components/EditMainComponent.vue\";\n\n\nimport uiUtils from \"@/lib/uiUtils\"\nimport labels from \"@/lib/labels\"\nimport exportXML from \"@/lib/exportXML\"\n\n\nimport { mapState } from 'vuex'\n\n\nexport default {\n  name: \"Edit\",\n  components: {\n    EditMainComponent,\n    Keypress: () => import('vue-keypress'),\n    \n  },\n    computed: mapState({\n      profilesLoaded: 'profilesLoaded',\n      profiles: 'profiles',\n      sartingPoint: 'sartingPoint',\n      activeInput: 'activeInput',\n      activeProfile: 'activeProfile',\n      activeComponent: 'activeComponent',\n      activeProfileName: 'activeProfileName',\n      activeEditCounter: 'activeEditCounter'\n\n      // to access local state with `this`, a normal function must be used\n      // countPlusLocalState (state) {\n      //   return state.count + this.localCount\n      // }\n    }),\n\n\n  created: function () {\n\n    \n    // load them profiles if they aint  \n    if (!this.profilesLoaded){\n        this.$store.dispatch(\"fetchProfiles\", { self: this }).then(() => {\n          this.sideBarGrabDragInit()\n\n          // load the ontology lookups if they arnt\n          this.loadProfileOntologyLookupsBuild()\n\n      })       \n    }else{\n      this.$nextTick(()=>{\n        this.sideBarGrabDragInit()\n        this.loadProfileOntologyLookupsBuild()\n\n      })\n\n    }\n\n    this.$nextTick(function () {\n        uiUtils.renderBorders()\n        window.setTimeout(()=>{document.getElementsByTagName('input')[0].focus()},500)\n        \n    })\n  },\n\n  mounted: function(){\n\n\n\n  },\n\n\n  updated: function () {\n    this.$nextTick(function () {\n        uiUtils.renderBorders()\n    })\n  },  \n\n  data: function() {\n    return {\n      labels: labels,\n      ontologyLookupTodo: []\n    }\n  },\n\n  methods: {\n\n    prettifyXml: uiUtils.prettifyXml,\n\n    \n    moveDown: uiUtils.globalMoveDown,\n    moveUp: uiUtils.globalMoveUp,\n    movePageDown: uiUtils.globalMovePageDown,\n    movePageUp: uiUtils.globalMovePageUp,\n\n    dupeProperty: uiUtils.dupeProperty,\n\n\n\n    triggerXMLExport: function(){\n\n      console.log(exportXML.toBFXML(this.activeProfile))\n\n\n    },\n\n\n    scrollFieldContainerIntoView: function(event,id){\n      document.getElementById('container-for-'+id).scrollIntoView({behavior: \"smooth\", block: \"center\", inline: \"nearest\"})\n      window.setTimeout(()=>{\n        if (document.querySelector('#container-for-'+id + ' input')){\n          document.querySelector('#container-for-'+id + ' input').focus()  \n        }\n        \n      },400)\n\n      event.preventDefault()\n      return false\n\n\n    },\n\n    sideBarGrabDragInit: function(){\n       // we need to do some dom stuff here after we know the profiles have been loaded\n        const ele = this.$refs.editLeftMenuFixed\n        // console.log(ele, 'editLeftMenuFixed')\n\n        ele.style.cursor = 'grab';\n\n        \n\n        let pos = { top: 0, left: 0, x: 0, y: 0 };\n\n        const mouseDownHandler = function(e) {\n            ele.style.cursor = 'grabbing';\n            ele.style.userSelect = 'none';\n\n            pos = {\n                left: ele.scrollLeft,\n                top: ele.scrollTop,\n                // Get the current mouse position\n                x: e.clientX,\n                y: e.clientY,\n            };\n\n            document.addEventListener('mousemove', mouseMoveHandler);\n            document.addEventListener('mouseup', mouseUpHandler);\n        };\n\n        const mouseMoveHandler = function(e) {\n            // How far the mouse has been moved\n            const dx = e.clientX - pos.x;\n            const dy = e.clientY - pos.y;\n\n            // Scroll the element\n            ele.scrollTop = pos.top - dy;\n            ele.scrollLeft = pos.left - dx;\n        };\n\n        const mouseUpHandler = function() {\n            ele.style.cursor = 'grab';\n            ele.style.removeProperty('user-select');\n\n            document.removeEventListener('mousemove', mouseMoveHandler);\n            document.removeEventListener('mouseup', mouseUpHandler);\n        };\n\n        // Attach the handler\n        ele.addEventListener('mousedown', mouseDownHandler);\n\n\n\n        // --- right menu\n\n\n        const ele2 = this.$refs.editRightMenuFixed\n\n\n        ele2.style.cursor = 'grab';\n\n        \n\n        let pos2 = { top: 0, left: 0, x: 0, y: 0 };\n\n        const mouseDownHandler2 = function(e) {\n            ele2.style.cursor = 'grabbing';\n            ele2.style.userSelect = 'none';\n\n            pos2 = {\n                left: ele.scrollLeft,\n                top: ele.scrollTop,\n                // Get the current mouse pos2ition\n                x: e.clientX,\n                y: e.clientY,\n            };\n\n            document.addEventListener('mousemove', mouseMoveHandler2);\n            document.addEventListener('mouseup', mouseUpHandler2);\n        };\n\n        const mouseMoveHandler2 = function(e) {\n            // How far the mouse has been moved\n            const dx = e.clientX - pos2.x;\n            const dy = e.clientY - pos2.y;\n\n            // Scroll the element\n            ele2.scrollTop = pos2.top - dy;\n            ele2.scrollLeft = pos2.left - dx;\n        };\n\n        const mouseUpHandler2 = function() {\n            ele2.style.cursor = 'grab';\n            ele2.style.removeProperty('user-select');\n\n            document.removeEventListener('mousemove', mouseMoveHandler2);\n            document.removeEventListener('mouseup', mouseUpHandler2);\n        };\n\n        // Attach the handler\n        ele2.addEventListener('mousedown', mouseDownHandler2);        \n\n\n    },\n\n\n    loadProfileOntologyLookupsBuild: function(){\n\n      // loop through the now active profile and request each property uri from cache or id.loc.gov\n\n      Object.keys(this.activeProfile.rt).forEach((rtk)=>{\n        Object.keys(this.activeProfile.rt[rtk].pt).forEach((ptk)=>{\n          if (this.activeProfile.rt[rtk].pt[ptk].propertyURI == 'http://id.loc.gov/ontologies/bibframe/title'){\n\n            if (this.ontologyLookupTodo.indexOf(this.activeProfile.rt[rtk].pt[ptk].propertyURI) == -1){\n              this.ontologyLookupTodo.push(this.activeProfile.rt[rtk].pt[ptk].propertyURI)  \n            }           \n          }\n\n        })\n      })\n\n      this.loadProfileOntologyLookupsRequest()\n    },\n\n\n    loadProfileOntologyLookupsRequest: function(){\n      // this makes the reqeusts but does it one at a time\n\n\n      if (this.ontologyLookupTodo.length>0){\n        // grab one\n        let uri = this.ontologyLookupTodo.pop()\n        this.$store.dispatch(\"fetchOntology\", { self: this, uri: uri }).then(() => {          \n          this.loadProfileOntologyLookupsRequest()\n        })   \n\n        \n\n      }\n\n    },\n\n\n\n    returnOpacFormat: function(userValue){\n      // console.log(userValue)\n      let r = ''\n      Object.keys(userValue).forEach((k)=>{\n\n        if (typeof userValue[k] == 'string' && !userValue[k].includes('http') && !r.includes(userValue[k])){\n          r = r + userValue[k]\n        }else{\n\n          if (userValue[k] && userValue[k].literal && !userValue[k].literal.includes('http') && !r.includes(userValue[k].literal)){\n            r = r + userValue[k].literal + ' '\n          }\n\n\n\n\n        }\n      })\n      r=r.trim()\n      return r\n    },\n\n\n    liHasData: function(structure){\n\n      if (Object.keys(structure.userValue).length>0){\n        return true\n      }else if (structure.valueConstraint && structure.valueConstraint.defaults && structure.valueConstraint.defaults.length>0){\n        return true\n      } else{\n        return false  \n      }      \n      \n    }\n  }  \n};\n</script>\n\n<style>\n\n#edit-left-menu-fixed{\n  -ms-overflow-style: none;  /* Internet Explorer 10+ */\n  scrollbar-width: none;  /* Firefox */\n}\n#edit-left-menu-fixed::-webkit-scrollbar { \n  display: none;  /* Safari and Chrome */\n}\n\n\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=661f9c32&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"test-id\"}},[_c('ul',[_c('li',{attrs:{\"id\":\"search-li\"}},[_vm._v(\"Search Works On ID: \"),_c('input',{attrs:{\"value\":\"Woolf, Virginia, 1882-1941. To the lighthouse\",\"autofocus\":\"\"},on:{\"keyup\":_vm.search}})]),_c('li',{attrs:{\"id\":\"profile-li\"}},[_vm._v(\" Use Resource Template: \"),_c('select',{on:{\"change\":_vm.rtChange}},_vm._l((_vm.rtLookupWorks),function(key){return _c('option',{key:key,domProps:{\"selected\":(key === 'lc:RT:bf2:Monograph:Work') ? true : false}},[_vm._v(_vm._s(key))])}),0)]),_vm._l((_vm.idWorkSearchResults),function(val,index){return _c('li',{key:index},[_c('button',{on:{\"click\":function($event){return _vm.load(val.id,false)}}},[_vm._v(\"Load\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.load(val.id,true)}}},[_vm._v(\"Load & Edit\")]),_vm._v(\" - \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":val.id}},[_vm._v(_vm._s(val.label))])])})],2),(_vm.transformResultsDisplay != null)?_c('div',{staticStyle:{\"padding\":\"2%\"}},[_c('h1',[_vm._v(\"Load Results:\")]),_c('div',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.transformResultsDisplay.propertyLoadRatio)+\"% properties assigned from data\")]),_c('div',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Unused XML:\")]),_c('code',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_c('pre',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_vm._v(_vm._s(_vm.prettifyXml(_vm.transformResultsDisplay.unusedXml)))])]),_c('hr'),_vm._l((_vm.transformResultsDisplay.propertyLoadReport),function(val,key){return _c('div',{key:key},[(val.status===false)?_c('h3',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(key))]):_vm._e(),(val.status===true)?_c('h3',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(key))]):_vm._e(),(val.status==='mixed')?_c('h3',{staticStyle:{\"color\":\"orange\"}},[_vm._v(_vm._s(key))]):_vm._e(),(val.status!==false)?_c('div',[(val.unAssingedProperties.length>0)?_c('div',[_c('div',[_vm._v(\"Unassinged Properties:\")]),_vm._l((val.unAssingedProperties),function(unval,unvalindex){return _c('div',{key:unvalindex},[_vm._v(_vm._s(unval))])})],2):_vm._e(),_vm._l((val.data),function(dataval,index){return _c('div',{key:index},[_c('div',[_vm._v(_vm._s(dataval.propertyLabel))]),_c('code',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_c('pre',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_vm._v(_vm._s(_vm.prettifyXml(dataval.xml)))])]),_c('vue-json-pretty',{attrs:{\"path\":'res',\"highlightMouseoverNode\":true,\"collapsedOnClickBrackets\":true,\"data\":dataval.json}})],1)})],2):_vm._e(),_c('hr')])})],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div id=\"test-id\">\n    \n\n\n    <ul>\n      <li id=\"search-li\">Search Works On ID: <input @keyup=\"search\" value=\"Woolf, Virginia, 1882-1941. To the lighthouse\" autofocus ></li>\n      <li id=\"profile-li\">\n        Use Resource Template: \n        <select @change=\"rtChange\">\n          <option v-for=\"key in rtLookupWorks\" :key=\"key\"  :selected=\"(key === 'lc:RT:bf2:Monograph:Work') ? true : false\"  >{{key}}</option>\n        </select>\n      </li>\n      <li v-for=\"(val,index) in idWorkSearchResults\" :key=\"index\">\n        <button @click=\"load(val.id,false)\">Load</button> <button @click=\"load(val.id,true)\">Load & Edit</button> - <a target=\"_blank\" :href=\"val.id\">{{val.label}}</a></li>\n\n    </ul>\n\n\n\n\n    <div style=\"padding: 2%\" v-if=\"transformResultsDisplay != null\">\n\n\n      <h1>Load Results:</h1>\n\n      <div style=\"font-weight: bold\">{{transformResultsDisplay.propertyLoadRatio}}% properties assigned from data</div>\n      <div style=\"font-weight: bold\">Unused XML:</div>\n      <code style=\"background-color: whitesmoke\"><pre style=\"background-color: whitesmoke\">{{prettifyXml(transformResultsDisplay.unusedXml)}}</pre></code>\n\n      <hr/>\n      <div v-for=\"(val,key) in transformResultsDisplay.propertyLoadReport\" v-bind:key=\"key\">\n\n        <h3 v-if=\"val.status===false\" style=\"color:red\">{{key}}</h3>\n        <h3 v-if=\"val.status===true\" style=\"color:green\">{{key}}</h3>\n        <h3 v-if=\"val.status==='mixed'\" style=\"color:orange\">{{key}}</h3>\n\n        <div v-if=\"val.status!==false\">\n          <div v-if=\"val.unAssingedProperties.length>0\">\n            <div>Unassinged Properties:</div>\n            <div v-for=\"(unval,unvalindex) in val.unAssingedProperties\" v-bind:key=\"unvalindex\">{{unval}}</div>\n          </div>\n          <div v-for=\"(dataval,index) in val.data\" v-bind:key=\"index\">\n            <div>{{dataval.propertyLabel}}</div>\n            <code style=\"background-color: whitesmoke\"><pre style=\"background-color: whitesmoke\">{{prettifyXml(dataval.xml)}}</pre></code>\n            <vue-json-pretty \n              :path=\"'res'\"\n              :highlightMouseoverNode=\"true\"\n              :collapsedOnClickBrackets=\"true\"\n              :data=\"dataval.json\"      \n              >\n            </vue-json-pretty>\n            \n\n\n          </div>\n\n\n        </div>\n          \n\n        <hr/>\n      </div>\n\n\n\n\n\n    </div>\n\n\n    <!-- <code><pre>{{prettyIDXML}}</pre></code> -->\n  </div>\n\n</template>\n\n\n<style type=\"text/css\">\n\n    body #app{\n      background-color: white !important;\n    }\n\n    #search-li input{\n      width:50em;\n    }\n    #search-li::before, #profile-li::before{\n      content: ''\n\n    }\n\n\n</style>\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\n\nimport { mapState } from 'vuex'\nimport parseId from '@/lib/parseId'\nimport uiUtils from \"@/lib/uiUtils\"\nimport VueJsonPretty from 'vue-json-pretty'\n\n\nexport default {\n  name: \"TestParseId\",\n  components: {\n    // HelloWorld\n    VueJsonPretty\n  },\n\n  data: function() {\n    return {\n      useRtSelected: 'lc:RT:bf2:Monograph:Work',\n      searchTimeout: null,\n      transformResults: null,\n      transformResultsDisplay: null,\n\n    }\n  },\n\n  computed: mapState({\n      profilesLoaded: 'profilesLoaded',\n      activeProfile: 'activeProfile', \n      idWorkSearchResults: 'idWorkSearchResults',\n      rtLookup:'rtLookup',\n      profiles: 'profiles',\n      idXML:'idXML',\n      \n\n\n      prettyIDXML (state) {\n        if (state.idXML===null || state.idXML === '') return ''\n        return uiUtils.prettifyXml(state.idXML)\n      },\n\n      // to access local state with `this`, a normal function must be used\n      rtLookupWorks (state) {\n        let r = []\n        for (let k of Object.keys(state.rtLookup)){\n          if (k.endsWith(':Work')){\n            r.push(k)\n          }\n        }\n        return r\n      }\n    }),\n  methods: {\n\n    prettifyXml: uiUtils.prettifyXml,\n\n\n    search: function(event){\n      window.clearTimeout(this.searchTimeout)\n      this.searchTimeout = window.setTimeout(()=>{\n        this.$store.dispatch(\"fetchIdWorkSearch\", { self: this, searchValue: event.target.value }).then(() => {\n\n        })\n      },500)\n    },\n\n    rtChange: function(event){\n      this.useRtSelected = event.target.value\n    },\n\n    load: function(useId,goEdit){\n\n\n      this.$store.dispatch(\"fetchIdXML\", { self: this, url: useId }).then(() => {\n        // the xml is loaded\n        //console.log(this.idXML)\n        parseId.parse(this.idXML)\n\n        let useProfile = null\n        // find the right profile to feed it\n        for (let key in this.profiles){\n          if (this.profiles[key].rtOrder.indexOf(this.useRtSelected)>-1){\n            useProfile = this.profiles[key]\n          }\n        }\n\n        this.transformResults  = parseId.transform(useProfile)\n\n        let workkey = this.transformResults.rtOrder.filter((k)=> k.endsWith(\":Work\"))[0]\n\n\n        this.transformResultsDisplay = this.transformResults.rt[workkey]\n\n\n        if (goEdit){\n          this.$store.dispatch(\"setActiveProfile\", { self: this, profile: this.transformResults }).then(() => {\n\n            this.$router.push({ path: 'edit' })\n          })\n        }\n\n        // this.$router.push({ path: 'edit' })\n\n        // console.log(this.transformResults)\n        // console.log(useProfile.id,workkey)\n\n      })\n\n\n\n    }\n\n\n  },\n  created: function () {\n    // kick off the fetching of profiles on load\n    this.$store.dispatch(\"fetchProfiles\", { self: this }).then(() => {\n      parseId.parse()\n      // parseId.transform(this.activeProfile)\n\n      this.$store.dispatch(\"fetchIdWorkSearch\", { self: this, searchValue: 'Woolf, Virginia, 1882-1941. To the lighthouse' }).then(() => {\n\n      })\n      \n    });    \n\n    // console.log(parseId)\n    \n\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseId.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseId.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestParseId.vue?vue&type=template&id=ea024610&\"\nimport script from \"./TestParseId.vue?vue&type=script&lang=js&\"\nexport * from \"./TestParseId.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TestParseId.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\"},attrs:{\"id\":\"test-id\"}},[_c('ul',[_c('li',{attrs:{\"id\":\"search-li\"}},[_vm._v(\"Search Works On ID: \"),_c('input',{attrs:{\"value\":\"Woolf, Virginia, 1882-1941. To the lighthouse\",\"autofocus\":\"\"},on:{\"keyup\":_vm.search}})]),_c('li',{attrs:{\"id\":\"profile-li\"}},[_vm._v(\" Use Work Resource Template: \"),_c('select',{on:{\"change\":_vm.rtChange}},_vm._l((_vm.rtLookupWorks),function(key){return _c('option',{key:key,domProps:{\"selected\":(key === 'lc:RT:bf2:Monograph:Work') ? true : false}},[_vm._v(_vm._s(key))])}),0)]),_vm._l((_vm.idWorkSearchResults),function(val,index){return _c('li',{key:index},[_c('button',{on:{\"click\":function($event){return _vm.load(val.id,false)}}},[_vm._v(\"Load\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.load(val.id,true)}}},[_vm._v(\"Load & Edit\")]),_vm._v(\" - \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":val.id}},[_vm._v(_vm._s(val.label))])])})],2)]),_c('div',{staticStyle:{\"flex\":\"1\"},attrs:{\"id\":\"test-instance\"}},[_c('ul',[_c('li',{attrs:{\"id\":\"search-li\"}},[_vm._v(\"Search Instances On BFDB: \"),_c('input',{attrs:{\"value\":\"Woolf, Virginia, 1882-1941. To the lighthouse\",\"autofocus\":\"\"},on:{\"keyup\":_vm.search}})]),_c('li',{attrs:{\"id\":\"search-li\"}},[_vm._v(\"... Or: URI of BFDB Instance: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.instanceUri),expression:\"instanceUri\"}],attrs:{\"placeholder\":\"BFDB URL\"},domProps:{\"value\":(_vm.instanceUri)},on:{\"keyup\":_vm.instanceUriChange,\"input\":function($event){if($event.target.composing){ return; }_vm.instanceUri=$event.target.value}}}),_c('button',{on:{\"click\":_vm.loadInstance}},[_vm._v(\"Load\")])]),_c('li',{attrs:{\"id\":\"profile-li\"}},[_vm._v(\" Use Instance Resource Template: \"),_c('select',{on:{\"change\":_vm.rtChange}},_vm._l((_vm.rtLookupInstances),function(key){return _c('option',{key:key,domProps:{\"selected\":(key === 'lc:RT:bf2:Monograph:Instance') ? true : false}},[_vm._v(_vm._s(key))])}),0)]),_vm._l((_vm.idWorkSearchResults),function(val,index){return _c('li',{key:index},[_c('button',{on:{\"click\":function($event){return _vm.load(val.id,false)}}},[_vm._v(\"Load\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.load(val.id,true)}}},[_vm._v(\"Load & Edit\")]),_vm._v(\" - \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":val.id}},[_vm._v(_vm._s(val.label))])])})],2)])]),(_vm.transformResultsDisplay != null)?_c('div',{staticStyle:{\"padding\":\"2%\"}},[_c('h1',[_vm._v(\"Load Results:\")]),_c('div',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.transformResultsDisplay.propertyLoadRatio)+\"% properties assigned from data\")]),_c('div',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Unused XML:\")]),_c('code',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_c('pre',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_vm._v(_vm._s(_vm.prettifyXml(_vm.transformResultsDisplay.unusedXml)))])]),_c('hr'),_vm._l((_vm.transformResultsDisplay.propertyLoadReport),function(val,key){return _c('div',{key:key},[(val.status===false)?_c('h3',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(key))]):_vm._e(),(val.status===true)?_c('h3',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(key))]):_vm._e(),(val.status==='mixed')?_c('h3',{staticStyle:{\"color\":\"orange\"}},[_vm._v(_vm._s(key))]):_vm._e(),(val.status!==false)?_c('div',[(val.unAssingedProperties.length>0)?_c('div',[_c('div',[_vm._v(\"Unassinged Properties:\")]),_vm._l((val.unAssingedProperties),function(unval,unvalindex){return _c('div',{key:unvalindex},[_vm._v(_vm._s(unval))])})],2):_vm._e(),_vm._l((val.data),function(dataval,index){return _c('div',{key:index},[_c('div',[_vm._v(_vm._s(dataval.propertyLabel))]),_c('code',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_c('pre',{staticStyle:{\"background-color\":\"whitesmoke\"}},[_vm._v(_vm._s(_vm.prettifyXml(dataval.xml)))])]),_c('vue-json-pretty',{attrs:{\"path\":'res',\"highlightMouseoverNode\":true,\"collapsedOnClickBrackets\":true,\"data\":dataval.json}})],1)})],2):_vm._e(),_c('hr')])})],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// braks non-chromium browsers\n// const jsdom = require(\"jsdom\");\nimport store from \"../store\";\n\n\n\nconst parseBfdb = {\n\n\tdata: {\t\t\n\t\twork: [],\n\t\tinstance: [],\n\t\titem:[]\n\t},\n\n\n\tnamespace: {\n\t\t'bf':'http://id.loc.gov/ontologies/bibframe/',\n\t\t'bflc': 'http://id.loc.gov/ontologies/bflc/',\n\t\t'madsrdf': 'http://www.loc.gov/mads/rdf/v1#',\n\t\t'rdf' : 'http://www.w3.org/1999/02/22-rdf-syntax-ns#'\n\t},\n\n\n\tisClass: function(uri){\n\n\t\tif (uri.match(/bf:[A-Z]/)){\n\t\t\treturn true\n\t\t}\n\n\n\t\treturn false\n\n\t},\n\n\tnamespaceUri: function(uri){\t\n\t\tfor (let ns in this.namespace){\n\t\t\tlet nsuri = this.namespace[ns]\n\t\t\tif (uri.includes(nsuri)){\n\t\t\t\treturn uri.replace(nsuri,`${ns}:`)\n\t\t\t}\n\n\t\t}\n\n\n\t},\n\n\tUriNamespace: function(passedNS){\n\n\t\tfor (let ns in this.namespace){\n\t\t\tlet nsuri = this.namespace[ns]\n\n\t\t\tif (passedNS.includes(ns)){\n\t\t\t\treturn passedNS.replace(`${ns}:`,nsuri)\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\treturnOneWhereParentIs: function(selection, requiredParent){\n\n\t\t// console.log(selection, requiredParent)\n\t\t// console.log('-----',)\n\n\n\t\tif (selection.length == 1){\n\t\t\treturn selection[0]\n\t\t}\n\t\tconsole.log('here')\n\t\tfor (let el of selection){\n\t\t\tif (el.parentNode.tagName === requiredParent){\n\t\t\t\treturn el\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\n\t},\n\n\tactiveDom: null,\n\n\n\tspecialTransforms: {\n\n\n\t\t'bf:subject' : function(xml,profile){\n\n\t\t\t//   <bf:subject>\n\t\t\t//      <bf:Place>\n\t\t\t//        <rdf:type rdf:resource=\"http://www.loc.gov/mads/rdf/v1#ComplexSubject\"/>\n\t\t\t//        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Skye, Island of (Scotland)--Fiction.</rdfs:label>\n\t\t\t//        <madsrdf:authoritativeLabel xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">Skye, Island of (Scotland)--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t//        <madsrdf:isMemberOfMADSScheme rdf:resource=\"http://id.loc.gov/authorities/subjects\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t//        <madsrdf:componentList rdf:parseType=\"Collection\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\">\n\t\t\t//          <madsrdf:Geographic>\n\t\t\t//            <madsrdf:authoritativeLabel>Skye, Island of (Scotland)</madsrdf:authoritativeLabel>\n\t\t\t//          </madsrdf:Geographic>\n\t\t\t//          <madsrdf:GenreForm>\n\t\t\t//            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t//          </madsrdf:GenreForm>\n\t\t\t//        </madsrdf:componentList>\n\t\t\t//        <bflc:aap-normalized xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">skyeislandof(scotland)fiction</bflc:aap-normalized>\n\t\t\t//      </bf:Place>\n\t\t\t//    </bf:subject>\n\n\n\t\t\t// grab the label and uri and type\n\t\t\tlet typeNode = xml.children[0]\n\t\t\tif (!typeNode){\n\t\t\t\tconsole.error('xml.children[0] for this subject does not exist')\n\t\t\t\treturn profile\n\t\t\t}\n\n\t\t\tprofile.userValue['@type'] = this.UriNamespace(typeNode.tagName)\n\t\t\tprofile.userValue['URI'] = null\n\t\t\tlet label = null\n\n\t\t\tif (typeNode.attributes && typeNode.attributes['rdf:about']){\n\t\t\t\tprofile.userValue['URI'] = typeNode.attributes['rdf:about'].value\n\t\t\t}\n\n\t\t\tif (typeNode.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t\t\t\tlabel = typeNode.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t\t\t}\n\t\t\tlet componentList = []\n\n\t\t\t\n\t\t\tprofile.userValue['literal'] = label\n\n\t\t\tif (typeNode.getElementsByTagName('madsrdf:componentList').length>0){\n\n\t\t\t\tfor (let child of typeNode.getElementsByTagName('madsrdf:componentList')[0].children){\n\n\t\t\t\t\tlet ctype = this.UriNamespace(child.tagName)\n\t\t\t\t\tlet clabel = null\n\t\t\t\t\tif (child.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t\t\t\t\t\tclabel = child.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t\t\t\t\t}\n\n\t\t\t\t\tcomponentList.push({'literal':clabel, '@type':ctype})\n\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tprofile.userValue['http://www.loc.gov/mads/rdf/v1#componentList'] = componentList\n\n\n\t\t\t// console.log('###################')\n\t\t\t// console.log(profile.userValue)\n\t\t\t// console.log('###################')\n\n\t\t\treturn profile\n\n\n\t\t},\n\t\t'bf:Work' : function(xml,profile){\n\n\t\t\tconsole.log(\"~~~~~~~~~~~~~~~~~~~\")\n\t\t\tconsole.log(xml)\n\t\t\tconsole.log(xml.attributes['rdf:about'])\n\t\t\tconsole.log(profile)\n\n\t\t\t\n\t\t\t\n\t\t\tlet titleStr = xml.attributes['rdf:about'].value\n\t\t\t\n\t\t\tlet titleEl = xml.getElementsByTagName(\"bflc:aap\")[0]\n\t\t\tif (titleEl){\n\t\t\t\ttitleStr = titleEl.innerHTML\n\t\t\t}\n\n\t\t\t// \"http://www.w3.org/2002/07/owl#sameAs\": {\n\t\t\tprofile.userValue['http://www.w3.org/2002/07/owl#sameAs'] = {\n\t\t\t\t'literal': titleStr,\n\t\t\t\t'URI' : xml.attributes['rdf:about'].value\n\t\t\t}\n\n\t\t\tprofile.userValue.URI = xml.attributes['rdf:about'].value\n\t\t\tprofile.userValue.literal = titleStr\n\t\t\treturn profile\n\t\t},\n\n\n\t\t'bf:contribution' : function(xml,profile){\n\n\n\t\t\t// <bf:contribution>\n\t\t\t//   <bf:Contribution>\n\t\t\t//     <bf:agent>\n\t\t\t//       <bf:Agent rdf:about=\"http://id.loc.gov/rwo/agents/n87899079\">\n\t\t\t//         <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Person\"/>\n\t\t\t//         <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Kemp, Sandra.</rdfs:label>\n\t\t\t//         <madsrdf:isIdentifiedByAuthority rdf:resource=\"http://id.loc.gov/authorities/names/n87899079\" xmlns:madsrdf=\"http://www.loc.gov/mads/rdf/v1#\"/>\n\t\t\t//       </bf:Agent>\n\t\t\t//     </bf:agent>\n\t\t\t//     <bf:role>\n\t\t\t//       <bf:Role rdf:about=\"http://id.loc.gov/vocabulary/relators/ctb\">\n\t\t\t//         <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Contributor</rdfs:label>\n\t\t\t//       </bf:Role>\n\t\t\t//     </bf:role>\n\t\t\t//   </bf:Contribution>\n\t\t\t// </bf:contribution>\n\n\n\t\t\t// grab the label and uri and type\n\n\t\t\tlet typeNode = xml.getElementsByTagName(\"bf:agent\")[0].children[0]\n\n\t\t\tif (!typeNode){\n\t\t\t\tconsole.error('xml.children[0] for this subject does not exist')\n\t\t\t\treturn profile\n\t\t\t}\n\n\t\t\t// console.log(this)\n\n\t\t\tprofile.userValue['@type'] = this.UriNamespace(typeNode.tagName)\n\t\t\tprofile.userValue['URI'] = null\n\t\t\tlet label = null\n\n\t\t\tif (typeNode.getElementsByTagName('rdf:type').length>0){\n\t\t\t\tprofile.userValue['@type'] = typeNode.getElementsByTagName('rdf:type')[0].attributes['rdf:resource'].value\n\t\t\t}\n\n\t\t\tif (typeNode.attributes && typeNode.attributes['rdf:about']){\n\t\t\t\tprofile.userValue['URI'] = typeNode.attributes['rdf:about'].value\n\t\t\t}\n\n\t\t\tif (typeNode.getElementsByTagName('madsrdf:authoritativeLabel').length>0){\n\t\t\t\tlabel = typeNode.getElementsByTagName('madsrdf:authoritativeLabel')[0].innerHTML\n\t\t\t}else if (typeNode.getElementsByTagName('rdfs:label').length>0){\n\t\t\t\tlabel = typeNode.getElementsByTagName('rdfs:label')[0].innerHTML\n\t\t\t}\n\n\t\t\tprofile.userValue['literal'] = label\n\n\n\n\t\t\tif (xml.getElementsByTagName('bf:Role').length>0){\n\t\t\t\tlet role = xml.getElementsByTagName('bf:Role')[0]\n\n\t\t\t\tlet roleuri = null\n\t\t\t\tlet rolelabel = null\n\t\t\t\tif (role.attributes && role.attributes['rdf:about']){\n\t\t\t\t\troleuri = role.attributes['rdf:about'].value\n\t\t\t\t}\n\n\t\t\t\tif (role.getElementsByTagName('rdfs:label').length>0){\n\t\t\t\t\trolelabel= role.getElementsByTagName('rdfs:label')[0].innerHTML\n\t\t\t\t}\n\n\t\t\t\tprofile.userValue['http://id.loc.gov/ontologies/bibframe/role'] = {'URI':roleuri, 'literal': rolelabel}\n\n\n\t\t\t}\n\n\t\t\t\n\n\n\n\t\t\t// console.log('#########specialTransformContribution##########')\n\t\t\t// console.log(profile.userValue)\n\t\t\t// console.log('#########specialTransformContribution##########')\n\n\t\t\treturn profile\n\n\n\t\t}\n\n\n\n\t},\n\n\n\ttransform: function(profile){\n\n\n\n\t\tconsole.log(profile)\n\n\t\tfor (const pkey in profile.rt) {\n\n\t\t\tlet tle = \"\"\t\t\t\n\t\t\tif (pkey.endsWith(':Work')){\n\t\t\t\ttle = \"bf:Work\"\n\t\t\t}else if (pkey.endsWith(':Instance')){\n\t\t\t\ttle = \"bf:Instance\"\n\t\t\t}else if (pkey.endsWith(':Item')){\n\t\t\t\ttle = \"bf:Item\"\n\t\t\t}\n\n\t\t\t// select the right part of the profile\n\t\t\tlet pt = profile.rt[pkey].pt\n\t\t\t\n\t\t\t// select the right part of the XML\n\t\t\tlet xml = this.activeDom.getElementsByTagName(tle)\n\n\t\t\t// only return the top level, no nested related things\n\t\t\txml = this.returnOneWhereParentIs(xml, \"rdf:RDF\")\n\t\t\tconsole.log(\"Doing\", tle)\n\t\t\tif (!xml){\n\t\t\t\tconsole.warn('Could not find the requested XML fragment, looking for ', tle)\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\t// remove some things we will want to work with later but are just too complicated right now\n\t\t\tlet adminMetadata = xml.getElementsByTagName('bf:adminMetadata')\n\t\t\tlet adminMetadataData = Array.prototype.slice.call( adminMetadata )\n\t\t\tfor (let item of adminMetadata) {\n\t\t\t\titem.parentNode.removeChild(item)\n\t\t\t}\n\n\t\t\tlet hasSeries = xml.getElementsByTagName('bf:hasSeries')\n\t\t\tlet hasSeriesData = Array.prototype.slice.call( hasSeries )\n\t\t\tfor (let item of hasSeries) {\n\t\t\t\titem.parentNode.removeChild(item)\n\t\t\t}\n\n\t\t\tlet sucessfulProperties  = []\n\n\t\t\t// at this point we have the main piece of the xml tree that has all our data\n\t\t\t// loop through properties we are looking for and build out the the profile\n\n\t\t\tfor (let k in pt){\n\t\t\t\t// console.log(pt[k])\n\t\t\t\t// console.log(pt[k].propertyURI)\n\t\t\t\tlet propertyURI = pt[k].propertyURI\n\t\t\t\tlet prefixURI = this.namespaceUri(propertyURI)\n\n\t\t\t\t// see if we have that specific propertry in the xml\n\t\t\t\tlet el = xml.getElementsByTagName(prefixURI)\n\n\t\t\t\t// console.log(prefixURI)\n\t\t\t\t// console.log(el)\n\t\t\t\t// console.log('******')\n\n\t\t\t\tif (el.length>0){\n\t\t\t\t\t// we have that element\n\t\t\t\t\tsucessfulProperties.push(prefixURI)\n\t\t\t\t\t// loop through all of them\n\t\t\t\t\tlet counter = 0\n\t\t\t\t\tfor (let e of el){\n\t\t\t\t\t\t// console.log(e,counter, e.children[0].tagName)\n\n\t\t\t\t\t\t// start populating the data\n\t\t\t\t\t\tlet populateData = null\n\t\t\t\t\t\tpopulateData = JSON.parse(JSON.stringify(pt[k]))\n\t\t\t\t\t\t// save the source xml for later display\n\t\t\t\t\t\tpopulateData.xmlSource = e.outerHTML\n\n\t\t\t\t\t\t// console.log(\"----------DOING NOW-------------\")\n\t\t\t\t\t\t// console.log(e.outerHTML)\n\n\t\t\t\t\t\tconsole.log(prefixURI)\n\t\t\t\t\t\t// we have some special functions to deal with tricky elements\n\t\t\t\t\t\tif (this.specialTransforms[prefixURI]){\n\t\t\t\t\t\t\t// make sure to pass the current 'this' context to the functions that use helper functions at this level like this.UriNamespace\n\t\t\t\t\t\t\tpopulateData = this.specialTransforms[prefixURI].call(this,e,populateData)\t\n\n\t\t\t\t\t\t}else if (e.children.length == 0){\n\n\t\t\t\t\t\t\tconsole.log(\"GOT NO KIDS\", (e.innerHTML===true), e.innerHTML.length)\n\t\t\t\t\t\t\tif (e.attributes && e.attributes['rdf:about'] && e.innerHTML.length == 0){\n\t\t\t\t\t\t\t\tpopulateData.userValue ={\n\t\t\t\t\t\t\t\t\tURI: e.attributes['rdf:about'].value,\n\t\t\t\t\t\t\t\t\tlabel: null\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e.attributes && e.attributes['rdf:resource']){\n\t\t\t\t\t\t\t\tpopulateData.userValue ={\n\t\t\t\t\t\t\t\t\tURI: e.attributes['rdf:resource'].value,\n\t\t\t\t\t\t\t\t\tlabel: null\n\t\t\t\t\t\t\t\t} \t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\t\n\n\n\t\t\t\t\t\t\tif (e.innerHTML && e.innerHTML.length!=0){\n\t\t\t\t\t\t\t\tpopulateData.userValue ={\n\t\t\t\t\t\t\t\t\tURI: null,\n\t\t\t\t\t\t\t\t\tlabel: e.innerHTML\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\n\n\t\t\t\t\t\t\tfor (let child of e.children){\n\t\t\t\t\t\t\t\tconsole.log(child.tagName,\"~~~~\",this.isClass(child.tagName))\n\n\n\n\t\t\t\t\t\t\t\t// lvl 1\n\t\t\t\t\t\t\t\tif (this.isClass(child.tagName)){\n\t\t\t\t\t\t\t\t\t// example > <bf:title><bf:Title> \n\t\t\t\t\t\t\t\t\tpopulateData.userValue['@type'] = this.UriNamespace(child.tagName)\n\n\t\t\t\t\t\t\t\t\t// does it have a URI?\n\t\t\t\t\t\t\t\t\tlet childUri = null\n\t\t\t\t\t\t\t\t\tif (child.attributes && child.attributes['rdf:about']){\n\t\t\t\t\t\t\t\t\t\tchildUri = child.attributes['rdf:about'].value\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (child.attributes && child.attributes['rdf:resource']){\n\t\t\t\t\t\t\t\t\t\tchildUri = child.attributes['rdf:resource'].value\n\t\t\t\t\t\t\t\t\t}\t\t\t\n\t\t\t\t\t\t\t\t\t// console.log(child.tagName)\n\t\t\t\t\t\t\t\t\t// console.log(child.attributes)\n\n\n\t\t\t\t\t\t\t\t\tlet childLabel = null\n\n\t\t\t\t\t\t\t\t\t// lvl 2, loop through all of its properties\n\t\t\t\t\t\t\t\t\tfor (let grandchild of child.children){\n\n\t\t\t\t\t\t\t\t\t\t// example > <bf:title><bf:Title> <bf:mainTitle>\n\t\t\t\t\t\t\t\t\t\tif (!this.isClass(grandchild.tagName)){\n\n\t\t\t\t\t\t\t\t\t\t\tif (grandchild.tagName == 'rdfs:label'){\n\t\t\t\t\t\t\t\t\t\t\t\tchildLabel = grandchild.innerHTML\n\t\t\t\t\t\t\t\t\t\t\t}else if (grandchild.tagName == 'rdf:type'){\n\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('rdf:type rdf:type rdf:type rdf:typerdf:type')\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(grandchild)\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(grandchild.attributes)\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(grandchild.attributes['rdf:resource'])\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(grandchild.attributes['rdf:resource'].value)\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (grandchild.attributes['rdf:resource']){\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tpopulateData.userValue['http://www.w3.org/1999/02/22-rdf-syntax-ns#type'] = grandchild.attributes['rdf:resource'].value\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('something strange going on with rdf:resource of rdf:type')\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t// set the value to whatever it is\n\t\t\t\t\t\t\t\t\t\t\t\tif (!this.UriNamespace(grandchild.tagName)){\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.error(grandchild.tagName,'what is this')\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t// does this one also have children?\n\t\t\t\t\t\t\t\t\t\t\t\tif (grandchild.children.length==0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t// no just assign the value\n\t\t\t\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[this.UriNamespace(grandchild.tagName)] = grandchild.innerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(\"-----------NESTED Property------------\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(grandchild.innerHTML)\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildUri = null\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildValue = null\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet greatgrandchildType = null\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let greatgrandchild of grandchild.children){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.isClass(greatgrandchild.tagName)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// something like this\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// <bf:classification>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t<bf:ClassificationLcc>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t<bf:source>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t<bf:Source>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// small usecases here, might need to expand\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildType = this.UriNamespace(greatgrandchild.tagName)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(grandchild)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchild.attributes && greatgrandchild.attributes['rdf:about']){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildUri = greatgrandchild.attributes['rdf:about'].value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let greatgreatgrandchild of greatgrandchild.children){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgreatgrandchild.tagName == 'rdfs:label'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (greatgreatgrandchild.tagName == 'madsrdf:authoritativeLabel'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (greatgreatgrandchild.tagName == 'bf:code'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgreatgrandchild.nnerHTML\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// some hack stuff here\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchildUri && !greatgrandchildValue){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// so there is a URI, but no label or code for it, just use part of  the URI for the label then\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreatgrandchildValue = greatgrandchildUri.split('/')[greatgrandchildUri.split('/').length-1]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildUri)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(greatgrandchildType)\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('not nested class? what is this',greatgrandchild.innerHTML)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (greatgrandchildUri && greatgrandchildValue && greatgrandchildType){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[this.UriNamespace(grandchild.tagName)] = {'@type':greatgrandchildType, 'literal':greatgrandchildValue, 'URI':greatgrandchildUri}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tconsole.error('cant handle nested classes yet')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\tif (childUri && childLabel){\n\t\t\t\t\t\t\t\t\t\t// populateData.userValue['@value'] = {literal: childLabel, URI: childUri}\n\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[propertyURI] = {literal: childLabel, URI: childUri}\n\t\t\t\t\t\t\t\t\t}else if (!childUri && childLabel && Object.keys(populateData.userValue).length==1){\n\t\t\t\t\t\t\t\t\t\t// populateData.userValue['@value'] = childLabel\n\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[propertyURI] = {literal: childLabel, URI: null}\n\t\t\t\t\t\t\t\t\t}else if (childUri && !childLabel) {\n\t\t\t\t\t\t\t\t\t\t// we have a URI but no label for that value, take the last piece of the URL\n\n\t\t\t\t\t\t\t\t\t\tif (childUri.includes('id.loc.gov/vocabulary/')){\n\t\t\t\t\t\t\t\t\t\t\tchildLabel = childUri.split('/')[childUri.split('/').length-1]\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tchildLabel = childUri\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tpopulateData.userValue[propertyURI] = {literal: childLabel, URI: childUri}\n\n\n\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t// console.log(\"~~~~~~~~~~ HHERERERREREERERERER @#$%^&*(\")\n\t\t\t\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t\t\t\t// console.log(childLabel,childUri,populateData)\n\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// console.log('----~~~~~------')\n\t\t\t\t\t\t// console.log(populateData,'populateData',counter)\n\n\t\t\t\t\t\t// since we created a brand new populateData we either need to \n\t\t\t\t\t\t// replace the orginal in the profile or if there is more than one we \n\t\t\t\t\t\t// need to make a new one and add it to the resource template list\n\t\t\t\t\t\t// since each piece of data in the property is its own resource template\n\n\t\t\t\t\t\tif (counter === 0){\n\t\t\t\t\t\t\tpt[k] = populateData\n\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\tlet newKey = `${k}_${counter}`\n\t\t\t\t\t\t\tlet currentpos = profile.rt[pkey].ptOrder.indexOf(k)\n\t\t\t\t\t\t\tprofile.rt[pkey].ptOrder.splice(currentpos+1, 0, newKey);\n\t\t\t\t\t\t\tpt[newKey] = populateData\n\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++\n\n\t\t\t\t\t}\n\n\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t\t// we did something with it, so remove it from the xml\n\t\t\tfor (let p of sucessfulProperties){\n\t\t\t\tlet els = xml.getElementsByTagName(p)\n\t\t\t\t// this is a strange loop here because we need to remvoe elements without changing the parent order which will mess up the dom tree and the loop\n\t\t\t\tfor (let step = els.length-1; step >= 0; step=step-1) {\n\t\t\t\t\tels[step].remove()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// store the unused xml\n\t\t\tprofile.rt[pkey].unusedXml = xml.outerHTML;\n\n\t\t\tlet totalHasDataLoaded = 0\n\t\t\tlet uniquePropertyURIs  = {}\n\t\t\t// we are now going to do some ananlyis on profile, see how many properties are acutally used, what is not used, etc\n\t\t\tfor (let key in profile.rt[pkey].pt){\n\n\t\t\t\t// console.log(key,'key here')\n\t\t\t\tif (Object.keys(uniquePropertyURIs).indexOf(profile.rt[pkey].pt[key].propertyURI)===-1){\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI] = {status:false,data:[],resourceTemplates:{},unAssingedProperties:[]}\n\t\t\t\t}\n\t\t\t\t// mark if we have loaded data from the source for this properity\n\t\t\t\tif (Object.keys(profile.rt[pkey].pt[key].userValue).length==0){\n\t\t\t\t\tprofile.rt[pkey].pt[key].dataLoaded=false\n\t\t\t\t}else{\n\t\t\t\t\tprofile.rt[pkey].pt[key].dataLoaded=true\n\t\t\t\t\ttotalHasDataLoaded++\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].status = true\n\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].data.push({'json':profile.rt[pkey].pt[key].userValue,'propertyLabel': profile.rt[pkey].pt[key].propertyLabel, 'xml':profile.rt[pkey].pt[key].xmlSource})\n\n\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].resourceTemplates[key] = profile.rt[pkey].pt[key]\n\n\t\t\t\t\t// not look into the rt of this propertiy to see what properties we have sucuessfully mapped and things we did not map\n\t\t\t\t\tlet allUris = []\n\t\t\t\t\tprofile.rt[pkey].pt[key].valueConstraint.valueTemplateRefs.forEach((rtName)=>{\n\t\t\t\t\t\tstore.state.rtLookup[rtName].propertyTemplates.forEach((ptObj)=>{\n\t\t\t\t\t\t\tif (allUris.indexOf(ptObj.propertyURI)==-1){\n\t\t\t\t\t\t\t\tallUris.push(ptObj.propertyURI)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\t\n\t\t\t\t\t})\n\n\t\t\t\t\t// console.log(allUris)\n\t\t\t\t\t// console.log(profile.rt[pkey].pt[key].userValue)\n\t\t\t\t\t// console.log('##################~~~~!!!!')\n\t\t\t\t\tprofile.rt[pkey].pt[key].missingProfile = []\n\t\t\t\t\t// loop though the URIs we have\n\t\t\t\t\tObject.keys(profile.rt[pkey].pt[key].userValue).forEach((userURI)=>{\n\t\t\t\t\t\tif (userURI !== '@value' && userURI !== '@type' && userURI !== 'uri'){\n\t\t\t\t\t\t\tif (allUris.indexOf(userURI)===-1){\n\t\t\t\t\t\t\t\tconsole.log(userURI, 'not found')\n\t\t\t\t\t\t\t\tprofile.rt[pkey].pt[key].missingProfile.push(userURI)\n\n\t\t\t\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].unAssingedProperties.push(userURI)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\n\t\t\t\t\tif (uniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].unAssingedProperties.length>0){\n\t\t\t\t\t\tuniquePropertyURIs[profile.rt[pkey].pt[key].propertyURI].status='mixed'\n\t\t\t\t\t}\n\n\t\t\t\t\t// console.log('##################~~~~!!!!')\n\n\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t\tprofile.rt[pkey].propertyLoadReport = uniquePropertyURIs\n\n\t\t\tprofile.rt[pkey].propertyLoadRatio = parseInt(Object.keys(uniquePropertyURIs).filter((k)=>uniquePropertyURIs[k].status).length /Object.keys(uniquePropertyURIs).length * 100)\n\n\t\t\t// console.log(uniquePropertyURIs)\n\t\t\t// console.log('uniquePropertyURIs')\n\t\t\tconsole.log(totalHasDataLoaded)\n\n\n\t\t\t// console.log(\"here\")\n\t\t\t// console.log(pt,tle,xml)\t\n\t\t\t// console.log(profile)\t\n\t\t\t// console.log(\"^^^^^***\")\n\t\t\t// console.log(xml.outerHTML)\n\t\t\t// console.log(sucessfulProperties)\n\t\t\tconsole.log(adminMetadataData,hasSeriesData)\n\n\t\t\tconsole.log('profile',profile)\n\t\t\treturn profile\n\n\t\t}\n\n\n\n\t},\n\n\tparse: function(xml){\n\n\t\tif (!xml){\n\t\t\txml = this.testXml\n\t\t}\t\n\t\t// use the browser if we can, should be faster, fall back to the library if not running in the browser\n\t\tif (window.DOMParser){\n\t\t\tlet parser = new DOMParser();\n\t\t\tthis.activeDom = parser.parseFromString(xml, \"text/xml\");\n\t\t// }else{\n\t\t// \tthis.activeDom = new jsdom.JSDOM(xml, {\n\t\t// \t\tcontentType: \"text/xml\",\n\t\t// \t\tstorageQuota: 10000000\n\t\t// \t})\n\t\t// \tthis.activeDom = this.dom.window.document\n\t\t}\n\n\n\n\t\tconsole.log(this.activeDom.getElementsByTagName(\"rdf:type\")[0].attributes)\n\n\n\n\n\t},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ttestXmlInstance : `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t\t\t\t\t\t<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n\t\t\t\t\t\t  <bf:Instance rdf:about=\"http://id.loc.gov/resources/instances/c0010058400001\" xmlns:bf=\"http://id.loc.gov/ontologies/bibframe/\">\n\t\t\t\t\t\t    <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Print\"/>\n\t\t\t\t\t\t    <bf:issuance>\n\t\t\t\t\t\t      <bf:Issuance rdf:about=\"http://id.loc.gov/vocabulary/issuance/mono\"/>\n\t\t\t\t\t\t    </bf:issuance>\n\t\t\t\t\t\t    <bf:provisionActivity>\n\t\t\t\t\t\t      <bf:ProvisionActivity>\n\t\t\t\t\t\t        <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Publication\"/>\n\t\t\t\t\t\t        <bf:date rdf:datatype=\"http://id.loc.gov/datatypes/edtf\">1988</bf:date>\n\t\t\t\t\t\t        <bf:place>\n\t\t\t\t\t\t          <bf:Place rdf:about=\"http://id.loc.gov/vocabulary/countries/nyu\"/>\n\t\t\t\t\t\t        </bf:place>\n\t\t\t\t\t\t      </bf:ProvisionActivity>\n\t\t\t\t\t\t    </bf:provisionActivity>\n\t\t\t\t\t\t    <bf:identifiedBy>\n\t\t\t\t\t\t      <bf:Lccn>\n\t\t\t\t\t\t        <rdf:value>87023915 </rdf:value>\n\t\t\t\t\t\t      </bf:Lccn>\n\t\t\t\t\t\t    </bf:identifiedBy>\n\t\t\t\t\t\t    <bf:acquisitionTerms>$24.50</bf:acquisitionTerms>\n\t\t\t\t\t\t    <bf:identifiedBy>\n\t\t\t\t\t\t      <bf:Isbn>\n\t\t\t\t\t\t        <rdf:value>1555460348</rdf:value>\n\t\t\t\t\t\t        <bf:qualifier>alk. paper</bf:qualifier>\n\t\t\t\t\t\t      </bf:Isbn>\n\t\t\t\t\t\t    </bf:identifiedBy>\n\t\t\t\t\t\t    <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Virginia Woolf's To the lighthouse</rdfs:label>\n\t\t\t\t\t\t    <bf:title>\n\t\t\t\t\t\t      <bf:Title>\n\t\t\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Virginia Woolf's To the lighthouse</rdfs:label>\n\t\t\t\t\t\t        <bflc:titleSortKey xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">Virginia Woolf's To the lighthouse</bflc:titleSortKey>\n\t\t\t\t\t\t        <bf:mainTitle>Virginia Woolf's To the lighthouse</bf:mainTitle>\n\t\t\t\t\t\t      </bf:Title>\n\t\t\t\t\t\t    </bf:title>\n\t\t\t\t\t\t    <bf:responsibilityStatement>edited and with an introduction by Harold Bloom</bf:responsibilityStatement>\n\t\t\t\t\t\t    <bf:provisionActivity>\n\t\t\t\t\t\t      <bf:ProvisionActivity>\n\t\t\t\t\t\t        <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Publication\"/>\n\t\t\t\t\t\t        <bf:place>\n\t\t\t\t\t\t          <bf:Place>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">New York</rdfs:label>\n\t\t\t\t\t\t          </bf:Place>\n\t\t\t\t\t\t        </bf:place>\n\t\t\t\t\t\t        <bf:agent>\n\t\t\t\t\t\t          <bf:Agent rdf:about=\"https://id.loc.gov/entities/providers/c1d5943c1d6758970d330c5ac19b7955\">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Chelsea House</rdfs:label>\n\t\t\t\t\t\t          </bf:Agent>\n\t\t\t\t\t\t        </bf:agent>\n\t\t\t\t\t\t        <bf:date>1988</bf:date>\n\t\t\t\t\t\t      </bf:ProvisionActivity>\n\t\t\t\t\t\t    </bf:provisionActivity>\n\t\t\t\t\t\t    <bf:provisionActivityStatement>New York : Chelsea House, 1988.</bf:provisionActivityStatement>\n\t\t\t\t\t\t    <bf:extent>\n\t\t\t\t\t\t      <bf:Extent>\n\t\t\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">vii, 164 p.</rdfs:label>\n\t\t\t\t\t\t      </bf:Extent>\n\t\t\t\t\t\t    </bf:extent>\n\t\t\t\t\t\t    <bf:dimensions>24 cm.</bf:dimensions>\n\t\t\t\t\t\t    <bf:seriesStatement>Modern critical interpretations</bf:seriesStatement>\n\t\t\t\t\t\t    <bf:note>\n\t\t\t\t\t\t      <bf:Note>\n\t\t\t\t\t\t        <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">Includes index.</rdfs:label>\n\t\t\t\t\t\t      </bf:Note>\n\t\t\t\t\t\t    </bf:note>\n\t\t\t\t\t\t    <bf:instanceOf rdf:resource=\"http://id.loc.gov/resources/works/c001005840\"/>\n\t\t\t\t\t\t    <bf:adminMetadata>\n\t\t\t\t\t\t      <bf:AdminMetadata>\n\t\t\t\t\t\t        <bf:generationProcess>\n\t\t\t\t\t\t          <bf:GenerationProcess>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC marc2bibframe2 v1.6.0-SNAPSHOT</rdfs:label>\n\t\t\t\t\t\t            <bf:generationDate rdf:datatype=\"http://www.w3.org/2001/XMLSchema#dateTime\">2020-06-26T05:25:04-04:00</bf:generationDate>\n\t\t\t\t\t\t          </bf:GenerationProcess>\n\t\t\t\t\t\t        </bf:generationProcess>\n\t\t\t\t\t\t        <bf:status>\n\t\t\t\t\t\t          <bf:Status>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">increase in encoding level from prepublication</rdfs:label>\n\t\t\t\t\t\t            <bf:code>p</bf:code>\n\t\t\t\t\t\t          </bf:Status>\n\t\t\t\t\t\t        </bf:status>\n\t\t\t\t\t\t        <bflc:encodingLevel xmlns:bflc=\"http://id.loc.gov/ontologies/bflc/\">\n\t\t\t\t\t\t          <bflc:EncodingLevel rdf:about=\"http://id.loc.gov/vocabulary/menclvl/f\">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">full</rdfs:label>\n\t\t\t\t\t\t          </bflc:EncodingLevel>\n\t\t\t\t\t\t        </bflc:encodingLevel>\n\t\t\t\t\t\t        <bf:descriptionConventions>\n\t\t\t\t\t\t          <bf:DescriptionConventions rdf:about=\"http://id.loc.gov/vocabulary/descriptionConventions/aacr\">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">aacr</rdfs:label>\n\t\t\t\t\t\t          </bf:DescriptionConventions>\n\t\t\t\t\t\t        </bf:descriptionConventions>\n\t\t\t\t\t\t        <bf:identifiedBy>\n\t\t\t\t\t\t          <bf:Local>\n\t\t\t\t\t\t            <rdf:value>1005840</rdf:value>\n\t\t\t\t\t\t            <bf:assigner>\n\t\t\t\t\t\t              <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\"/>\n\t\t\t\t\t\t            </bf:assigner>\n\t\t\t\t\t\t          </bf:Local>\n\t\t\t\t\t\t        </bf:identifiedBy>\n\t\t\t\t\t\t        <bf:changeDate rdf:datatype=\"http://www.w3.org/2001/XMLSchema#dateTime\">1988-07-25T00:00:00</bf:changeDate>\n\t\t\t\t\t\t        <bf:creationDate rdf:datatype=\"http://www.w3.org/2001/XMLSchema#date\">1987-08-13</bf:creationDate>\n\t\t\t\t\t\t        <bf:source>\n\t\t\t\t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t\t\t\t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Agent\"/>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t\t\t\t\t\t          </bf:Source>\n\t\t\t\t\t\t        </bf:source>\n\t\t\t\t\t\t        <bf:source>\n\t\t\t\t\t\t          <bf:Source rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t\t\t\t\t\t            <rdf:type rdf:resource=\"http://id.loc.gov/ontologies/bibframe/Agent\"/>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t\t\t\t\t\t          </bf:Source>\n\t\t\t\t\t\t        </bf:source>\n\t\t\t\t\t\t        <bf:descriptionModifier>\n\t\t\t\t\t\t          <bf:Agent rdf:about=\"http://id.loc.gov/vocabulary/organizations/dlc\">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">DLC</rdfs:label>\n\t\t\t\t\t\t          </bf:Agent>\n\t\t\t\t\t\t        </bf:descriptionModifier>\n\t\t\t\t\t\t      </bf:AdminMetadata>\n\t\t\t\t\t\t    </bf:adminMetadata>\n\t\t\t\t\t\t  </bf:Instance>\n\t\t\t\t\t\t</rdf:RDF>`,\n\n\n\ttestXmlWork: ``\n\n\n\n\n}\n\n\nexport default parseBfdb;","<template>\n  <div>\n\n    <div style=\"display: flex\">\n\n      <div id=\"test-id\" style=\"flex: 1\">\n        \n        <ul>\n          <li id=\"search-li\">Search Works On ID: <input @keyup=\"search\" value=\"Woolf, Virginia, 1882-1941. To the lighthouse\" autofocus ></li>\n          <li id=\"profile-li\">\n            Use Work Resource Template: \n            <select @change=\"rtChange\">\n              <option v-for=\"key in rtLookupWorks\" :key=\"key\"  :selected=\"(key === 'lc:RT:bf2:Monograph:Work') ? true : false\"  >{{key}}</option>\n            </select>\n          </li>\n          <li v-for=\"(val,index) in idWorkSearchResults\" :key=\"index\">\n            <button @click=\"load(val.id,false)\">Load</button> <button @click=\"load(val.id,true)\">Load & Edit</button> - <a target=\"_blank\" :href=\"val.id\">{{val.label}}</a></li>\n\n        </ul>\n\n\n\n      </div>\n\n\n\n      <div id=\"test-instance\" style=\"flex: 1\">\n        \n        <ul>\n          <li id=\"search-li\">Search Instances On BFDB: <input @keyup=\"search\" value=\"Woolf, Virginia, 1882-1941. To the lighthouse\" autofocus ></li>\n          <li id=\"search-li\">... Or: URI of BFDB Instance: <input @keyup=\"instanceUriChange\" v-model=\"instanceUri\" placeholder=\"BFDB URL\"><button @click=\"loadInstance\">Load</button></li>\n          <li id=\"profile-li\">\n            Use Instance Resource Template: \n            <select @change=\"rtChange\">\n              <option v-for=\"key in rtLookupInstances\" :key=\"key\"  :selected=\"(key === 'lc:RT:bf2:Monograph:Instance') ? true : false\"  >{{key}}</option>\n            </select>\n          </li>\n          <li v-for=\"(val,index) in idWorkSearchResults\" :key=\"index\">\n            <button @click=\"load(val.id,false)\">Load</button> <button @click=\"load(val.id,true)\">Load & Edit</button> - <a target=\"_blank\" :href=\"val.id\">{{val.label}}</a></li>\n\n        </ul>\n\n\n      </div>\n\n\n    </div>\n\n\n    <div style=\"padding: 2%\" v-if=\"transformResultsDisplay != null\">\n\n\n      <h1>Load Results:</h1>\n\n      <div style=\"font-weight: bold\">{{transformResultsDisplay.propertyLoadRatio}}% properties assigned from data</div>\n      <div style=\"font-weight: bold\">Unused XML:</div>\n      <code style=\"background-color: whitesmoke\"><pre style=\"background-color: whitesmoke\">{{prettifyXml(transformResultsDisplay.unusedXml)}}</pre></code>\n\n      <hr/>\n      <div v-for=\"(val,key) in transformResultsDisplay.propertyLoadReport\" v-bind:key=\"key\">\n\n        <h3 v-if=\"val.status===false\" style=\"color:red\">{{key}}</h3>\n        <h3 v-if=\"val.status===true\" style=\"color:green\">{{key}}</h3>\n        <h3 v-if=\"val.status==='mixed'\" style=\"color:orange\">{{key}}</h3>\n\n        <div v-if=\"val.status!==false\">\n          <div v-if=\"val.unAssingedProperties.length>0\">\n            <div>Unassinged Properties:</div>\n            <div v-for=\"(unval,unvalindex) in val.unAssingedProperties\" v-bind:key=\"unvalindex\">{{unval}}</div>\n          </div>\n          <div v-for=\"(dataval,index) in val.data\" v-bind:key=\"index\">\n            <div>{{dataval.propertyLabel}}</div>\n            <code style=\"background-color: whitesmoke\"><pre style=\"background-color: whitesmoke\">{{prettifyXml(dataval.xml)}}</pre></code>\n            <vue-json-pretty \n              :path=\"'res'\"\n              :highlightMouseoverNode=\"true\"\n              :collapsedOnClickBrackets=\"true\"\n              :data=\"dataval.json\"      \n              >\n            </vue-json-pretty>\n            \n\n\n          </div>\n\n\n        </div>\n          \n\n        <hr/>\n      </div>\n\n\n\n\n\n    </div>\n\n\n  </div>\n</template>\n\n\n<style type=\"text/css\">\n\n    body #app{\n      background-color: white !important;\n    }\n\n    #search-li input{\n      width:50em;\n    }\n    #search-li::before, #profile-li::before{\n      content: ''\n\n    }\n\n\n</style>\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\n\nimport { mapState } from 'vuex'\nimport parseId from '@/lib/parseId'\nimport parseBfdb from '@/lib/parseBfdb'\n\nimport uiUtils from \"@/lib/uiUtils\"\nimport VueJsonPretty from 'vue-json-pretty'\n\n\nexport default {\n  name: \"TestParseId\",\n  components: {\n    // HelloWorld\n    VueJsonPretty\n  },\n\n  data: function() {\n    return {\n      useRtSelected: 'lc:RT:bf2:Monograph:Work',\n      useRtInstanceSelected: 'lc:RT:bf2:Monograph:Instance',\n      searchTimeout: null,\n      transformResults: null,\n      transformResultsDisplay: null,\n      instanceUri: null,\n\n    }\n  },\n\n  computed: mapState({\n      profilesLoaded: 'profilesLoaded',\n      activeProfile: 'activeProfile', \n      idWorkSearchResults: 'idWorkSearchResults',\n      rtLookup:'rtLookup',\n      profiles: 'profiles',\n      idXML:'idXML',\n      \n\n\n      prettyIDXML (state) {\n        if (state.idXML===null || state.idXML === '') return ''\n        return uiUtils.prettifyXml(state.idXML)\n      },\n\n      // to access local state with `this`, a normal function must be used\n      rtLookupWorks (state) {\n        let r = []\n        for (let k of Object.keys(state.rtLookup)){\n          if (k.endsWith(':Work')){\n            r.push(k)\n          }\n        }\n        return r\n      },\n      rtLookupInstances (state) {\n        let r = []\n        for (let k of Object.keys(state.rtLookup)){\n          if (k.endsWith(':Instance')){\n            r.push(k)\n          }\n        }\n        return r\n      }\n\n    }),\n  methods: {\n\n    prettifyXml: uiUtils.prettifyXml,\n\n\n    search: function(event){\n      window.clearTimeout(this.searchTimeout)\n      this.searchTimeout = window.setTimeout(()=>{\n        this.$store.dispatch(\"fetchIdWorkSearch\", { self: this, searchValue: event.target.value }).then(() => {\n\n        })\n      },500)\n    },\n\n    rtChange: function(event){\n      this.useRtSelected = event.target.value\n    },\n    rtInstanceChange: function(event){\n      this.useRtInstanceSelected = event.target.value\n    },\n\n    instanceUriChange: function(event){\n      \n      return event\n    },\n\n\n    loadInstance: function(){\n\n\n        parseBfdb.parse(parseBfdb.testXmlInstance)\n        console.log(parseBfdb)\n\n        let useProfile = null\n        // find the right profile to feed it\n        for (let key in this.profiles){\n          if (this.profiles[key].rtOrder.indexOf(this.useRtInstanceSelected)>-1){\n            useProfile = this.profiles[key]\n          }\n        }\n\n        this.transformResults  = parseBfdb.transform(useProfile)\n\n        let workkey = this.transformResults.rtOrder.filter((k)=> k.endsWith(\":Instance\"))[0]\n\n\n        this.transformResultsDisplay = this.transformResults.rt[workkey]\n\n\n    },\n\n    load: function(useId,goEdit){\n\n\n      this.$store.dispatch(\"fetchIdXML\", { self: this, url: useId }).then(() => {\n        // the xml is loaded\n        //console.log(this.idXML)\n        parseId.parse(this.idXML)\n\n        let useProfile = null\n        // find the right profile to feed it\n        for (let key in this.profiles){\n          if (this.profiles[key].rtOrder.indexOf(this.useRtSelected)>-1){\n            useProfile = this.profiles[key]\n          }\n        }\n\n        this.transformResults  = parseId.transform(useProfile)\n\n        let workkey = this.transformResults.rtOrder.filter((k)=> k.endsWith(\":Work\"))[0]\n\n\n        this.transformResultsDisplay = this.transformResults.rt[workkey]\n\n\n        if (goEdit){\n          this.$store.dispatch(\"setActiveProfile\", { self: this, profile: this.transformResults }).then(() => {\n\n            this.$router.push({ path: 'edit' })\n          })\n        }\n\n        // this.$router.push({ path: 'edit' })\n\n        // console.log(this.transformResults)\n        // console.log(useProfile.id,workkey)\n\n      })\n\n\n\n    }\n\n\n  },\n  created: function () {\n    // kick off the fetching of profiles on load\n    this.$store.dispatch(\"fetchProfiles\", { self: this }).then(() => {\n      parseId.parse()\n      // parseId.transform(this.activeProfile)\n\n      this.$store.dispatch(\"fetchIdWorkSearch\", { self: this, searchValue: 'Woolf, Virginia, 1882-1941. To the lighthouse' }).then(() => {\n\n      })\n      \n    });    \n\n    // console.log(parseId)\n    \n\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseBfdb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseBfdb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestParseBfdb.vue?vue&type=template&id=5b330aad&\"\nimport script from \"./TestParseBfdb.vue?vue&type=script&lang=js&\"\nexport * from \"./TestParseBfdb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TestParseBfdb.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport Edit from \"../views/Edit.vue\";\nimport TestParseId from \"../views/TestParseId.vue\";\nimport TestParseBfdb from \"../views/TestParseBfdb.vue\";\n\n\n\n\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home\n  },\n\n  {\n    path: \"/TestParseId\",\n    name: \"TestParseId\",\n    component: TestParseId\n  },\n  {\n    path: \"/TestParseBfdb\",\n    name: \"TestParseBfdb\",\n    component: TestParseBfdb\n  },\n  \n  {\n    path: \"/edit\",\n    name: \"Edit\",\n    component: Edit\n\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    //component: () =>\n    //  import(/* webpackChunkName: \"about\" */ \"../views/About.vue\")\n  },\n\n\n  {\n    path: \"/settings/:action\",\n    name: \"Home\",\n    component: Home\n  },\n\n\n\n  {\n    path: \"/:action\",\n    name: \"Home\",\n    component: Home\n  },\n  // {\n  //   path: \"/allrecords\",\n  //   name: \"Home\",\n  //   component: Home\n  // },\n  // {\n  //   path: \"/new\",\n  //   name: \"Home\",\n  //   component: Home\n  // },\n  // {\n  //   path: \"/load\",\n  //   name: \"Home\",\n  //   component: Home\n  // },\n  // {\n  //   path: \"/myrecords\",\n  //   name: \"Home\",\n  //   component: Home\n  // },\n\n\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\n\n\nexport default router;\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\n\nimport parseProfile from \"./lib/parseProfile\"\nimport lookupUtil from \"./lib/lookupUtil\"\n\n\n\nimport './assets/main.css';\n\nVue.config.productionTip = false;\nvar app = new Vue({ // eslint-disable-line\n  router,\n  store,\n  render: h => h(App)\n}).$mount(\"#app\"); \n\n\nparseProfile.buildProfiles()\n\t.then(results => lookupUtil.fetchAllOntology(results))\n\n\nif (localStorage.getItem('bfeDiacritics') === null){\n\tlocalStorage.setItem('bfeDiacritics',JSON.stringify([{\"letter\":\"ç\",\"trigger\":\"c\",\"keycode\":99,\"desc\":\"cedilla\"},{\"letter\":\"é\",\"trigger\":\"e\",\"keycode\":101,\"desc\":\"acute e\"},{\"letter\":\"â\",\"trigger\":\"1\",\"keycode\":49,\"desc\":\"circumflex a\"},{\"letter\":\"ê\",\"trigger\":\"2\",\"keycode\":50,\"desc\":\"circumflex e\"},{\"letter\":\"î\",\"trigger\":\"3\",\"keycode\":51,\"desc\":\"circumflex i\"},{\"letter\":\"ô\",\"trigger\":\"4\",\"keycode\":52,\"desc\":\"circumflex o\"},{\"letter\":\"û\",\"trigger\":\"5\",\"keycode\":53,\"desc\":\"circumflex u\"},{\"letter\":\"à\",\"trigger\":\"6\",\"keycode\":54,\"desc\":\"grave accent a\"},{\"letter\":\"è\",\"trigger\":\"7\",\"keycode\":55,\"desc\":\"grave accent e\"},{\"letter\":\"ì\",\"trigger\":\"8\",\"keycode\":56,\"desc\":\"grave accent i\"},{\"letter\":\"ò\",\"trigger\":\"9\",\"keycode\":57,\"desc\":\"grave accent o\"},{\"letter\":\"ù\",\"trigger\":\"0\",\"keycode\":48,\"desc\":\"grave accent u\"},{\"letter\":\"ë\",\"trigger\":\"z\",\"keycode\":122,\"desc\":\"trema e\"},{\"letter\":\"ï\",\"trigger\":\"x\",\"keycode\":120,\"desc\":\"trema i\"},{\"letter\":\"ü\",\"trigger\":\"v\",\"keycode\":118,\"desc\":\"trema u\"}]))\n}\n\n\n\n\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsDiacriticsComponent.vue?vue&type=style&index=0&id=26e77543&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsDiacriticsComponent.vue?vue&type=style&index=0&id=26e77543&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiscLoaderAnimation.vue?vue&type=style&index=0&id=7bb5161c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiscLoaderAnimation.vue?vue&type=style&index=0&id=7bb5161c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-component-container\"},[(_vm.nested == false)?_c('div',{staticStyle:{\"display\":\"flex\",\"position\":\"relative\"},attrs:{\"id\":_vm.profileName+'|'+_vm.profileCompoent}},[_c('div',{staticStyle:{\"flex\":\"4\"}},[(_vm.structure.type == 'literal')?_c('EditLiteralComponent',{attrs:{\"nested\":_vm.nested,\"structure\":_vm.structure,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure,\"activeTemplate\":_vm.activeTemplate}}):(_vm.returnLookupType(_vm.structure) == 'simple')?_c('EditSimpleLookupComponent',{attrs:{\"structure\":_vm.structure,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure,\"nested\":_vm.nested,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent,\"activeTemplate\":_vm.activeTemplate}}):(_vm.returnLookupType(_vm.structure) == 'complex')?_c('EditComplexLookupComponent',{attrs:{\"structure\":_vm.structure,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure,\"nested\":_vm.nested,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent,\"activeTemplate\":_vm.activeTemplate}}):(_vm.structure.valueConstraint.valueTemplateRefs.length > 0)?_c('EditTemplateRefComponent',{attrs:{\"structure\":_vm.structure,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure,\"nested\":_vm.nested,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent,\"activeTemplate\":_vm.activeTemplate}}):_vm._e()],1),_c('div',{staticClass:\"property-button-container\"},[_c('button',{staticClass:\"property-button property-duplicate simptip-position-left\",attrs:{\"tabindex\":\"-1\",\"data-tooltip\":_vm.labels.propertyDuplicateTip},on:{\"click\":_vm.duplicateProperty}},[_vm._v(_vm._s(_vm.labels.propertyDuplicateSymbol))]),_c('button',{staticClass:\"property-button property-remove\",attrs:{\"tabindex\":\"-1\"},on:{\"click\":_vm.removeProperty}},[_vm._v(_vm._s(_vm.labels.propertyRemoveSymbol))])]),_c('div',{staticClass:\"debug-toggle\",staticStyle:{\"position\":\"relative\",\"visibility\":\"hidden\",\"color\":\"red\",\"left\":\"-26%\",\"font-size\":\"0.85em\",\"font-family\":\"monospace\",\"top\":\"8px\",\"cursor\":\"pointer\",\"height\":\"0.85em\"},on:{\"click\":_vm.toggleDebug}},[_vm._v(\"debug\")])]):_c('div',[(_vm.structure.type == 'literal')?_c('EditLiteralComponent',{attrs:{\"activeTemplate\":_vm.activeTemplate,\"nested\":_vm.nested,\"structure\":_vm.structure,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure}}):(_vm.returnLookupType(_vm.structure) == 'simple')?_c('EditSimpleLookupComponent',{attrs:{\"activeTemplate\":_vm.activeTemplate,\"structure\":_vm.structure,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure,\"nested\":_vm.nested,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent}}):(_vm.returnLookupType(_vm.structure) == 'complex')?_c('EditComplexLookupComponent',{attrs:{\"activeTemplate\":_vm.activeTemplate,\"structure\":_vm.structure,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure,\"nested\":_vm.nested,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent}}):(_vm.structure.valueConstraint.valueTemplateRefs.length > 0)?_c('EditTemplateRefComponent',{attrs:{\"activeTemplate\":_vm.activeTemplate,\"structure\":_vm.structure,\"parentStructureObj\":_vm.parentStructureObj,\"parentStructure\":_vm.parentStructure,\"profileName\":_vm.profileName,\"profileCompoent\":_vm.profileCompoent,\"nested\":_vm.nested}}):_vm._e()],1),(_vm.nested == false && _vm.displayDebug)?_c('div',{staticStyle:{\"font-family\":\"monospace\",\"width\":\"69%\",\"background-color\":\"whitesmoke\",\"margin-left\":\"5%\"}},[(_vm.structure.xmlSource)?_c('code',[_c('pre',[_vm._v(_vm._s(_vm.prettifyXml(_vm.structure.xmlSource)))])]):_vm._e(),_c('vue-json-pretty',{attrs:{\"path\":'res',\"highlightMouseoverNode\":true,\"collapsedOnClickBrackets\":true,\"data\":_vm.structure}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.nested != true)?_c('div',{staticClass:\"component-container\"},[_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 68, modifiers: ['ctrlKey','shiftKey'],preventDefault: false}]},on:{\"success\":_vm.openDiacriticSelect}}),_c('div',{staticClass:\"component-container-title\"},[_vm._v(_vm._s(_vm.structure.propertyLabel))]),_c('div',{staticClass:\"component-container-input-container\"},[_c('div',{class:'component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border'},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],staticClass:\"input-single selectable-input\",attrs:{\"bfeType\":\"EditLiteralComponent-unnested\",\"id\":_vm.assignedId,\"name\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":(_vm.inputValue)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.submitField($event)},_vm.nav],\"focus\":_vm.focused,\"keyup\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}})])]),_c('button',{staticClass:\"temp-icon-keyboard fake-real-button simptip-position-top\",attrs:{\"tabindex\":\"-1\",\"data-tooltip\":'Diacritics [CTRL-SHIFT-D]'},on:{\"click\":_vm.openDiacriticSelect}})])])]),(_vm.showDiacritics==true)?_c('div',{staticClass:\"diacritic-modal\"},[_vm._m(0),_c('hr',{staticStyle:{\"margin\":\"2px\"}}),_c('div',{staticClass:\"diacritic-list-holder\"},[_c('table',_vm._l((_vm.diacriticData),function(d,idx){return _c('tr',{key:idx,ref:\"diacriticTable\",refInFor:true,attrs:{\"data-id\":idx},on:{\"click\":_vm.diacriticSelect}},[_c('td',[_c('span',{staticClass:\"diacritic-modal-list-diacritic\"},[_vm._v(_vm._s(d.letter))]),_c('span',{staticStyle:{\"padding-left\":\"2em\"}},[_vm._v(_vm._s(d.desc))])]),_c('td',[_vm._v(_vm._s(d.trigger))])])}),0)])]):_vm._e()],1):_c('div',[_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 68, modifiers: ['ctrlKey','shiftKey'],preventDefault: true}]},on:{\"success\":_vm.openDiacriticSelect}}),_c('div',{class:['component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border', { 'component-container-fake-input-note' : _vm.isNoteField(_vm.structure.propertyLabel)  }]},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('div',{staticClass:\"component-nested-container-title\"},[_vm._v(_vm._s(_vm.structure.propertyLabel))]),(!_vm.isNoteField(_vm.structure.propertyLabel))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],staticClass:\"input-nested selectable-input\",attrs:{\"bfeType\":\"EditLiteralComponent-nested\",\"id\":_vm.assignedId,\"name\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":(_vm.inputValue)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.submitField($event)},_vm.nav],\"focus\":_vm.focused,\"keyup\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}}):_vm._e(),(_vm.isNoteField(_vm.structure.propertyLabel))?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],staticClass:\"input-nested selectable-input\",attrs:{\"bfeType\":\"EditLiteralComponent-nested\",\"id\":_vm.assignedId,\"name\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":(_vm.inputValue)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.submitField($event)},_vm.nav],\"focus\":_vm.focused,\"keyup\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}}):_vm._e()])]),_c('button',{staticClass:\"temp-icon-keyboard fake-real-button simptip-position-top\",attrs:{\"tabindex\":\"-1\",\"data-tooltip\":'Diacritics [CTRL-SHIFT-D]'},on:{\"click\":_vm.openDiacriticSelect}})])]),(_vm.showDiacritics==true)?_c('div',{staticClass:\"diacritic-modal\"},[_vm._m(1),_c('hr',{staticStyle:{\"margin\":\"2px\"}}),_c('div',{staticClass:\"diacritic-list-holder\"},[_c('table',_vm._l((_vm.diacriticData),function(d,idx){return _c('tr',{key:idx,ref:\"diacriticTable\",refInFor:true,attrs:{\"data-id\":idx},on:{\"click\":_vm.diacriticSelect}},[_c('td',[_c('span',{staticClass:\"diacritic-modal-list-diacritic\"},[_vm._v(_vm._s(d.letter))]),_c('span',{staticStyle:{\"padding-left\":\"2em\"}},[_vm._v(_vm._s(d.desc))])]),_c('td',[_vm._v(_vm._s(d.trigger))])])}),0)])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"diacritic-modal-script-list\"},[_c('li',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Custom\")]),_c('li',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"Other\")]),_c('li',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"Langs\")]),_c('li',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"Here\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"diacritic-modal-script-list\"},[_c('li',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Custom\")]),_c('li',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"Other\")]),_c('li',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"Langs\")]),_c('li',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"Here\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"nested != true\" class=\"component-container\">\n\n\n\n    <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 68, modifiers: ['ctrlKey','shiftKey'],preventDefault: false}]\" @success=\"openDiacriticSelect\" />\n\n    <div class=\"component-container-title\">{{structure.propertyLabel}}</div>\n    <div class=\"component-container-input-container\">\n        <div v-bind:class=\"'component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border'\" >\n          <div style=\"display: flex;\">\n            <div style=\"flex:1\">\n              <form autocomplete=\"off\">            \n                <input  bfeType=\"EditLiteralComponent-unnested\" :id=\"assignedId\" v-on:keydown.enter.prevent=\"submitField\" :name=\"assignedId\" v-on:focus=\"focused\" autocomplete=\"off\" type=\"text\" @keydown=\"nav\" @keyup=\"change\" v-model=\"inputValue\"  class=\"input-single selectable-input\">            \n              </form>\n            </div>\n            <button tabindex=\"-1\" class=\"temp-icon-keyboard fake-real-button simptip-position-top\" :data-tooltip=\"'Diacritics [CTRL-SHIFT-D]'\" @click=\"openDiacriticSelect\"></button>\n\n          </div>\n          \n        </div>\n    </div>\n    <div v-if=\"showDiacritics==true\" class=\"diacritic-modal\">\n      <ul class=\"diacritic-modal-script-list\">\n        <li style=\"font-weight: bold\">Custom</li>\n        <li style=\"color:lightgrey\">Other</li>\n        <li style=\"color:lightgrey\">Langs</li>\n        <li style=\"color:lightgrey\">Here</li>\n      </ul>\n      <hr style=\"margin:2px;\">\n\n      <div class=\"diacritic-list-holder\">\n        <table>\n          <tr  v-for=\"(d,idx) in diacriticData\" ref=\"diacriticTable\" @click=\"diacriticSelect\" :data-id=\"idx\" v-bind:key=\"idx\">\n            <td><span class=\"diacritic-modal-list-diacritic\">{{d.letter}}</span><span style=\"padding-left: 2em\">{{d.desc}}</span></td>\n            <td>{{d.trigger}}</td>\n          </tr>\n\n        </table>\n      </div>\n    </div>\n\n  </div>\n\n\n\n\n\n  <div v-else>\n\n        <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 68, modifiers: ['ctrlKey','shiftKey'],preventDefault: true}]\" @success=\"openDiacriticSelect\" />\n\n        <div v-bind:class=\"['component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border', { 'component-container-fake-input-note' : isNoteField(structure.propertyLabel)  }]\">\n          <div style=\"display: flex;\">\n            <div style=\"flex:1\">\n\n              <form autocomplete=\"off\" >\n                <div  class=\"component-nested-container-title\">{{structure.propertyLabel}}</div>\n                <input v-if=\"!isNoteField(structure.propertyLabel)\"  bfeType=\"EditLiteralComponent-nested\" :id=\"assignedId\" :name=\"assignedId\" v-on:keydown.enter.prevent=\"submitField\" v-on:focus=\"focused\" autocomplete=\"off\" type=\"text\" @keyup=\"change\" @keydown=\"nav\" v-model=\"inputValue\"  class=\"input-nested selectable-input\">\n                <textarea v-if=\"isNoteField(structure.propertyLabel)\"  bfeType=\"EditLiteralComponent-nested\" :id=\"assignedId\" :name=\"assignedId\" v-on:keydown.enter.prevent=\"submitField\" v-on:focus=\"focused\" autocomplete=\"off\" type=\"text\" @keyup=\"change\" @keydown=\"nav\" v-model=\"inputValue\"  class=\"input-nested selectable-input\"></textarea>\n\n              </form>\n            </div>\n            <button tabindex=\"-1\" class=\"temp-icon-keyboard fake-real-button simptip-position-top\" :data-tooltip=\"'Diacritics [CTRL-SHIFT-D]'\" @click=\"openDiacriticSelect\"></button>\n\n          </div>\n        </div>\n        <div v-if=\"showDiacritics==true\" class=\"diacritic-modal\">\n          <ul class=\"diacritic-modal-script-list\">\n            <li style=\"font-weight: bold\">Custom</li>\n            <li style=\"color:lightgrey\">Other</li>\n            <li style=\"color:lightgrey\">Langs</li>\n            <li style=\"color:lightgrey\">Here</li>\n          </ul>\n          <hr style=\"margin:2px;\">\n\n          <div class=\"diacritic-list-holder\">\n            <table>\n              <tr  v-for=\"(d,idx) in diacriticData\" ref=\"diacriticTable\" @click=\"diacriticSelect\" :data-id=\"idx\" v-bind:key=\"idx\">\n                <td><span class=\"diacritic-modal-list-diacritic\">{{d.letter}}</span><span style=\"padding-left: 2em\">{{d.desc}}</span></td>\n                <td>{{d.trigger}}</td>\n              </tr>\n\n            </table>\n          </div>\n        </div>\n\n  </div>\n\n\n\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\nimport uiUtils from \"@/lib/uiUtils\"\n\n\nexport default {\n  name: \"EditLiteralComponent\",\n  components: {\n    Keypress: () => import('vue-keypress')    \n  },\n\n  props: {\n    structure: Object,\n    parentStructure: Array,\n    profileCompoent: String,\n    profileName: String,\n    activeTemplate: Object,\n\n    nested: Boolean\n  },\n\n  methods: {\n\n    // this stores the active input at the global var level so it knows how to tab forward\n    focused: function(event){     \n      this.$store.dispatch(\"setActiveInput\", { self: this, id: event.target.id, profileCompoent: this.profileCompoent, profileName: this.profileName }).then(()=>{\n\n        // now add the highlights to the side bars for this field\n        uiUtils.focusSidebars()\n        // console.log(this.activeInput,event.target.id)\n\n\n      })\n      \n\n\n\n    },\n    submitField: uiUtils.globalMoveDown,\n\n\n    isNoteField: function(label){\n\n\n      if (label == 'Note Text') return true\n      if (label == 'Note') return true\n      if (label == 'Contents note') return true\n\n\n      return false\n    },\n\n\n    openDiacriticSelect: function(event){\n\n\n      // we are using global dicratics so stop if this is one of the other components and not this one\n      if (this.assignedId != this.activeInput){\n        return false\n      }\n\n      this.$store.dispatch(\"disableMacroNav\")\n      this.showDiacritics=true\n\n      this.$nextTick(()=>{\n        this.$refs.diacriticTable[this.diacriticDataNav].style.backgroundColor=\"#dfe5f1\"\n      })\n\n\n      // if they acticated it via button then put the focus back on the input text box to recive key commands\n      if (event && event.target && event.target.localName && event.target.localName == 'button'){\n        event.target.parentNode.querySelector('input').focus()\n\n      }\n      \n\n\n\n\n\n\n\n    },\n\n    diacriticSelect: function(event){\n\n      // depending on where they click the parent maybe the td or it may be the tr where the data-id attrubture is storeing the trigger \n      let pos = (event.target.parentNode.dataset.id) ? event.target.parentNode.dataset.id : event.target.parentNode.parentNode.dataset.id\n   \n      \n      if (this.inputValue){\n        this.inputValue = this.inputValue + this.diacriticData[pos].letter\n      }else{\n        this.inputValue = this.diacriticData[pos].letter\n      }\n      this.showDiacritics=false\n      this.$store.dispatch(\"enableMacroNav\")\n\n      // focus back on the input\n      setTimeout(()=>{\n        document.getElementById(this.assignedId).focus()\n      },0)\n\n\n    },\n\n    nav: function(event){\n\n      if (event && event.key && this.showDiacritics == true){\n\n\n        if (event.key == 'Escape'){\n          this.showDiacritics=false\n          this.$store.dispatch(\"enableMacroNav\")\n\n        }else if (event.key == 'ArrowDown' || event.key == 'ArrowUp' ){\n            if (event.key == 'ArrowDown' &&  this.diacriticDataNav < this.$refs.diacriticTable.length-1){\n              this.diacriticDataNav++\n            }else if (event.key == 'ArrowUp' && this.diacriticDataNav>0){\n              this.diacriticDataNav = this.diacriticDataNav - 1\n            }\n\n            this.$refs.diacriticTable.forEach((el)=>{\n              el.style.backgroundColor = 'transparent'\n            })\n            this.$refs.diacriticTable[this.diacriticDataNav].style.backgroundColor=\"#dfe5f1\"\n            this.$refs.diacriticTable[this.diacriticDataNav].scrollIntoView({behavior: \"smooth\", block: \"nearest\", inline: \"nearest\"})\n        }else if (event.key == 'Enter'){\n\n          let letter = this.diacriticData[this.diacriticDataNav].letter\n\n          if (this.inputValue){\n            this.inputValue = this.inputValue + letter\n          }else{\n            this.inputValue = letter\n          }\n\n          this.showDiacritics=false\n          this.$store.dispatch(\"enableMacroNav\")\n\n\n        }else{\n\n          for (let key of this.diacriticData){\n            if (event.key == key.trigger){\n              if (this.inputValue){\n                this.inputValue = this.inputValue + key.letter\n              }else{\n                this.inputValue = key.letter\n              }\n              \n              this.showDiacritics=false\n              this.$store.dispatch(\"enableMacroNav\")              \n            }            \n          }\n\n\n        }\n\n        event.preventDefault()\n        return false\n\n      }\n\n    },\n\n\n    change: function(event){\n\n\n      // this resizes the textarea as there is more content\n      if (event.target && event.target.localName && event.target.localName == 'textarea'){\n        event.target.style.height = \"\"\n        event.target.style.height = event.target.scrollHeight + \"px\"\n      }\n\n      //event.target.style.height='auto'\n      // console.log('----')\n      // console.log('----')\n      // console.log('----')\n      // console.log('----')\n      // console.log(this.profileCompoent)\n      // console.log(this.structure)\n      // console.log(this.inputValue)\n      // console.log(this.activeTemplate,\"Object\")\n      // console.log('----')\n      // console.log('----')\n      // console.log('----')\n      // console.log('----')\n      if (this.inputValue === null) return false\n      if (this.inputValue.trim() === '') return false\n      this.$store.dispatch(\"addValueLiteral\", { self: this, profileComponet: this.profileCompoent, structure: this.structure, template:this.activeTemplate, value:this.inputValue }).then(() => {\n       \n      })   \n\n\n    }\n\n\n\n  },\n  computed: mapState({\n    activeInput: 'activeInput',\n    activeProfile: 'activeProfile',\n    assignedId (){\n\n\n      return uiUtils.assignID(this.structure,this.parentStructure)\n\n    },    \n  }), \n\n  data: function() {\n    return {\n\n      inputValue: null,\n      showDiacritics: false,\n      diacriticData: [],\n      diacriticDataNav: 0\n\n\n    }\n  },\n  created: function(){\n\n\n    let data = this.activeProfile.rt[this.profileName].pt[this.profileCompoent]\n    // console.log(data,data.userValue[this.structure.propertyURI])\n\n    if (data.userValue[this.structure.propertyURI]){\n      this.inputValue = data.userValue[this.structure.propertyURI]\n    }\n\n    let d = localStorage.getItem('bfeDiacritics')\n    if (d){\n      this.diacriticData = JSON.parse(d)\n    }\n\n\n\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n\n    <!-- <pre>{{JSON.stringify(structure,null,2)}}</pre> -->\n\n<style scoped>\n\n.input-nested{\n  width: 95%;\n  border:none;\n  font-size: 1.5em;\n  padding: 0.1em;\n  background: none;\n}\n.input-single{\n  width: 95%;\n  border:none;\n  /*height: 90%;*/\n  font-size: 1.5em;\n  padding: 0.5em 0 0 0.1em;\n  background: none;\n}\n\n\n.fake-real-button{\n  height: 4em;\n  min-width: 4em;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  margin: 0.15em;  \n}\n\n.diacritic-modal{\n  position: absolute;\n  right: 26%;\n  width: 25%;\n  background-color: white;\n  border-radius: 1em;\n  box-shadow: 4px 14px 39px -10px rgba(0,0,0,0.75);\n  height: 15em;\n  z-index: 100;\n  padding: 0.5em;  \n\n}\n\n@media all and (max-width: 1450px) {\n .diacritic-modal{\n  width: 35%;\n }\n}\n@media all and (max-width: 1050px) {\n .diacritic-modal{\n  width: 45%;\n }\n}\n.diacritic-modal-script-list{\n  margin: 0;\n  list-style: none;\n}\n.diacritic-modal-script-list li{\n  display: inline-block;\n  list-style: none;\n}\n.diacritic-modal-script-list li::before{\n  content: '';\n}\n\n.diacritic-modal table{\n  width: 100%;\n  font-size: 1.25em;\n  border-collapse: collapse;\n}\n\n.diacritic-modal tr:hover{\n  background-color: #dfe5f1 !important;\n  cursor: pointer;\n}\n\n\n.diacritic-modal td:nth-child(2){\n  text-align: right;\n  padding-right: 0.5em;\n}\n\n.diacritic-modal-list-diacritic{\nfont-weight: bold;\n    width: 1em;\n    max-width: 1em;\n    text-align: center;\n    display: inline-block;  \n}\n.diacritic-list-holder{\n  max-height: 13em;\n  overflow-y: scroll;\n}\n\ntextarea{\n  border: none;\n  overflow: auto;\n  outline: none;\n\n  height: 1.25em;\n  max-height: 7em;\n  width: 100%;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;  \n}\n.component-container-fake-input:focus-within {\n  /*border: solid 1px #718ec3 !important;*/\n  /*padding: 2px !important;*/\n  background-color: #dfe5f1;\n}\n\n.temp-icon-keyboard{\n  display: none;\n}\n.component-container-fake-input:focus-within .temp-icon-keyboard {\n  /*border: solid 1px #718ec3 !important;*/\n  /*padding: 2px !important;*/\n  display: block;\n}\n\n\n.component-container-fake-input-note{\n  max-height: 10em;\n\n}\n\ninput{\n  outline:none;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nform{\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLiteralComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLiteralComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditLiteralComponent.vue?vue&type=template&id=19334486&scoped=true&\"\nimport script from \"./EditLiteralComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./EditLiteralComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditLiteralComponent.vue?vue&type=style&index=0&id=19334486&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19334486\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.nested != true)?_c('div',{staticClass:\"component-container\"},[_c('div',{staticClass:\"component-container-title\"},[_vm._v(_vm._s(_vm.structure.propertyLabel))]),_c('div',{staticClass:\"component-container-input-container\"},[_c('div',{staticClass:\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"height\":\"100%\"}},[_vm._l((_vm.activeLookupValue),function(avl,idx){return _c('div',{key:idx,staticClass:\"selected-value-container\"},[_c('span',{staticStyle:{\"padding-right\":\"0.3em\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(avl.literal))]),_c('span',{staticStyle:{\"border-left\":\"solid 1px black\",\"padding\":\"0 0.5em\",\"font-size\":\"1em\"}},[_vm._v(\"x\")])])}),_c('input',{ref:\"lookupInput\",staticClass:\"input-single selectable-input\",attrs:{\"bfeType\":\"EditSimpleLookupComponent-unnested\",\"id\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":_vm.activeValue},on:{\"blur\":_vm.blur,\"focus\":function($event){return _vm.autoFocus($event)},\"keydown\":function($event){return _vm.keyDownEvent($event)},\"keyup\":function($event){return _vm.keyUpEvent($event)}}})],2)])]),(_vm.displayAutocomplete==true)?_c('div',{staticClass:\"autocomplete-container\"},[_c('ul',_vm._l((_vm.displayList),function(item,idx){return _c('li',{key:idx,attrs:{\"data-idx\":idx},on:{\"click\":_vm.clickAdd}},[(item==_vm.activeSelect)?_c('span',{staticClass:\"selected\",attrs:{\"data-idx\":idx}},[_vm._v(_vm._s(item))]):_c('span',{attrs:{\"data-idx\":idx}},[_vm._v(_vm._s(item))])])}),0)]):_vm._e()])]):_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{class:['component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search']},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{},[_c('div',{staticClass:\"component-nested-container-title component-nested-container-title-simple-lookup\"},[_vm._v(_vm._s(_vm.structure.propertyLabel))]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_vm._l((_vm.activeLookupValue),function(avl,idx){return _c('div',{key:idx,staticClass:\"selected-value-container-nested\"},[_c('span',{staticStyle:{\"padding-right\":\"0.3em\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(avl.literal))]),_c('span',{staticStyle:{\"border-left\":\"solid 1px black\",\"padding\":\"0 0.5em\",\"font-size\":\"1em\",\"cursor\":\"pointer\"},on:{\"click\":_vm.removeValue}},[_vm._v(\"x\")])])}),_c('input',{ref:\"lookupInput\",staticClass:\"input-nested selectable-input\",attrs:{\"bfeType\":\"EditSimpleLookupComponent-nested\",\"id\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":_vm.activeValue},on:{\"blur\":_vm.blur,\"focus\":function($event){return _vm.autoFocus($event)},\"keydown\":function($event){return _vm.keyDownEvent($event)},\"keyup\":function($event){return _vm.keyUpEvent($event)}}})],2)])])]),(_vm.displayAutocomplete==true)?_c('div',{staticClass:\"autocomplete-container\"},[_c('ul',_vm._l((_vm.displayList),function(item,idx){return _c('li',{key:idx,attrs:{\"data-idx\":idx},on:{\"click\":_vm.clickAdd}},[(item==_vm.activeSelect)?_c('span',{staticClass:\"selected\",attrs:{\"data-idx\":idx}},[_vm._v(_vm._s(item))]):_c('span',{attrs:{\"data-idx\":idx}},[_vm._v(_vm._s(item))])])}),0)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"nested != true\" class=\"component-container\">\n    <div class=\"component-container-title\">{{structure.propertyLabel}}</div>\n    <div class=\"component-container-input-container\">\n        <div class=\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search\">          \n          <form autocomplete=\"off\" v-on:submit.prevent>\n            <div style=\" display: flex; height: 100%\">\n            <!-- <input autocomplete=\"off\" v-bind:value=\"activeSelect\"  type=\"text\" disabled style=\"width: 95%; border:none; height: 90%; font-size: 1.5em; padding: 0.1em; position: relative; background: none; color: lightgray\"> -->\n              \n              <div v-for=\"(avl,idx) in activeLookupValue\" :key=\"idx\" class=\"selected-value-container\">\n                  <span style=\"padding-right: 0.3em; font-weight: bold\">{{avl.literal}}</span>\n                  <span style=\"border-left: solid 1px black; padding: 0 0.5em; font-size: 1em\">x</span>\n              </div>\n              <input bfeType=\"EditSimpleLookupComponent-unnested\" ref=\"lookupInput\"  :id=\"assignedId\" autocomplete=\"off\" v-on:blur=\"blur\" v-bind:value=\"activeValue\"  type=\"text\" @focus=\"autoFocus($event)\" @keydown=\"keyDownEvent($event)\" @keyup=\"keyUpEvent($event)\" class=\"input-single selectable-input\">\n            </div>\n          </form>\n        </div>\n      <div v-if=\"displayAutocomplete==true\" class=\"autocomplete-container\">\n        <ul>\n          <li v-for=\"(item, idx) in displayList\" :data-idx=\"idx\" v-bind:key=\"idx\" @click=\"clickAdd\">\n              <span v-if=\"item==activeSelect\" :data-idx=\"idx\" class=\"selected\">{{item}}</span>\n              <span v-else :data-idx=\"idx\">{{item}}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n<!--             <pre>{{JSON.stringify(structure,null,2)}}</pre>\n -->\n  </div>\n\n\n  <div v-else style=\"position: relative;\">\n      <div v-bind:class=\"['component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search']\" style=\"\">          \n        <form autocomplete=\"off\" v-on:submit.prevent style=\"\">\n          <div style=\"\">\n          <!-- <input autocomplete=\"off\" v-bind:value=\"activeSelect\"  type=\"text\" disabled style=\"width: 95%; border:none; height: 90%; font-size: 1.5em; padding: 0.1em; position: relative; background: none; color: lightgray\"> -->\n            <div class=\"component-nested-container-title component-nested-container-title-simple-lookup\" >{{structure.propertyLabel}}</div>            \n            <div style=\"display: flex\">\n\n              <div v-for=\"(avl,idx) in activeLookupValue\" :key=\"idx\" class=\"selected-value-container-nested\">\n                  <span style=\"padding-right: 0.3em; font-weight: bold\">{{avl.literal}}</span>\n                  <span @click=\"removeValue\" style=\"border-left: solid 1px black; padding: 0 0.5em; font-size: 1em; cursor: pointer;\">x</span>\n              </div>\n\n\n\n\n              <input bfeType=\"EditSimpleLookupComponent-nested\" ref=\"lookupInput\"  :id=\"assignedId\" autocomplete=\"off\" v-on:blur=\"blur\" v-bind:value=\"activeValue\"  type=\"text\" @focus=\"autoFocus($event)\" @keydown=\"keyDownEvent($event)\"  @keyup=\"keyUpEvent($event)\"  class=\"input-nested selectable-input\">\n            </div>              \n\n          </div>\n          \n\n        </form>\n      </div>\n    <div v-if=\"displayAutocomplete==true\" class=\"autocomplete-container\">\n      <ul>\n        <li v-for=\"(item, idx) in displayList\" :data-idx=\"idx\" v-bind:key=\"idx\" @click=\"clickAdd\">\n            <span v-if=\"item==activeSelect\" :data-idx=\"idx\" class=\"selected\">{{item}}</span>\n            <span v-else :data-idx=\"idx\">{{item}}</span>\n        </li>\n      </ul>\n    </div>\n\n<!--             <pre>{{JSON.stringify(structure,null,2)}}</pre>\n -->\n  </div>\n\n\n\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\nimport uiUtils from \"@/lib/uiUtils\"\n\n\nexport default {\n  name: \"EditSimpleLookupComponent\",\n  props: {\n    structure: Object,\n    parentStructure: Array,\n    nested: Boolean,\n    profileName: String,\n    activeTemplate: Object,\n\n    profileCompoent: String\n\n  },\n  data: function() {\n    return {\n      displayAutocomplete: false,\n      uri: this.structure.valueConstraint.useValuesFrom[0],\n      displayList: [],\n      activeFilter: '',\n      activeSelect: '',\n      activeValue: '',\n      doubleDelete: false,\n      activeLookupValue: []\n\n\n    }\n  },\n  created: function(){\n\n\n\n\n\n    // fill in the defaults if it comes with them\n    if (this.structure.valueConstraint.defaults.length>0){\n      this.activeLookupValue.push({})\n      this.activeLookupValue[0].literal = this.structure.valueConstraint.defaults[0].defaultLiteral\n      this.activeLookupValue[0].URI = this.structure.valueConstraint.defaults[0].defaultURI\n    }\n\n    let data = this.activeProfile.rt[this.profileName].pt[this.profileCompoent]\n\n\n      // console.log('&&&&&&&&&&&s')\n      // console.log(this.profileCompoent)\n      // console.log(data.userValue)\n      // console.log(data)\n      // console.log(data.propertyURI)\n      // console.log(this.structure)\n      // console.log('&&&&&&&&&&&')\n\n\n    // what URI was the data stored in\n    let dataField = data.userValue[data.propertyURI]\n    if (data.userValue[this.structure.propertyURI]){\n      dataField = data.userValue[this.structure.propertyURI]\n    }else if (data.userValue['@type'] && data.userValue[data.userValue['@type']]){\n      dataField = data.userValue[this.structure.propertyURI]\n      console.log('okay',dataField)\n\n    }\n\n    // Kind of a HACK here, need to sort out what URI the data is being stored under here\n    \n\n\n    if (data.userValue && dataField){\n      let alv = {}\n      if (dataField.literal){\n        alv.literal = dataField.literal\n      }\n      if (dataField.URI){\n        alv.URI = dataField.URI\n      }\n\n      // no literal\n      if (!alv.literal && alv.URI){\n        alv.literal = alv.URI.split('/').slice(-1)[0] + \" (label missing)\"\n      }\n\n      this.activeLookupValue.push(alv)\n    }\n\n\n\n\n\n\n\n  },\n\n  computed: mapState({\n    lookupLibrary: 'lookupLibrary',\n    activeInput: 'activeInput',\n    activeProfile: 'activeProfile',\n    assignedId (){\n      return uiUtils.assignID(this.structure,this.parentStructure)\n    },  \n    // to access local state with `this`, a normal function must be used\n    lookupVocab (state) {\n      // let uri = this.structure.valueConstraint.useValuesFrom[0]\n\n      // let returnVal = []\n      // Object.keys(state.lookupLibrary).forEach((s)=>{\n      //   console.log(s,this.structure.valueConstraint.useValuesFrom[0])\n      // })\n      // console.log(this.structure.valueConstraint.useValuesFrom[0])\n      // if (state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]){\n      //   console.log('yehhhh')\n      //   return state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]\n      // }else{\n      //   return []\n      // }\n      return state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]\n\n      \n    }\n  }),  \n  methods:{\n\n    removeValue: function(){\n\n      if (this.activeLookupValue.length>1){\n        this.activeLookupValue.splice(-1,1)\n      }else{\n        this.activeLookupValue = []\n      }\n\n    },  \n\n    // Takes the list of values from this lookup uri and filters it based on the input\n  \n    filter: function(){\n\n      this.displayList = []\n      this.activeSelect = ''\n      Object.keys(this.lookupLibrary[this.uri]).forEach((v)=>{\n\n        // the list has a special key metdata that contains more info\n        if (v==='metadata'){return false}\n\n        // no filter yet show first 25\n        if (this.activeFilter.trim()===''){\n          this.lookupLibrary[this.uri][v].forEach((x)=>{\n            // if (this.displayList.length<=25){\n              if (this.displayList.indexOf(x)==-1){\n                this.displayList.push(x)  \n              }\n            // }\n          })          \n        }else{\n\n          // loop through each one, each is a array, so each element of array\n          this.lookupLibrary[this.uri][v].forEach((x)=>{\n            // simple includes value check\n            if (x.toLowerCase().startsWith(this.activeFilter.toLowerCase())){\n                if (this.displayList.indexOf(x)==-1){\n                  this.displayList.push(x)    \n                }\n            }            \n          })\n        }\n\n\n      })\n      // console.log(this.displayList)\n      // take the first hit and make it the autocomplete text\n      if (this.displayList.length>0 && this.activeFilter.length>0){\n        this.activeSelect = this.displayList[0]\n        this.displayAutocomplete = true\n      }\n      if (this.displayList.length==0){\n        this.displayList.push('No Match')\n        this.displayAutocomplete = true\n      }\n      if (this.activeFilter.length==0){\n        this.displayAutocomplete = true\n      }\n\n      if (this.displayAutocomplete){        \n        this.$store.dispatch(\"disableMacroNav\")\n      }else{\n        this.$store.dispatch(\"enableMacroNav\")\n      }\n\n    },\n    autoFocus: function(event){\n\n      // let the rest of the app know what is the active input right now\n      this.$store.dispatch(\"setActiveInput\", { self: this, id: event.target.id, profileCompoent: this.profileCompoent, profileName: this.profileName }).then(()=>{\n\n        // now focus the side bars\n        uiUtils.focusSidebars()\n\n\n      })\n      // assing the input value to the filter value\n      this.activeFilter = event.target.value;\n      // tell the store to load this specific lookup table into memory\n      this.$store.dispatch(\"fetchLookupValues\", { self: this, url: this.structure.valueConstraint.useValuesFrom[0] }).then(() => {\n        // console.log(this.lookupLibrary[this.uri],\"<<!<!<!<<!<!<\")\n        // if there is already a value don't open up the full list, they can type ahead but dont open everything\n        // if (this.activeLookupValue.length==0){\n          // this.filter()\n        // }\n      })    \n      \n      \n      \n\n    },\n    keyUpEvent: function(event){\n\n      if (event && event.key && (event.key!=='ArrowUp' && event.key !=='ArrowDown' && event.key!=='Escape' && event.key!=='Backspace' && event.key!=='Enter' && event.key!=='PageUp' && event.key!=='PageDown')){\n        \n\n        // if we already have a value, do not let it add another\n        // if (this.activeLookupValue != null){\n        //   event.target.value = ''\n        //   event.preventDefault()\n        //   return false\n        // }\n\n\n\n\n        this.activeValue = event.target.value\n        this.doubleDelete = false\n        this.activeValue = event.target.value\n        this.activeFilter = event.target.value\n        this.displayAutocomplete = true\n        this.$store.dispatch(\"disableMacroNav\")\n        this.filter()\n\n\n\n\n      }\n\n\n\n\n\n    },    \n    keyDownEvent: function(event){\n      \n\n      this.activeValue = event.target.value\n      if (event && event.key && this.displayAutocomplete == true && (event.key==='ArrowUp' || event.key==='ArrowDown')){\n        this.doubleDelete = false\n        if (this.displayList.length<=1){\n          return false\n        }\n        if (!this.displayAutocomplete) this.displayAutocomplete = true\n\n        this.activeFilter =''\n        this.activeValue = ''\n        // if there is nothing selected yet then pick the first one\n        if (this.activeSelect.trim()=='' && this.displayList.length>0){\n          this.activeSelect = this.displayList[0]\n          this.activeValue = this.displayList[0]\n\n\n        }else{\n\n          // check if there is one further from the actively selected item\n          for (let step=0; step<this.displayList.length;step++){\n            if (this.displayList[step]===this.activeSelect){\n\n              if (event.key==='ArrowDown'){\n                if (step+1 < this.displayList.length){\n                  this.activeSelect = this.displayList[step+1]\n                  this.activeValue = this.displayList[step+1]\n                  break\n                }\n              }\n              if (event.key==='ArrowUp'){\n                if (step-1 >= 0){\n                  this.activeSelect = this.displayList[step-1]\n                  this.activeValue = this.displayList[step-1]\n                  break\n                }\n              }\n\n            }\n\n          }\n        }\n\n        return false\n      // }else if (event && event.key && this.displayAutocomplete == false && (event.key==='ArrowUp' || event.key==='ArrowDown')){\n\n      }else if (event && event.key && event.key==='Escape'){\n        this.doubleDelete = false\n        this.activeFilter = ''\n        this.activeValue = ''\n        this.displayAutocomplete = false\n      \n      }else if (event && event.key && event.key==='Backspace'){\n\n        if (!this.doubleDelete && this.activeValue === ''){\n          this.doubleDelete = true\n          return false\n        }\n        if (this.activeValue == '' && this.doubleDelete){\n          this.doubleDelete = false\n          // were gonna delete the last one\n          \n          if (this.activeLookupValue.length>1){\n            this.activeLookupValue.splice(-1,1)\n          }else{\n            this.activeLookupValue = []\n          }\n          this.doubleDelete = false\n          this.displayAutocomplete = false\n        }else if (this.activeValue == ''){\n          this.activeValue\n        }\n\n      }else if (event && event.key && event.key==='Enter'){\n        this.doubleDelete = false\n\n        let metadata = this.lookupLibrary[this.uri].metadata.values\n\n        // find the active selected in the data\n        Object.keys(metadata).forEach((key)=>{\n\n          let idx = metadata[key].displayLabel.indexOf(this.activeSelect)\n          if (idx >-1){\n            this.activeLookupValue.push({literal:metadata[key].label[idx],URI:metadata[key].uri})\n            this.activeFilter = ''\n            this.activeValue = ''\n            this.activeSelect = ''\n            this.displayAutocomplete=false\n            this.$store.dispatch(\"addValueLiteral\", { self: this, profileComponet: this.profileCompoent, structure: this.structure, template:this.activeTemplate, value:this.activeLookupValue }).then(() => {\n             \n            })               \n\n          }\n          // let data = this.lookupLibrary[this.uri].metadata[v]\n          // console.log(data,this.lookupLibrary[this.uri].metadata[data])\n          // let idx = data.defaultsisplayLabel.indexOf(this.activeSelect)\n          // if (idx > -1){\n          //   this.structure.valueConstraint.defaults.push({defaultLiteral:data.label[idx],defaultURI:data.uri[idx]})\n          // }\n        })\n\n        if (event.target.value == ''){\n          this.submitField()\n        }\n\n        event.preventDefault()\n\n\n      }else if (event.target.value == ''){\n\n\n            this.activeFilter = ''\n            this.activeValue = ''\n            this.activeSelect = ''\n            this.displayAutocomplete=false\n\n\n\n      }\n\n\n      if (this.displayAutocomplete){        \n        this.$store.dispatch(\"disableMacroNav\")\n      }else{\n        this.$store.dispatch(\"enableMacroNav\")\n      }\n\n\n\n\n    },\n\n    blur: function(){\n\n     // we want to hide the menu on deblur but not if they just click an item in the list\n\n     this.$store.dispatch(\"enableMacroNav\") \n     setTimeout(()=>{ \n      this.displayAutocomplete=false \n      this.$store.dispatch(\"enableMacroNav\") \n    },500)\n\n\n    },\n\n    clickAdd: function(event){\n\n      this.displayAutocomplete=false\n\n\n      let label = this.displayList[event.target.dataset.idx]\n\n      let metadata = this.lookupLibrary[this.uri].metadata.values\n\n      // find the active selected in the data\n      Object.keys(metadata).forEach((key)=>{\n\n        let idx = metadata[key].displayLabel.indexOf(label)\n        if (idx >-1){\n          this.activeLookupValue.push({literal:metadata[key].label[idx],URI:metadata[key].uri})\n          this.activeFilter = ''\n          this.activeValue = ''\n          this.activeSelect = ''\n          this.displayAutocomplete=false\n          this.$store.dispatch(\"addValueLiteral\", { self: this, profileComponet: this.profileCompoent, structure: this.structure, template:this.activeTemplate, value:this.activeLookupValue }).then(() => {\n           \n          })           \n          this.$store.dispatch(\"enableMacroNav\")    \n\n        }\n\n\n      })\n\n      // refocus\n      this.$refs.lookupInput.focus()\n\n\n\n    },\n\n    submitField: uiUtils.globalMoveDown  \n\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n\n    <!-- <pre>{{JSON.stringify(structure,null,2)}}</pre> -->\n\n<style scoped>\n\n.input-single{\n  width: 95%;\n  border:none;\n  font-size: 1.5em;\n  min-height: 2em;\n  max-height: 2em;  \n  background:none;\n}\n.input-nested{\n  width: 95%;\n  border: none;\n  font-size: 1.5em;\n  padding: 0.1em;\n  background: none;\n\n}\n.component-nested-container-title-simple-lookup{\n  /*top: -4.5em;*/\n}\n\nli::before{\n  content: '';\n}\n\nli{\n  padding:0.1em;\n}\n\nli span{\n  padding:0.1em;\n}\ninput{\n  outline: none;\n}\n.component-container-fake-input:focus-within {\n  border: solid 1px #a6acb7;\n  background-color: #dfe5f1;\n\n  \n}\n.selected-value-container{\n  margin: 0.95em;\n  border: solid 1px;\n  border-radius: 0.5em;\n  padding: 0.35em;\n  font-size: 0.75em;\n  background-color: whitesmoke;\n  white-space: nowrap;\n\n}\n.selected-value-container-nested{\n  margin: 0.25em;\n  border: solid 1px;\n  border-radius: 0.5em;\n  padding: 0.35em;\n  font-size: 0.75em;\n  background-color: whitesmoke;\n  white-space: nowrap;\n  display: inline;\n}\n.selected{\n  border:solid 4px lightblue;\n  border-radius: 5px;\n}\n.autocomplete-container{\n  padding: 0.45em;\n  position: absolute;\n  z-index: 100;\n  background-color: white;\n  border-radius: 15px;\n  -webkit-box-shadow: 0px 5px 7px -1px rgba(150,150,150,1);\n  -moz-box-shadow: 0px 5px 7px -1px rgba(150,150,150,1);\n  box-shadow: 0px 5px 7px -1px rgba(150,150,150,1);  \n}\n.autocomplete-container li{\n  cursor: pointer;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nform{\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSimpleLookupComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSimpleLookupComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditSimpleLookupComponent.vue?vue&type=template&id=abebc5b0&scoped=true&\"\nimport script from \"./EditSimpleLookupComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./EditSimpleLookupComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditSimpleLookupComponent.vue?vue&type=style&index=0&id=abebc5b0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abebc5b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.nested != true)?_c('div',{staticClass:\"component-container\"},[_c('div',{staticClass:\"component-container-title\"},[_vm._v(_vm._s(_vm.structure.propertyLabel))]),_c('div',{staticClass:\"component-container-input-container\"},[(_vm.structure.valueConstraint.valueTemplateRefs.length > 1)?[_c('div',{staticClass:\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border\",staticStyle:{\"flex\":\"4\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('input',{staticClass:\"selectable-input\",staticStyle:{\"width\":\"95%\",\"border\":\"none\",\"height\":\"90%\",\"font-size\":\"1.5em\",\"padding\":\"0.1em\",\"background\":\"none\"},attrs:{\"bfeType\":\"EditTemplateRefComponent-nested\",\"id\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":_vm.multiTemplateSelect},on:{\"focus\":_vm.focused,\"keydown\":function($event){return _vm.multiTemplateSelectKeydown($event)}}})])]),_c('button',{staticClass:\"temp-icon-switch fake-real-button simptip-position-top\",attrs:{\"tabindex\":\"-1\",\"data-tooltip\":_vm.labels.refComponentSwitchButton},on:{\"click\":function($event){return _vm.multiTemplateSelectKeydown($event, true)}}})])])]:_vm._e(),(_vm.activeTemplate != null && _vm.activeTemplate.propertyTemplates.length > 0)?_c('div',_vm._l((_vm.activeTemplate.propertyTemplates),function(pt,idx){return _c('EditMainComponent',{key:idx,attrs:{\"activeTemplate\":_vm.activeTemplate,\"structure\":_vm.activeTemplate.propertyTemplates[idx],\"parentStructureObj\":_vm.structure,\"parentStructure\":['nothing'],\"profileCompoent\":_vm.profileCompoent,\"profileName\":_vm.profileName,\"nested\":true}})}),1):_c('div',[_c('span',[_vm._v(\"Missing resource template \"+_vm._s(_vm.structure.valueConstraint.valueTemplateRefs))]),_vm._v(\" \"+_vm._s(_vm.activeTemplate)+\" \")])],2)]):_c('div',{staticClass:\"yehh\"},[(_vm.structure.valueConstraint.valueTemplateRefs.length > 1)?[_c('div',{staticClass:\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border\",staticStyle:{\"flex\":\"4\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('input',{staticClass:\"selectable-input\",staticStyle:{\"width\":\"95%\",\"border\":\"none\",\"height\":\"90%\",\"font-size\":\"1.5em\",\"padding\":\"0.1em\",\"background\":\"none\"},attrs:{\"bfeType\":\"EditTemplateRefComponent-unnested\",\"id\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":_vm.multiTemplateSelect},on:{\"focus\":_vm.focused,\"keydown\":function($event){return _vm.multiTemplateSelectKeydown($event)}}})])]),_c('button',{staticClass:\"temp-icon-switch fake-real-button simptip-position-top\",attrs:{\"tabindex\":\"-1\",\"data-tooltip\":_vm.labels.refComponentSwitchButton},on:{\"click\":function($event){return _vm.multiTemplateSelectKeydown($event, true)}}})])])]:_vm._e(),(_vm.activeTemplate != null && _vm.activeTemplate.propertyTemplates.length > 0)?_vm._l((_vm.activeTemplate.propertyTemplates),function(pt,idx){return _c('EditMainComponent',{key:idx,attrs:{\"position\":idx,\"activeTemplate\":Object.assign({nested:true},_vm.activeTemplate),\"structure\":_vm.activeTemplate.propertyTemplates[idx],\"profileCompoent\":_vm.profileCompoent,\"profileName\":_vm.profileName,\"parentStructureObj\":_vm.structure,\"parentStructure\":['nothing'],\"nested\":true}})}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"nested != true\" class=\"component-container\">\n    <div class=\"component-container-title\">{{structure.propertyLabel}}</div>\n    <div class=\"component-container-input-container\">\n\n      <template  v-if=\"structure.valueConstraint.valueTemplateRefs.length > 1\">\n        <div class=\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border\" style=\"flex:4;\">          \n          <div style=\"display: flex\">\n            <div style=\"flex:1\">\n              <form autocomplete=\"off\">\n                <input bfeType=\"EditTemplateRefComponent-nested\"  :id=\"assignedId\"  v-on:focus=\"focused\" class=\"selectable-input\" autocomplete=\"off\" @keydown=\"multiTemplateSelectKeydown($event)\" type=\"text\" v-bind:value=\"multiTemplateSelect\" style=\"width: 95%; border:none; height: 90%; font-size: 1.5em; padding: 0.1em; background: none\">\n              </form>              \n            </div>\n            <button tabindex=\"-1\" class=\"temp-icon-switch fake-real-button simptip-position-top\" :data-tooltip=\"labels.refComponentSwitchButton\" @click=\"multiTemplateSelectKeydown($event, true)\">\n            </button>\n          </div>\n        </div>\n      </template>\n      <div v-if=\"activeTemplate != null && activeTemplate.propertyTemplates.length > 0\">\n        <!-- <EditMainComponent name=\"pt.\" v-for=\"pt in this.activeTemplate.propertyTemplates\" v-bind:key=\"pt\" v-bind:structure=\"pt\"></EditMainComponent> -->\n        <!-- <EditMainComponent name=\"yeet\"></EditMainComponent> -->\n\n        <EditMainComponent v-for=\"(pt,idx) in activeTemplate.propertyTemplates\" :key=\"idx\" :activeTemplate=\"activeTemplate\" :structure=\"activeTemplate.propertyTemplates[idx]\" :parentStructureObj=\"structure\" :parentStructure=\"['nothing']\" :profileCompoent=\"profileCompoent\" :profileName=\"profileName\" :nested=\"true\"></EditMainComponent>\n      </div>\n      <div v-else>\n        <span>Missing resource template {{structure.valueConstraint.valueTemplateRefs}}</span>\n        {{activeTemplate}}\n      </div>\n\n    </div>   \n\n  </div>\n\n  <div class=\"yehh\" v-else>\n\n\n      <template v-if=\"structure.valueConstraint.valueTemplateRefs.length > 1\">\n        <div class=\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border\" style=\"flex:4;\">          \n          <div style=\"display: flex\">\n            <div style=\"flex:1\">\n              <form autocomplete=\"off\">\n                <input bfeType=\"EditTemplateRefComponent-unnested\" :id=\"assignedId\"  v-on:focus=\"focused\" class=\"selectable-input\" autocomplete=\"off\" @keydown=\"multiTemplateSelectKeydown($event)\" type=\"text\" v-bind:value=\"multiTemplateSelect\" style=\"width: 95%; border:none; height: 90%; font-size: 1.5em; padding: 0.1em; background: none\">\n              </form>              \n            </div>\n            <button tabindex=\"-1\" class=\"temp-icon-switch fake-real-button simptip-position-top\" :data-tooltip=\"labels.refComponentSwitchButton\"  @click=\"multiTemplateSelectKeydown($event, true)\">\n            </button>\n          </div>\n        </div>\n      </template>\n      <template v-if=\"activeTemplate != null && activeTemplate.propertyTemplates.length > 0\">\n        <!-- <EditMainComponent name=\"pt.\" v-for=\"pt in this.activeTemplate.propertyTemplates\" v-bind:key=\"pt\" v-bind:structure=\"pt\"></EditMainComponent> -->\n        <!-- <EditMainComponent name=\"yeet\"></EditMainComponent> -->\n\n        <EditMainComponent v-for=\"(pt,idx) in activeTemplate.propertyTemplates\" :key=\"idx\" :position=\"idx\" :activeTemplate=\"Object.assign({nested:true},activeTemplate)\" :structure=\"activeTemplate.propertyTemplates[idx]\" :profileCompoent=\"profileCompoent\" :profileName=\"profileName\" :parentStructureObj=\"structure\" :parentStructure=\"['nothing']\"  :nested=\"true\"></EditMainComponent>\n      </template>\n\n  </div>\n\n\n</template>\n\n<script>\n\n\n\n// import EditMainComponent from \"@/components/EditMainComponent.vue\";\n\n\nimport { mapState } from 'vuex'\nimport uiUtils from \"@/lib/uiUtils\"\nimport labels from \"@/lib/labels\"\n\n\n\n\nexport default {\n  name: \"EditTemplateRefComponent\",\n  components: {\n    EditMainComponent : () => import('@/components/EditMainComponent.vue')\n  },   \n  props: {\n    structure: Object,\n    parentStructure: Array,\n    profileCompoent: String,\n    profileName: String,\n    nested: Boolean,\n  },  \n  data: function() {\n    return {\n      multiTemplateSelect: \"\",\n      multiTemplateSelectURI: \"\",\n      multiTemplateSelectOptions: [],\n      activeTemplate: null,\n      propertyTemplatesOrderLookup: {},\n      propertyTemplatesOrderTypeLookup: {},\n      labels: labels\n\n    }\n  },\n  computed: mapState({\n    rtLookup: 'rtLookup',\n    activeInput: 'activeInput',\n    activeProfile: 'activeProfile',\n    assignedId (){\n      return uiUtils.assignID(this.structure,this.parentStructure)\n    },  \n\n\n    // to access local state with `this`, a normal function must be used\n    // lookupVocab (state) {\n    //   // let uri = this.structure.valueConstraint.useValuesFrom[0]\n\n    //   // let returnVal = []\n    //   // Object.keys(state.lookupLibrary).forEach((s)=>{\n    //   //   console.log(s,this.structure.valueConstraint.useValuesFrom[0])\n    //   // })\n    //   // console.log(this.structure.valueConstraint.useValuesFrom[0])\n    //   // if (state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]){\n    //   //   console.log('yehhhh')\n    //   //   return state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]\n    //   // }else{\n    //   //   return []\n    //   // }\n    //   return state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]\n\n      \n    // }\n  }),\n  created: function () {\n    \n\n    // if (this.structure.propertyURI == 'http://id.loc.gov/ontologies/bibframe/classification'){\n\n    //   let data = this.activeProfile.rt[this.profileName].pt[this.profileCompoent]\n    //   console.log(data,data.userValue[this.structure.propertyURI], this.structure.propertyURI, 'here')\n\n    //   if (data.userValue[this.structure.propertyURI]){\n    //     this.inputValue = data.userValue[this.structure.propertyURI]\n    //   }\n\n    //   console.log(data,\"!\")\n    //   console.log(this.structure.userValue['@type'])\n\n    // }\n\n    // grab the first component from the struecture, but there might be mutluple ones\n    let useId = this.structure.valueConstraint.valueTemplateRefs[0]\n    let foundBetter = false\n    // do we have user data and a possible @type to use\n    if (this.structure.userValue['@type']){\n\n\n      // loop thrugh all the refs and see if there is a URI that matches it better\n      this.structure.valueConstraint.valueTemplateRefs.forEach((tmpid)=>{\n\n        if (foundBetter) return false\n\n        if (this.rtLookup[tmpid].resourceURI === this.structure.userValue['@type']){\n          useId = tmpid\n          foundBetter = true\n        }\n\n\n        // if (this.structure.propertyURI == 'http://id.loc.gov/ontologies/bibframe/subject'){\n          \n        //   console.log(this.rtLookup[tmpid].resourceURI, \"||\",this.structure.userValue['@type'] )\n        //   console.log('this.rtLookup[useId] HEREERw')\n        //   console.log(this.rtLookup[tmpid])\n        //   console.log(useId)\n\n\n        // }\n\n\n\n\n\n      })\n    } \n    \n    // do not render recursivly if the thing we are trying to render recursivly is one the of the things thAT WER ARE RENDERING TO BEGIN WITHHHHH!!!1\n    if (this.parentStructure && this.parentStructure.indexOf(useId) ==-1){\n      if (this.rtLookup[useId]){\n        this.multiTemplateSelect = this.rtLookup[useId].resourceLabel\n        this.multiTemplateSelectURI = useId\n        this.activeTemplate = this.rtLookup[useId]     \n        this.buildPropertyTemplatesOrderLookup()        \n      }\n    }else{\n\n      // little hack here for now\n      if (useId == 'lc:RT:bf2:Monograph:Dissertation'){\n        this.multiTemplateSelect = this.rtLookup[useId].resourceLabel\n        this.multiTemplateSelectURI = useId\n        this.activeTemplate = this.rtLookup[useId]     \n        this.buildPropertyTemplatesOrderLookup()          \n      }\n\n\n    }\n    // }else{\n    //   console.log(this.parentStructure, 'do not render this one!')\n    // else if (!this.parentStructure){\n    //   this.multiTemplateSelect = this.rtLookup[useId].resourceLabel\n    //   this.multiTemplateSelectURI = useId\n    //   this.activeTemplate = this.rtLookup[useId]      \n    //   this.buildPropertyTemplatesOrderLookup()\n    // }\n    \n  },\n  methods: {\n\n    buildPropertyTemplatesOrderLookup: function(){\n      this.activeTemplate.propertyTemplates.forEach((pt, i)=>{\n        this.propertyTemplatesOrderLookup[pt.propertyURI+pt.propertyLabel] = i\n      })\n\n      // fill in the order type, start end or middle, solo\n\n      if (this.activeTemplate.propertyTemplates.length==1){\n        let useId = this.activeTemplate.propertyTemplates[0].propertyURI + this.activeTemplate.propertyTemplates[0].propertyLabel\n        this.propertyTemplatesOrderTypeLookup[useId] = 'solo'\n      }else if (this.activeTemplate.propertyTemplates.length==2){\n        let useId = this.activeTemplate.propertyTemplates[0].propertyURI + this.activeTemplate.propertyTemplates[0].propertyLabel\n        this.propertyTemplatesOrderTypeLookup[useId] = 'start'\n        useId = this.activeTemplate.propertyTemplates[1].propertyURI + this.activeTemplate.propertyTemplates[1].propertyLabel\n        this.propertyTemplatesOrderTypeLookup[useId] = 'end'\n      }else if (this.activeTemplate.propertyTemplates.length>2){\n        this.activeTemplate.propertyTemplates.forEach((pt, i)=>{\n          if (i == 0){\n            this.propertyTemplatesOrderTypeLookup[pt.propertyURI+pt.propertyLabel] = 'start'\n          } else if (i == this.activeTemplate.propertyTemplates.length-1){\n            this.propertyTemplatesOrderTypeLookup[pt.propertyURI+pt.propertyLabel] = 'end'\n          } else {\n            this.propertyTemplatesOrderTypeLookup[pt.propertyURI+pt.propertyLabel] = 'middle'\n          }\n        })\n\n      }\n\n\n\n    },\n\n    multiTemplateSelectKeydown: function(event, buttonPush){\n      \n\n      // if they click the button fake the event like they pressed arrow key\n      if (buttonPush=== true){\n        event = {\n          key : 'ArrowRight',\n          // the input\n          target: event.target.parentNode.querySelector('input')\n        }\n        // put focus back on input so the keys work if used\n        event.target.parentNode.querySelector('input').focus()\n      }\n\n\n      if (event.key==='ArrowRight'){\n        // get the current pos, and if we are at the end loop back to the beginning\n        let currPos = this.structure.valueConstraint.valueTemplateRefs.indexOf(this.multiTemplateSelectURI)\n        if (currPos+1 > this.structure.valueConstraint.valueTemplateRefs.length-1){\n          currPos=-1\n        }\n        let nextRefID = this.structure.valueConstraint.valueTemplateRefs[currPos+1]\n        this.multiTemplateSelect = this.rtLookup[nextRefID].resourceLabel\n        this.multiTemplateSelectURI = nextRefID\n        this.activeTemplate = this.rtLookup[nextRefID]\n        this.buildPropertyTemplatesOrderLookup()\n        this.focused(event)\n        uiUtils.renderBorders(true)  \n\n        \n      \n      }else if (event.key==='ArrowLeft'){\n        let currPos = this.structure.valueConstraint.valueTemplateRefs.indexOf(this.multiTemplateSelectURI)\n        if (currPos == 0){\n          currPos=this.structure.valueConstraint.valueTemplateRefs.length\n        }\n\n        let nextRefID = this.structure.valueConstraint.valueTemplateRefs[currPos-1]\n        this.multiTemplateSelect = this.rtLookup[nextRefID].resourceLabel\n        this.multiTemplateSelectURI = nextRefID\n        this.activeTemplate = this.rtLookup[nextRefID]\n        this.buildPropertyTemplatesOrderLookup()\n        this.focused(event)\n        uiUtils.renderBorders(true)\n      }else if (event.key==='Tab'){\n        return true\n\n\n      }else{\n        event.preventDefault();\n        return false        \n      }\n\n\n    },\n    focused: function(event){\n      // console.log('regsrerd',this.activeInput)\n      this.$store.dispatch(\"setActiveInput\", { self: this, id: event.target.id, profileCompoent: this.profileCompoent, profileName: this.profileName }).then(()=>{\n\n        // now focus the side bars\n        uiUtils.focusSidebars()\n\n\n      })\n    } \n\n\n\n  }\n\n\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n\n    <!-- <pre>{{JSON.stringify(structure,null,2)}}</pre> -->\n\n<style scoped>\n\n.component-container-fake-input:focus-within {\n  border: solid 1px #a6acb7;\n  background-color: #dfe5f1;\n}\ninput{\n  border: none;\n  color: transparent;\n  text-shadow: 0 0 0 gray;\n  text-align: left;  \n}\n.fake-real-button{\n  height: 4em;\n  min-width: 4em;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  margin: 0.15em;  \n}\n\ninput{\n  outline:none;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nform{\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTemplateRefComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTemplateRefComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditTemplateRefComponent.vue?vue&type=template&id=791e2d80&scoped=true&\"\nimport script from \"./EditTemplateRefComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./EditTemplateRefComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditTemplateRefComponent.vue?vue&type=style&index=0&id=791e2d80&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"791e2d80\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"key-code\":27},on:{\"success\":_vm.closeModal}}),_c('Keypress',{attrs:{\"key-event\":\"keydown\",\"multiple-keys\":[{keyCode: 66, modifiers: ['ctrlKey'],preventDefault: true}]},on:{\"success\":_vm.togglePreCoordinated}}),(_vm.nested == false)?_c('div',{staticClass:\"component-container\"},[_c('div',{staticClass:\"component-container-title\"},[_vm._v(_vm._s(_vm.structure.propertyLabel))]),_c('div',{staticClass:\"component-container-input-container\"},[_c('div',{staticClass:\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search\"},[(_vm.userData[_vm.structure.propertyURI])?_c('div',[_vm._v(\" Data \")]):_c('input',{staticClass:\"selectable-input input-single\",attrs:{\"bfeType\":\"EditComplexLookupComponent\",\"id\":_vm.assignedId,\"type\":\"text\"},on:{\"focus\":_vm.focused,\"keydown\":function($event){return _vm.activate($event)}}})])])]):_c('div',[_c('div',{class:['component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search']},[_c('div',{staticClass:\"component-nested-container-title\",staticStyle:{\"top\":\"0\"}},[_vm._v(_vm._s(_vm.structure.propertyLabel))]),(_vm.userData.literal)?_c('div',{staticStyle:{\"position\":\"absolute\"}},[_c('div',{staticClass:\"selected-value-container-nested\",staticStyle:{\"display\":\"inline-block\",\"position\":\"relative\",\"bottom\":\"7px\"}},[_c('span',{staticStyle:{\"padding-right\":\"0.3em\",\"font-weight\":\"bold\"},on:{\"click\":_vm.toggleSelectedDetails}},[_c('span',{staticClass:\"selected-value-icon\",domProps:{\"innerHTML\":_vm._s(_vm.returnAuthIcon(_vm.userData['@type']))}}),_vm._v(_vm._s(_vm.userData.literal))]),_c('span',{staticStyle:{\"border-left\":\"solid 1px black\",\"padding\":\"0 0.5em\",\"font-size\":\"1em\"},on:{\"click\":_vm.removeValue}},[_vm._v(\"x\")])]),_c('form',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('input',{staticClass:\"selectable-input input-nested\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"bfeType\":\"EditComplexLookupComponent\",\"type\":\"text\",\"id\":_vm.assignedId},on:{\"keydown\":_vm.doubleDeleteCheck,\"focus\":_vm.focused}})]),(_vm.displaySelectedDetails==true)?_c('div',{staticClass:\"selected-value-details\"},[_c('button',{staticClass:\"selected-value-details-close\",on:{\"click\":_vm.toggleSelectedDetails}},[_vm._v(\"Close\")]),_c('a',{staticStyle:{\"color\":\"white\",\"text-decoration\":\"none\"},attrs:{\"target\":\"_blank\",\"href\":_vm.userData.URI}},[_vm._v(\"View Entity\")]),_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(_vm._s(_vm.userData['@type']))]),(_vm.userData.context)?_c('div',[(_vm.userData.context.variant.length>0)?_c('div',[_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(\"Varients:\")]),_c('ul',_vm._l((_vm.userData.context.variant),function(v,idx){return _c('li',{key:'var' + idx,staticClass:\"modal-context-data-li\"},[_vm._v(_vm._s(v))])}),0)]):_vm._e(),_vm._l((Object.keys(_vm.userData.context.nodeMap)),function(key){return _c('div',{key:key},[_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(_vm._s(key)+\":\")]),_c('ul',_vm._l((_vm.userData.context.nodeMap[key]),function(v){return _c('li',{key:v,staticClass:\"modal-context-data-li\"},[_vm._v(_vm._s(v))])}),0)])}),(_vm.userData.context.source.length>0)?_c('div',[_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(\"Sources:\")]),_c('ul',_vm._l((_vm.userData.context.source),function(v){return _c('li',{key:v,staticClass:\"modal-context-data-li\"},[_vm._v(_vm._s(v))])}),0)]):_vm._e()],2):_vm._e()]):_vm._e()]):_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('input',{staticClass:\"selectable-input input-nested\",attrs:{\"bfeType\":\"EditComplexLookupComponent\",\"type\":\"text\",\"id\":_vm.assignedId},on:{\"focus\":_vm.focused,\"keydown\":function($event){return _vm.activate($event)}}})])])]),_c('div',{class:['modaloverlay',{'modal-display':_vm.displayModal}],attrs:{\"id\":_vm.assignedId},on:{\"click\":_vm.closeModal}},[_c('div',{class:['modal']},[_c('div',[_c('div',{staticClass:\"close temp-icon-close\",on:{\"click\":_vm.closeModal}}),_c('div',{staticClass:\"modal-title\"},[_vm._v(\"Lookup\")]),_c('div',{staticClass:\"modal-content\"},[_c('div',{class:['modal-content-flex-container',{'modal-content-flex-container-complex':(_vm.canBuildComplex()==true && _vm.displayPreCoordinated == true), 'modal-content-flex-container-complex-prompt': _vm.displayPreCoordinated==false, 'modal-content-flex-container-complex-hide' : (_vm.canBuildComplex()==false) }]},[_c('div',{staticClass:\"modal-content-left\"},[_c('div',{staticStyle:{\"height\":\"20%\"}},[_c('div',{staticClass:\"modal-switch-values-container component-container-fake-input no-lower-right-border-radius\",staticStyle:{\"flex\":\"4\",\"border-top-left-radius\":\"0.5em\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('input',{staticClass:\"no-lower-right-border-radius\",staticStyle:{\"width\":\"95%\",\"border\":\"none\",\"height\":\"90%\",\"font-size\":\"1.5em\",\"padding\":\"0.1em\",\"background\":\"none\"},attrs:{\"id\":_vm.assignedId+'switch',\"bfeType\":\"\",\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":_vm.modeSelect},on:{\"focus\":_vm.focused,\"keydown\":function($event){return _vm.switchTypes($event)}}})])]),_c('button',{staticClass:\"temp-icon-switch fake-real-button simptip-position-top\",attrs:{\"data-tooltip\":'Select subset of the vocabulary to use [Left] or [Right Arrow]'},on:{\"click\":function($event){return _vm.switchTypes($event, true)}}})])]),_c('div',{class:['component-container-fake-input no-upper-right-border-radius no-upper-border modal-switch-values-container'],staticStyle:{\"border-bottom-left-radius\":\"0.5em\"}},[_c('form',{attrs:{\"autocomplete\":\"off\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],ref:\"searchInput\",staticStyle:{\"width\":\"95%\",\"border\":\"none\",\"height\":\"90%\",\"font-size\":\"2em\",\"padding\":\"0.2em 0.1em 0.2em 0.1em\",\"background\":\"none\"},attrs:{\"bfeType\":\"\",\"id\":_vm.assignedId+'search',\"name\":_vm.assignedId,\"autocomplete\":\"off\",\"type\":\"text\"},domProps:{\"value\":(_vm.searchValue)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.submitField($event)},function($event){return _vm.searchNav($event)}],\"focus\":_vm.focused,\"keyup\":function($event){return _vm.search($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}})])])]),_c('div',{class:['complex-lookup-results',{'complex-lookup-results-complex':_vm.canBuildComplex()}]},[(_vm.activeComplexSearch.length == 0 && _vm.activeComplexSearchInProgress == false && _vm.initalSearchState != true)?_c('div',[_c('h5',[_vm._v(\"No results found.\")])]):_vm._e(),(_vm.activeComplexSearchInProgress == true)?_c('div',[_c('h5',[_vm._v(\"Searching...\")])]):_vm._e(),_c('select',{staticClass:\"modal-entity-select\",staticStyle:{\"height\":\"100%\"},attrs:{\"size\":\"10\",\"id\":_vm.assignedId+'select'},on:{\"change\":function($event){return _vm.selectChange($event)},\"keydown\":function($event){return _vm.selectNav($event)}}},_vm._l((_vm.activeComplexSearch),function(r,idx){return _c('option',{key:idx,staticClass:\"complex-lookup-result\",domProps:{\"value\":r.uri,\"innerHTML\":_vm._s(_vm.returnAuthIcon(r) + ' ' + r.label)}})}),0)])]),_c('div',{staticClass:\"modal-content-right\"},[(Object.keys(_vm.contextData).length>0)?_c('div',{staticClass:\"modal-context\"},[_c('h3',[_c('span',{staticClass:\"modal-context-icon simptip-position-top\",attrs:{\"data-tooltip\":'Type: ' + _vm.contextData.type},domProps:{\"innerHTML\":_vm._s(_vm.returnAuthIcon(_vm.contextData.type))}}),_vm._v(_vm._s(_vm.contextData.title))]),_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(_vm._s(_vm.contextData.type))]),(_vm.contextData.variant.length>0)?_c('div',[_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(\"Varients:\")]),_c('ul',_vm._l((_vm.contextData.variant),function(v,idx){return _c('li',{key:'var' + idx,staticClass:\"modal-context-data-li\"},[_vm._v(_vm._s(v))])}),0)]):_vm._e(),_vm._l((Object.keys(_vm.contextData.nodeMap)),function(key){return _c('div',{key:key},[_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(_vm._s(key)+\":\")]),_c('ul',_vm._l((_vm.contextData.nodeMap[key]),function(v){return _c('li',{key:v,staticClass:\"modal-context-data-li\"},[_vm._v(_vm._s(v))])}),0)])}),(_vm.contextData.source.length>0)?_c('div',[_c('div',{staticClass:\"modal-context-data-title\"},[_vm._v(\"Sources:\")]),_c('ul',_vm._l((_vm.contextData.source),function(v){return _c('li',{key:v,staticClass:\"modal-context-data-li\"},[_vm._v(_vm._s(v))])}),0)]):_vm._e()],2):_vm._e(),(Object.keys(_vm.contextData).length != 0)?_c('div',{staticClass:\"modal-context-add-menu\"},[(_vm.precoordinated.length == 0)?_c('button',{on:{\"click\":_vm.add}},[_vm._v(\"Add Selected [Enter]\")]):_c('button',{staticClass:\"simptip-position-left\",attrs:{\"data-tooltip\":''},on:{\"click\":_vm.add}},[_vm._v(\"Add Pre-Coordinated [Enter]\")])]):_vm._e()])]),(_vm.displayPreCoordinated==true)?_c('div',{staticClass:\"modal-context-build-manual\"},[_c('div',{staticClass:\"modal-context-build-manual-buttons\"},[_c('div',[_vm._v(\"Build manual pre-coordinated: Add selected as a subdivision: \")]),_c('button',{staticStyle:{\"width\":\"11em\"},on:{\"click\":function($event){return _vm.precoordinatedAddSubdivision('Topic')}}},[_vm._v(\"Heading or Topical [CRTL+1] \")]),_c('button',{staticStyle:{\"width\":\"9em\"},on:{\"click\":function($event){return _vm.precoordinatedAddSubdivision('Geographic')}}},[_vm._v(\"Geographic [CRTL+2] \")]),_c('button',{staticStyle:{\"width\":\"9em\"},on:{\"click\":function($event){return _vm.precoordinatedAddSubdivision('Temporal')}}},[_vm._v(\"Chronological [CRTL+3] \")]),_c('button',{staticStyle:{\"width\":\"6em\"},on:{\"click\":function($event){return _vm.precoordinatedAddSubdivision('GenreForm')}}},[_vm._v(\"Form [CRTL+4] \")]),_c('button',{staticStyle:{\"width\":\"7em\"},on:{\"click\":function($event){return _vm.precoordinatedRemoveLast()}}},[_vm._v(\"Remove Last [CRTL+5] \")])]),_c('div',{staticClass:\"modal-context-build-manual-precoordinted-display\"},[(_vm.precoordinated.length == 0)?_c('span',[_vm._v(\"Your pre-coordinated heading will display here when you add subdivisions\")]):_vm._e(),_c('span',[_vm._v(\" \"+_vm._s(_vm.precoordinated.map(function (p){return p.label}).join(\"--\"))+\" \")])])]):_c('div',{staticClass:\"modal-context-build-manual\",staticStyle:{\"text-align\":\"center\",\"cursor\":\"pointer\"},on:{\"click\":_vm.togglePreCoordinated}},[_vm._v(\" Build [CTRL+B] a pre-coordinated heading. \")])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\n\n  <div >\n    <Keypress key-event=\"keydown\" :key-code=\"27\" @success=\"closeModal\" />\n    <Keypress key-event=\"keydown\" :multiple-keys=\"[{keyCode: 66, modifiers: ['ctrlKey'],preventDefault: true}]\" @success=\"togglePreCoordinated\" />\n\n    <div v-if=\"nested == false\" class=\"component-container\">\n      <div class=\"component-container-title\">{{structure.propertyLabel}}</div>\n      <div class=\"component-container-input-container\">\n          <div class=\"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search\"> \n            <div v-if=\"userData[structure.propertyURI]\">\n              Data\n            </div>\n            <input v-else bfeType=\"EditComplexLookupComponent\" :id=\"assignedId\"  v-on:focus=\"focused\" type=\"text\"  class=\"selectable-input input-single\" @keydown=\"activate($event)\"   />\n          </div>\n      </div>\n    </div>\n\n\n    <div v-else>\n  <!--     <div class=\"component-container-title\">{{structure.propertyLabel}}</div>\n   -->    \n\n      <div v-bind:class=\"['component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search']\">       \n        <div class=\"component-nested-container-title\" style=\"top: 0;\">{{structure.propertyLabel}}</div>\n\n          <!-- if there is userdata for this type of componet then it is a lookedup entity, make the entity, dont display the inputfield -->\n          <div v-if=\"userData.literal\" style=\"position: absolute;\">\n             <div class=\"selected-value-container-nested\" style=\"display: inline-block; position: relative; bottom: 7px;\">\n                  <span  @click=\"toggleSelectedDetails\" style=\"padding-right: 0.3em; font-weight: bold\"><span class=\"selected-value-icon\" v-html=\"returnAuthIcon(userData['@type'])\"></span>{{userData.literal}}</span>\n                  <span  @click=\"removeValue\" style=\"border-left: solid 1px black; padding: 0 0.5em; font-size: 1em\">x</span>\n              </div>\n\n              <!-- We are displaying the input here to act as a landing pad for when moving through and also to double detel remove lookups -->\n              <form style=\"display: inline-block;\" autocomplete=\"off\" v-on:submit.prevent>\n                <input style=\"display: inline-block;\"  bfeType=\"EditComplexLookupComponent\" type=\"text\" class=\"selectable-input input-nested\" :id=\"assignedId\" @keydown=\"doubleDeleteCheck\"  v-on:focus=\"focused\"   />\n              </form>\n\n              <div v-if=\"displaySelectedDetails==true\" class=\"selected-value-details\">\n                \n                <button class=\"selected-value-details-close\" @click=\"toggleSelectedDetails\">Close</button>\n                <a style=\"color:white; text-decoration: none;\" target=\"_blank\" :href=\"userData.URI\">View Entity</a>\n                <div class=\"modal-context-data-title\">{{userData['@type']}}</div>\n\n                <div v-if=\"userData.context\">\n                  <div v-if=\"userData.context.variant.length>0\">\n                    <div class=\"modal-context-data-title\">Varients:</div>\n                    <ul>\n                      <li class=\"modal-context-data-li\" v-for=\"(v,idx) in userData.context.variant\" v-bind:key=\"'var' + idx\">{{v}}</li>\n                    </ul>\n\n\n                  </div>\n\n                  <div v-for=\"key in Object.keys(userData.context.nodeMap)\" :key=\"key\">\n                    <div class=\"modal-context-data-title\">{{key}}:</div>\n                      <ul>\n                        <li class=\"modal-context-data-li\" v-for=\"v in userData.context.nodeMap[key]\" v-bind:key=\"v\">{{v}}</li>\n                      </ul>\n                  </div>\n\n\n                  <div v-if=\"userData.context.source.length>0\">\n                    <div class=\"modal-context-data-title\">Sources:</div>\n                    <ul>\n                      <li class=\"modal-context-data-li\" v-for=\"v in userData.context.source\" v-bind:key=\"v\">{{v}}</li>\n                    </ul>\n\n\n                  </div>    \n                </div>            \n\n                \n              </div>\n          </div>\n\n          <!-- Just display the input, no data populated -->\n          <form v-else autocomplete=\"off\" v-on:submit.prevent>\n            <input  bfeType=\"EditComplexLookupComponent\" type=\"text\" class=\"selectable-input input-nested\" :id=\"assignedId\"  v-on:focus=\"focused\" @keydown=\"activate($event)\"   />\n          </form>\n      </div>\n    </div>\n\n\n\n    <!-- Always build this interface, the lookup modal -->\n\n    <div :id=\"assignedId\" @click=\"closeModal\" v-bind:class=\"['modaloverlay',{'modal-display':displayModal}]\">\n      <div v-bind:class=\"['modal']\">\n\n        <div>\n          <div class=\"close temp-icon-close\" @click=\"closeModal\"></div>\n          <div class=\"modal-title\">Lookup</div>\n          <div class=\"modal-content\">\n            <div v-bind:class=\"['modal-content-flex-container',{'modal-content-flex-container-complex':(canBuildComplex()==true && displayPreCoordinated == true), 'modal-content-flex-container-complex-prompt': displayPreCoordinated==false, 'modal-content-flex-container-complex-hide' : (canBuildComplex()==false) }]\">\n\n\n              \n              <div class=\"modal-content-left\">\n\n                <div style=\"height: 20%;\">\n                  <div class=\"modal-switch-values-container component-container-fake-input no-lower-right-border-radius\" style=\"flex:4; border-top-left-radius: 0.5em; \">          \n                    <div style=\"display: flex\">\n                      <div style=\"flex:1\">\n                        <form autocomplete=\"off\">\n                          <input class=\"no-lower-right-border-radius\" :id=\"assignedId+'switch'\" bfeType=\"\"  v-on:focus=\"focused\" autocomplete=\"off\" v-bind:value=\"modeSelect\" @keydown=\"switchTypes($event)\" type=\"text\" style=\"width: 95%; border:none; height: 90%; font-size: 1.5em; padding: 0.1em; background: none\">\n                        </form>              \n                      </div>\n                      <button class=\"temp-icon-switch fake-real-button simptip-position-top\" :data-tooltip=\"'Select subset of the vocabulary to use [Left] or [Right Arrow]'\" @click=\"switchTypes($event, true)\">\n                      </button>\n                    </div>\n                  </div>\n\n\n                  <div v-bind:class=\"['component-container-fake-input no-upper-right-border-radius no-upper-border modal-switch-values-container']\" style=\"border-bottom-left-radius: 0.5em; \">\n                    <form autocomplete=\"off\" >\n                      <input bfeType=\"\" v-model=\"searchValue\" ref=\"searchInput\"  :id=\"assignedId+'search'\" :name=\"assignedId\" v-on:keydown.enter.prevent=\"submitField\" v-on:focus=\"focused\" autocomplete=\"off\" type=\"text\" @keydown=\"searchNav($event)\" @keyup=\"search($event)\"  style=\"width: 95%; border:none; height: 90%; font-size: 2em; padding: 0.2em 0.1em 0.2em 0.1em; background: none\">\n                    </form>\n                  </div>\n\n                </div>\n\n                <div v-bind:class=\"['complex-lookup-results',{'complex-lookup-results-complex':canBuildComplex()}]\">\n                  <div v-if=\"activeComplexSearch.length == 0 && activeComplexSearchInProgress == false && initalSearchState != true\">\n                    <h5>No results found.</h5>\n                  </div>\n                  <div v-if=\"activeComplexSearchInProgress == true\">\n                    <h5>Searching...</h5>\n                  </div>\n\n                  <select size=\"10\"  class=\"modal-entity-select\" :id=\"assignedId+'select'\" @change=\"selectChange($event)\"  style=\"height: 100%\" @keydown=\"selectNav($event)\">\n                    <option v-for=\"(r,idx) in activeComplexSearch\" :value=\"r.uri\" v-bind:key=\"idx\" class=\"complex-lookup-result\" v-html=\"returnAuthIcon(r) + ' ' + r.label\">\n                    </option>\n                  </select>\n\n             \n\n\n                </div>\n\n\n              </div>\n              <div class=\"modal-content-right\">\n                <div class=\"modal-context\" v-if=\"Object.keys(contextData).length>0\">\n                  \n                  \n                  <h3><span class=\"modal-context-icon simptip-position-top\" :data-tooltip=\"'Type: ' + contextData.type\" v-html=\"returnAuthIcon(contextData.type)\"></span>{{contextData.title}}</h3>\n\n                  <div class=\"modal-context-data-title\">{{contextData.type}}</div>\n\n                  <div v-if=\"contextData.variant.length>0\">\n                    <div class=\"modal-context-data-title\">Varients:</div>\n                    <ul>\n                      <li class=\"modal-context-data-li\" v-for=\"(v,idx) in contextData.variant\" v-bind:key=\"'var' + idx\">{{v}}</li>\n                    </ul>\n\n\n                  </div>\n\n                  <div v-for=\"key in Object.keys(contextData.nodeMap)\" :key=\"key\">\n                    <div class=\"modal-context-data-title\">{{key}}:</div>\n                      <ul>\n                        <li class=\"modal-context-data-li\" v-for=\"v in contextData.nodeMap[key]\" v-bind:key=\"v\">{{v}}</li>\n                      </ul>\n                  </div>\n\n\n                  <div v-if=\"contextData.source.length>0\">\n                    <div class=\"modal-context-data-title\">Sources:</div>\n                    <ul>\n                      <li class=\"modal-context-data-li\" v-for=\"v in contextData.source\" v-bind:key=\"v\">{{v}}</li>\n                    </ul>\n\n\n                  </div>\n\n\n                </div>    \n\n                <div class=\"modal-context-add-menu\" v-if=\"Object.keys(contextData).length != 0\">\n                  \n\n                  <button v-if=\"precoordinated.length == 0\" @click=\"add\" class=\"\">Add Selected [Enter]</button>\n                  <button v-else @click=\"add\" class=\"simptip-position-left\"  :data-tooltip=\"''\">Add Pre-Coordinated [Enter]</button>\n\n             \n                </div>\n\n              </div>\n            </div>\n            <div v-if=\"displayPreCoordinated==true\" class=\"modal-context-build-manual\"> \n\n              <div class=\"modal-context-build-manual-buttons\"> \n                <div>Build manual pre-coordinated: Add selected as a subdivision: </div>\n                <button style=\"width: 11em;\" @click=\"precoordinatedAddSubdivision('Topic')\">Heading or Topical\n                  [CRTL+1]\n                </button>\n\n                <button style=\"width: 9em;\" @click=\"precoordinatedAddSubdivision('Geographic')\">Geographic\n                  [CRTL+2]\n                </button>\n                <button style=\"width: 9em;\" @click=\"precoordinatedAddSubdivision('Temporal')\">Chronological\n                  [CRTL+3]\n                </button>\n                <button style=\"width: 6em;\" @click=\"precoordinatedAddSubdivision('GenreForm')\">Form\n                  [CRTL+4]\n                </button>                \n                <button style=\"width: 7em;\" @click=\"precoordinatedRemoveLast()\">Remove Last\n                  [CRTL+5]\n                </button>  \n              </div>\n\n              <div class=\"modal-context-build-manual-precoordinted-display\" > \n                <span v-if=\"precoordinated.length == 0\">Your pre-coordinated heading will display here when you add subdivisions</span>\n\n                <span> {{precoordinated.map((p)=>{return p.label}).join(\"--\") }} </span>\n\n              </div>\n            </div>\n            <div v-else class=\"modal-context-build-manual\" style=\"text-align: center; cursor: pointer;\" @click=\"togglePreCoordinated\">\n              Build [CTRL+B] a pre-coordinated heading.\n            </div>\n          </div> <!--- end modal-content --->\n          \n\n\n        </div>\n      </div>\n    </div>\n  </div>    \n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\nimport uiUtils from \"@/lib/uiUtils\"\nimport config from \"@/lib/config\"\nimport parseProfile from \"@/lib/parseProfile\"\n\nexport default {\n  name: \"EditComplexLookupComponent\",\n  components: {    \n    Keypress: () => import('vue-keypress')    \n  },  \n  props: {\n    structure: Object,\n    parentStructure: Array,\n    profileCompoent: String,\n    parentStructureObj: Object,\n    profileName: String,\n    activeTemplate: Object,\n\n    nested: Boolean\n\n  },\n  data: function() {\n    return {\n\n      displayModal: false,\n      lookups: this.structure.valueConstraint.useValuesFrom,\n      lookupConfig: config.lookupConfig,\n      modeSelect: \"All\",\n      searchValue: \"\",\n      searchTimeout: null,\n      selectLastIndex: null,\n      initalSearchState: true,\n      selectNavTimeout: null,\n      componentKey: 0,\n      displaySelectedDetails: false,\n      doubleDelete: false,\n      precoordinated: [],\n      displayPreCoordinated: false,\n\n      userData: {}\n    }\n  },\n  created: function(){\n\n    this.checkForUserData()\n\n  },\n  computed: mapState({\n    lookupLibrary: 'lookupLibrary',\n    activeInput: 'activeInput',\n    activeProfile: 'activeProfile', \n    activeComplexSearch: 'activeComplexSearch',\n    activeComplexSearchInProgress: 'activeComplexSearchInProgress',\n    contextData: 'contextData',\n    assignedId (){\n      return uiUtils.assignID(this.structure,this.parentStructure,config)\n    },\n\n    modalSelectOptions(){\n\n      let options = []\n\n      // add in the the defaul search ALL of everything possible\n      options.push({label: 'All', urls:null, processor:null})\n\n      this.structure.valueConstraint.useValuesFrom.forEach((l)=>{\n        if (this.lookupConfig[l]){\n          this.lookupConfig[l].modes.forEach((mode)=>{\n            \n            Object.keys(mode).forEach((k)=>{\n              options.push({label: k, urls:mode[k].url, processor:this.lookupConfig[l].processor, all:mode[k].all })\n            })\n          })\n        }\n      })\n      return options\n    },\n\n    modalSelectOptionsLabels(){\n      return this.modalSelectOptions.map((o)=>{return o.label})\n    },\n\n\n\n\n\n    // to access local state with `this`, a normal function must be used\n    lookupVocab (state) {\n      // let uri = this.structure.valueConstraint.useValuesFrom[0]\n\n      // let returnVal = []\n      // Object.keys(state.lookupLibrary).forEach((s)=>{\n      //   \n      // })\n      // \n      // if (state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]){\n      //   \n      //   return state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]\n      // }else{\n      //   return []\n      // }\n      return state.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]\n\n      \n    }\n  }),  \n  methods:{\n\n\n    focusCurrentInput: uiUtils.focusCurrentInput,\n\n    returnAuthIcon: uiUtils.returnAuthIcon,\n\n\n    camelize: function (str) {\n      return str.replace(/(?:^\\w|[A-Z]|\\b\\w|\\s+)/g, function(match, index) {\n        if (+match === 0) return \"\"; // or if (/\\s+/.test(match)) for white spaces\n        return index === 0 ? match.toLowerCase() : match.toUpperCase();\n      });\n    },\n\n\n    submitField: function(){\n      return this.add()\n    },\n\n    precoordinatedAddSubdivision: function(type){\n\n      if (Object.keys(this.contextData).length==0) return false\n\n\n      let label = this.contextData.title\n      let uri  = this.contextData.uri\n      let contextType = this.contextData.type\n\n      if (contextType != type){\n        alert(`${label} is not a ${type} type heading`)\n        return false\n      }\n\n      this.precoordinated.push({uri:uri,label:label,type:contextType})\n\n      this.$refs.searchInput.focus()\n\n    },\n\n    precoordinatedRemoveLast: function(){\n\n      if (this.precoordinated.length>0){\n        this.precoordinated.splice(-1,1)\n      }\n      console.log(this.precoordinated)\n\n    },\n\n\n    canBuildComplex: function(){\n      \n      if (this.structure.valueConstraint.useValuesFrom.indexOf('http://id.loc.gov/authorities/subjects')>-1) return true\n\n      return false\n\n    },\n\n    togglePreCoordinated: function(event){\n\n      if (this.displayPreCoordinated == false && this.displayModal == true){\n\n        this.displayPreCoordinated = true\n        console.log('hery heree',this.displayPreCoordinated )\n        if(event && event.event){\n          event.event.preventDefault()\n          return false\n        }\n      }else{\n        this.displayPreCoordinated = false  \n        if(event && event.event){\n          event.event.preventDefault()\n          return false\n        }        \n      }\n\n\n    },\n    removeValue: function(){\n\n\n          this.userData = {}\n          this.$store.dispatch(\"clearContext\", { self: this}).then(() => {\n\n            this.$store.dispatch(\"addValue\", { self: this, profileComponet: this.profileCompoent, template:this.activeTemplate, structure: this.structure })\n            .then(() => {\n\n              this.checkForUserData()\n              // put the focus back on the input\n              setTimeout(()=>{\n                document.getElementById(this.assignedId).focus()\n              },0)\n            })\n          })   \n\n\n    },\n\n    doubleDeleteCheck: function(event){\n\n      if (event && event.key && event.key==='Backspace'){ \n\n        if (this.doubleDelete){\n\n          this.removeValue()\n\n        }else{\n          this.doubleDelete = true        \n        }\n      }else if(event.key!='ArrowUp' && event.key!='ArrowDown' && event.key!='Tab'){\n        event.preventDefault()\n        return false\n\n      }\n    },\n\n\n    toggleSelectedDetails: function(){\n\n      if (this.displaySelectedDetails){\n        this.displaySelectedDetails = false\n\n        // put the focus back on the input\n        setTimeout(()=>{\n          document.getElementById(this.assignedId).focus()\n        },0)\n\n\n      }else{\n        this.displaySelectedDetails = true\n      }\n\n    },\n\n    checkForUserData: function(){\n\n      let uv = parseProfile.returnUserValues(this.activeProfile, this.profileCompoent,this.structure.propertyURI)\n      // console.log(\"<<<<\",uv,this.parentStructureObj,\"\")\n      if (uv[this.structure.propertyURI]){\n        // console.log('yehh',uv[this.structure.propertyURI])\n        this.userData = uv[this.structure.propertyURI]\n      }else  if (uv[this.parentStructureObj.propertyURI]){\n        this.userData = uv[this.parentStructureObj.propertyURI]\n\n      }else{\n        this.userData ={} \n      }\n\n      // console.log(\"IT IS NOW>\",this.userData)\n\n    },\n\n    activate: function(event){\n\n      // this skips activating the modal if they are simply navigating through the main field list\n      if (event.key==='ArrowDown' || event.key==='ArrowUp' || event.key==='PageUp' || event.key==='PageDown' || event.key==='Tab' || event.key==='Control' || event.key==='Meta' || event.key==='Alt' || event.key==='Shift' || event.key==='CapsLock' || event.key==='=' || event.key ==='Backspace' || event.key ==='Home'){\n        // the = key is for adding new \n        return false\n      }\n\n      // turn on the modal\n      this.displayModal = true\n      this.initalSearchState = true\n\n      this.searchValue = event.key\n\n      this.$store.dispatch(\"clearContext\", { self: this})\n\n      this.$store.dispatch(\"clearLookupValuesComplex\", { self: this}).then(() => {\n        // clear the values from any previous attempt\n\n        // but if there is a value kick off that same search again\n        if (this.searchValue != ''){\n          this.search()\n        }\n      })    \n\n      event.preventDefault()\n\n      // set the last input, but do it after the modal has been displaed\n      setTimeout(()=>{\n\n        document.getElementById(this.assignedId+'search').focus()\n      },0)\n\n      return false\n\n    },\n\n    focused: function(event){     \n      this.$store.dispatch(\"setActiveInput\", { self: this, id: event.target.id, profileCompoent: this.profileCompoent, profileName: this.profileName }).then(()=>{\n\n        // now focus the side bars\n        uiUtils.focusSidebars()\n\n\n      })\n    },\n    closeModal: function(event){\n      if (event && event.target && event.target.classList.contains('close')){\n        this.displayModal = false\n      }\n      if (event && event.target && !event.target.classList.contains('modaloverlay')){\n        return false\n      }\n\n      this.displayModal = false\n      this.displayPreCoordinated = false\n      this.precoordinated = []\n      this.prec\n      \n      if (event && event.event) event.event.preventDefault()\n\n      this.focusCurrentInput()\n      \n    },\n\n\n    selectChange: function(event){\n\n      // fake the target if this was not evoked from the html\n      if (!event){\n        event = {target: document.getElementById(this.assignedId+'select')}\n      }\n\n\n\n      // do the context lookup, try to only fire when they land on one\n      window.clearTimeout(this.selectNavTimeout)\n      this.selectNavTimeout = window.setTimeout(()=>{\n\n\n        event.target.options.forEach((o)=>{\n          if (o.selected){\n\n            // remove the context because we're about to get a new one\n            this.$store.dispatch(\"clearContext\", { self: this})            \n\n            this.$store.dispatch(\"fetchContext\", { self: this, searchPayload: o.value }).then(() => {\n              \n            })    \n          }\n        })            \n\n\n      },300)\n      \n      \n\n    },\n\n    // moving through the list of results\n    selectNav: function(event){\n\n      if (event.target.selectedIndex == 0){\n        // pop back up into the search field\n        if (event.key==='ArrowUp'){\n          document.getElementById(this.assignedId+'search').focus()\n          event.preventDefault();\n          return false  \n        }\n\n      }\n      // don't allow down arrow on the last one\n      if (event.target.selectedIndex == event.target.options.length -1){\n        if (event.key==='ArrowDown'){\n          event.preventDefault();\n          return false  \n        }        \n      }\n\n\n      if (event.key === '1' && event.ctrlKey === true){\n        \n        this.precoordinatedAddSubdivision('Topic')\n\n        event.preventDefault();\n        return false \n\n      }\n      if (event.key === '2' && event.ctrlKey === true){\n        \n        this.precoordinatedAddSubdivision('Geographic')\n\n        event.preventDefault();\n        return false \n\n      }\n      if (event.key === '3' && event.ctrlKey === true){\n        \n        this.precoordinatedAddSubdivision('Temporal')\n\n        event.preventDefault();\n        return false \n\n      }\n      if (event.key === '4' && event.ctrlKey === true){        \n        this.precoordinatedAddSubdivision('GenreForm')\n        event.preventDefault();\n        return false \n      }\n      if (event.key === '5' && event.ctrlKey === true){        \n        this.precoordinatedRemoveLast()\n        event.preventDefault();\n        return false \n      }\n\n\n      if (event.key==='Enter'){\n        this.add()\n      }       \n\n\n      // if (event.key === 'b' && event.ctrlKey === true && this.displayPreCoordinated == false){        \n      //   this.togglePreCoordinated()\n      //   event.preventDefault();\n      //   return false \n      // }\n\n\n      this.selectLastIndex = event.target.selectedIndex\n\n    },\n\n    switchTypes: function(event, buttonPush){\n\n      // This section is for navigating inside the modal window\n\n      // if they click the button fake the event like they pressed arrow key\n      if (buttonPush=== true){\n        event = {\n          key : 'ArrowRight',\n          // the input\n          target: event.target.parentNode.querySelector('input')\n        }\n        // put focus back on input so the keys work if used\n        event.target.parentNode.querySelector('input').focus()\n      }\n\n\n\n      if (event.key==='ArrowRight'){\n        // get the current pos, and if we are at the end loop back to the beginning\n        let currPos = this.modalSelectOptionsLabels.indexOf(this.modeSelect)\n        if (currPos+1 > this.modalSelectOptionsLabels.length-1){\n          currPos=-1\n        }\n        this.modeSelect  = this.modalSelectOptionsLabels[currPos+1]\n        // update the results\n        this.search()\n        \n      \n      }else if (event.key==='ArrowLeft'){\n        let currPos = this.modalSelectOptionsLabels.indexOf(this.modeSelect)\n        if (currPos == 0){\n          currPos=this.modalSelectOptionsLabels.length\n        }\n        this.modeSelect = this.modalSelectOptionsLabels[currPos-1]\n        // update the results\n        this.search()\n\n      }else if (event.key==='ArrowDown'){\n        document.getElementById(this.assignedId+'search').focus()\n        \n        event.preventDefault();\n        return false    \n\n      }else{\n        event.preventDefault();\n        return false        \n      }\n    },\n\n    // two different methods for keyup and keydown is for the navigation between fields and the keyup is for invoking the search\n    searchNav: function(event){\n\n      if (event.key==='ArrowUp'){  \n        document.getElementById(this.assignedId+'switch').focus()\n        event.preventDefault();\n        return false              \n      }\n      // move focus to the select group\n      if (event.key==='ArrowDown'){        \n        if (document.getElementById(this.assignedId+'select').firstChild){\n\n          document.getElementById(this.assignedId+'select').focus()\n          document.getElementById(this.assignedId+'select').firstChild.selected=true\n\n          this.selectChange()\n        }\n        event.preventDefault();\n        return false              \n      }\n\n\n    },\n\n\n    search: function(event){     \n\n      if (event){\n        this.searchValue = event.target.value\n\n        // handled above do nothign\n        if (event.key==='ArrowUp'){  \n          return false              \n        }\n        if (event.key==='ArrowDown'){        \n          return false              \n        }\n      }\n\n      if (this.searchValue.trim()==''){\n        return false\n      }\n      window.clearTimeout(this.searchTimeout)\n\n      let searchPayload = {\n        processor: null,\n        url: []\n      }\n      if (this.modeSelect == 'All'){\n        this.modalSelectOptions.forEach((a)=>{\n          // use the ones in the config marked as \"all\" \n          if(a.all===true){\n            searchPayload.processor=a.processor\n            searchPayload.url.push(a.urls.replace('<QUERY>',this.searchValue))\n          }\n        })\n        \n      }else{\n        this.modalSelectOptions.forEach((a)=>{\n          if (a.label==this.modeSelect){\n            searchPayload.processor=a.processor\n            searchPayload.url.push(a.urls.replace('<QUERY>',this.searchValue))            \n          }\n        })\n\n\n\n      }\n\n\n      this.searchTimeout = window.setTimeout(()=>{    \n        this.$store.dispatch(\"fetchLookupValuesComplex\", { self: this, searchPayload: searchPayload }).then(() => {\n          this.initalSearchState =false;\n        })    \n      }, 400)\n      \n\n\n    },\n\n    // add this entity to the data for this component\n    add: function(){\n\n      // console.log(this.profileCompoent)\n      // console.log(this.structure)\n      // console.log(this.activeProfile)\n\n      // are we adding a URI or building a pre-coordinated thing\n      if (this.precoordinated.length > 0){\n\n        // okay it is precoordinated\n        // becase of how we are storing things in state and adding things to the profile in state we \n        // need to put our hand made pre-coordinated data into the context state and then trigger the \n        // add value state change\n\n        // build the new context\n\n        let precoordstring = this.precoordinated.map((p)=>{return p.label}).join(\"--\")\n\n        let tempContext = {\n            \"contextValue\": true,\n            \"source\": [],\n            \"type\": \"ComplexSubject\",\n            \"variant\": [],\n            \"uri\": null,\n            \"title\": precoordstring,\n            \"contributor\": [],\n            \"date\": null,\n            \"genreForm\": null,\n            \"nodeMap\": {},\n            \"precoordinated\" : this.precoordinated\n        }        \n\n\n        \n        // set it and then set the vlue when done\n        this.$store.dispatch(\"setContextManually\", { self: this, context: tempContext, }).then(() => {\n        \n          this.$store.dispatch(\"addValue\", { self: this, profileComponet: this.profileCompoent, template:this.activeTemplate, structure: this.structure }).then(() => {\n            this.componentKey++\n            this.displayModal = false\n            this.checkForUserData()\n            // put the focus back on the input\n            setTimeout(()=>{\n              document.getElementById(this.assignedId).focus()\n            },0)\n          })  \n\n\n        })  \n\n\n\n\n      }else{\n\n        if (Object.keys(this.contextData).length==0){\n          return false\n          // there is no context to add, so dont try\n        }\n        this.$store.dispatch(\"addValue\", { self: this, profileComponet: this.profileCompoent, template:this.activeTemplate, structure: this.structure }).then(() => {\n          this.componentKey++\n          this.displayModal = false\n          this.checkForUserData()\n          // put the focus back on the input\n          setTimeout(()=>{\n            document.getElementById(this.assignedId).focus()\n          },0)\n        })   \n\n\n      }\n\n\n\n      \n\n\n\n\n    }\n\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n\n    <!-- <pre>{{JSON.stringify(structure,null,2)}}</pre> -->\n\n<style scoped>\nli::before{\n  content: '';\n}\n\nli{\n  padding:0.1em;\n}\n\nli span{\n  padding:0.1em;\n}\ninput{\n  outline: none;\n}\n\n.modal-entity-select{\n  width: 100%;\n  border:none;\n  overflow-x: none;\n  overflow-y: auto;\n  outline:none;\n}\n.modal-context{\n  height: 85%;\n  overflow-y: auto;\n  padding: 0.5em;\n}\n.modal-context-add-menu{\n  text-align: center;\n    width: 100%;\n    height: 3em;\n    background: white;\n\n}\n.modal-context-add-menu button{\n  border: none;\n  border-radius: 0.5em;\n  color: white;\n  background-color: #2c3e50;\n  font-size: 1.25em;\n   padding: 0.3em;  \n\n\n}\n.modal-context-data-title{\n  font-size: 0.9em;\n  font-weight: bold;\n}\n\n.modal-context ul{\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.modal-context-data-li{\n  font-size: 0.85em;\n}\n\n.modal-context  h3{\n  margin: 0;\n  padding: 0;\n}\n\n.modal-context-icon{\n  font-family: \"fontello\", Avenir, Helvetica, Arial, sans-serif;\n  font-size: 1.25em;\n  padding-right: 0.25em;\n\n}\n.modal-entity-select option{\n  font-family: \"fontello\", Avenir, Helvetica, Arial, sans-serif;\n  font-size: 1.25em;\n\n}\n.selected-value-icon{\n  font-family: \"fontello\", Avenir, Helvetica, Arial, sans-serif;\n  padding-right: 0.3em;\n}\n.selected-value-container{\n  margin: 0.95em;\n  border: solid 1px;\n  border-radius: 0.5em;\n  padding: 0.35em;\n  font-size: 0.75em;\n  background-color: whitesmoke;\n  white-space: nowrap;\n\n}\n.selected-value-container-nested{\n  margin: 0.25em;\n  border: solid 1px;\n  border-radius: 0.5em;\n  padding: 0.35em;\n  font-size: 0.75em;\n  background-color: whitesmoke;\n  white-space: nowrap;\n  display: inline;\n  cursor: pointer;\n}\n\n.selected-value-details button, a{\n  float: right;\n  border: none;\n  border-radius: 0.5em;\n  color: white; \n  background-color: #2c3e50 ;\n  font-size: 1.25em;\n   padding: 0.3em;    \n}\n.selected-value-details-close{\n  color: #2c3e50 !important;\n  border: none !important;\n  background: white !important;\n  border: solid 2px #2c3e50 !important; \n  margin-left: 0.75em;\n\n}\n.selected-value-details{\n    position: relative;\n    z-index: 100;\n    width: 90%;\n    background: white;\n    border: solid 1px black;\n    margin-top: 0.5em;\n    border-radius: 0.5em;\n    height: 14em;\n    margin-left: 0.2em;\n    overflow-y: auto;\n-webkit-box-shadow: 10px 10px 15px -5px rgba(0,0,0,0.37);\n-moz-box-shadow: 10px 10px 15px -5px rgba(0,0,0,0.37);\nbox-shadow: 10px 10px 15px -5px rgba(0,0,0,0.37);\n  padding: 0.5em;    \n}\n.input-single{\n  width: 95%;\n  border:none;\n  font-size: 1.5em;\n  min-height: 2em;\n  max-height: 2em;  \n  background:none;\n}\n.input-nested{\n  width: 95%;\n  border: none;\n  font-size: 1.5em;\n  padding: 0.1em;\n  background: none;\n\n}\n\n.complex-lookup-results{\n  padding: 0 1em 0 1em;\n  height: 63%; \n  margin-top: 1em;\n}\n\n.complex-lookup-results-complex{\n  height: 75%; \n}\n\n\n\n.fake-real-button{\n  height: 4em;\n  min-width: 4em;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  margin: 0.15em;  \n}\n\n.modal-switch-values-container{\n  width: 70%;\n  margin:auto !important;\n}\n.component-container-fake-input:focus-within {\n  border: solid 1px #a6acb7;\n  background-color: #dfe5f1;\n  \n}\n.selected-value-container{\n  margin: 0.65em;\n  border: solid 1px;\n  border-radius: 0.5em;\n  padding: 0.35em;\n  font-size: 0.85em;\n  background-color: whitesmoke;\n}\n.selected{\n  border:solid 4px lightblue;\n  border-radius: 5px;\n}\n.autocomplete-container{\n  padding: 0.45em;\n  position: absolute;\n  z-index: 100;\n  background-color: white;\n  border-radius: 15px;\n  -webkit-box-shadow: 0px 5px 7px -1px rgba(150,150,150,1);\n  -moz-box-shadow: 0px 5px 7px -1px rgba(150,150,150,1);\n  box-shadow: 0px 5px 7px -1px rgba(150,150,150,1);  \n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nform{\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditComplexLookupComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditComplexLookupComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditComplexLookupComponent.vue?vue&type=template&id=d012efb0&scoped=true&\"\nimport script from \"./EditComplexLookupComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./EditComplexLookupComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditComplexLookupComponent.vue?vue&type=style&index=0&id=d012efb0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d012efb0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\n  <div class=\"main-component-container\">\n    <div v-if=\"nested == false\" :id=\"profileName+'|'+profileCompoent\" style=\"display: flex; position: relative;\">\n\n      <div style=\"flex:4;\">   \n\n\n         <EditLiteralComponent v-if=\"structure.type == 'literal'\"  :nested=\"nested\" :structure=\"structure\" :profileName=\"profileName\" :profileCompoent=\"profileCompoent\" :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" :activeTemplate=\"activeTemplate\" ></EditLiteralComponent>\n\n\n        <EditSimpleLookupComponent v-else-if=\"returnLookupType(structure) == 'simple'\" :structure=\"structure\"  :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" :nested=\"nested\"  :profileName=\"profileName\" :profileCompoent=\"profileCompoent\" :activeTemplate=\"activeTemplate\" ></EditSimpleLookupComponent>\n        \n        <EditComplexLookupComponent v-else-if=\"returnLookupType(structure) == 'complex'\" :structure=\"structure\"  :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" :nested=\"nested\" :profileName=\"profileName\" :profileCompoent=\"profileCompoent\" :activeTemplate=\"activeTemplate\"  ></EditComplexLookupComponent>          \n\n        <EditTemplateRefComponent v-else-if=\"structure.valueConstraint.valueTemplateRefs.length > 0\" :structure=\"structure\"  :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" :nested=\"nested\" :profileName=\"profileName\" :profileCompoent=\"profileCompoent\" :activeTemplate=\"activeTemplate\"  ></EditTemplateRefComponent>\n      </div>\n\n      <div class=\"property-button-container\">\n        \n        <button tabindex=\"-1\" class=\"property-button property-duplicate simptip-position-left\" :data-tooltip=\"labels.propertyDuplicateTip\" @click=\"duplicateProperty\">{{labels.propertyDuplicateSymbol}}</button>\n        <button tabindex=\"-1\" class=\"property-button property-remove\" @click=\"removeProperty\">{{labels.propertyRemoveSymbol}}</button>\n\n      </div>\n\n      <div class=\"debug-toggle\" style=\"position: relative; visibility: hidden; color:red; left: -26%;font-size: 0.85em;font-family: monospace;top: 8px; cursor: pointer; height: 0.85em;\" @click=\"toggleDebug\">debug</div>\n\n\n\n    </div>\n\n\n\n    <!-- This block renders the recursive componets being sent in from the TemplateRefComponent -->\n    <div v-else>  \n\n        <EditLiteralComponent v-if=\"structure.type == 'literal'\" :activeTemplate=\"activeTemplate\" :nested=\"nested\" :structure=\"structure\" :profileName=\"profileName\" :profileCompoent=\"profileCompoent\" :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" ></EditLiteralComponent>\n        <EditSimpleLookupComponent v-else-if=\"returnLookupType(structure) == 'simple'\" :activeTemplate=\"activeTemplate\" :structure=\"structure\" :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" :nested=\"nested\"  :profileName=\"profileName\" :profileCompoent=\"profileCompoent\"  ></EditSimpleLookupComponent>\n        <EditComplexLookupComponent v-else-if=\"returnLookupType(structure) == 'complex'\" :activeTemplate=\"activeTemplate\" :structure=\"structure\" :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" :nested=\"nested\" :profileName=\"profileName\" :profileCompoent=\"profileCompoent\"   ></EditComplexLookupComponent>          \n        <EditTemplateRefComponent v-else-if=\"structure.valueConstraint.valueTemplateRefs.length > 0\" :activeTemplate=\"activeTemplate\" :structure=\"structure\" :parentStructureObj=\"parentStructureObj\" :parentStructure=\"parentStructure\" :profileName=\"profileName\" :profileCompoent=\"profileCompoent\" :nested=\"nested\"></EditTemplateRefComponent>\n\n\n\n    </div>\n\n\n    <div v-if=\"nested == false && displayDebug\" style=\"font-family: monospace;width: 69%; background-color: whitesmoke; margin-left: 5%;\">\n\n      <code v-if=\"structure.xmlSource\"><pre>{{prettifyXml(structure.xmlSource)}}</pre></code>\n      <vue-json-pretty \n        :path=\"'res'\"\n        :highlightMouseoverNode=\"true\"\n        :collapsedOnClickBrackets=\"true\"\n        :data=\"structure\"      \n        >\n      </vue-json-pretty>\n\n    </div>\n\n\n\n\n  </div>\n\n\n\n<!--   <pre>{{JSON.stringify(structure,null,2)}}</pre>\n  <h1>{{nested}}-{{nestedOrder}}-{{nestedOrderType}}</h1>\n  <h1>{{nestedOrderParentType}}</h1> -->\n\n\n</template>\n\n<script>\n\nimport EditLiteralComponent from \"@/components/EditLiteralComponent.vue\";\nimport EditSimpleLookupComponent from \"@/components/EditSimpleLookupComponent.vue\";\n\nimport EditTemplateRefComponent from \"@/components/EditTemplateRefComponent.vue\";\nimport EditComplexLookupComponent from \"@/components/EditComplexLookupComponent.vue\";\n\n\nimport labels from \"@/lib/labels\"\nimport config from \"@/lib/config\"\nimport uiUtils from \"@/lib/uiUtils\"\n\n// \nimport VueJsonPretty from 'vue-json-pretty'\n\n\n\nexport default {\n  name: \"EditMainComponent\",\n  components: {\n    EditLiteralComponent,\n    EditSimpleLookupComponent,\n    EditTemplateRefComponent,\n    EditComplexLookupComponent,\n    VueJsonPretty\n\n\n  },  \n  props: {\n    structure: Object,\n    parentStructure: Array,\n    parentStructureObj: Object,\n    nested: Boolean,\n    profileCompoent: String,\n    profileName: String,\n    activeTemplate: Object,\n\n  },\n  data: function() {\n    return {\n      // these are the labes that are used in the static text of compoennts\n      labels: labels,\n      displayDebug: false,\n\n      // is a lookup url require a simple or complex lookup interface, and its options\n      lookupType:config.lookupConfig\n    }\n  },\n  methods: {\n\n    prettifyXml: uiUtils.prettifyXml,\n\n    toggleDebug: function(){\n      // console.log('click')\n      if (this.displayDebug){this.displayDebug=false}else{this.displayDebug=true}\n\n    },\n\n    duplicateProperty: function(){\n\n      this.$store.dispatch(\"duplicateProperty\", { self: this, id: this.profileCompoent, profile:this.profileName }).then(() => {\n        // console.log(\"uh huh\")\n      })   \n\n    },\n\n\n    removeProperty: function(){\n\n      this.$store.dispatch(\"removeProperty\", { self: this, id: this.profileCompoent, profile:this.profileName }).then(() => {\n        // console.log(\"uh huh\")\n      }) \n\n\n    },\n\n    // use the config data to see what type of lookup this componet should use\n    returnLookupType(cStructure){\n      let type = 'simple'\n      if (cStructure.valueConstraint.useValuesFrom.length==0) return null\n      cStructure.valueConstraint.useValuesFrom.forEach((cs)=>{\n        if (this.lookupType[cs] && this.lookupType[cs].type == 'complex'){\n          type='complex'\n        }\n      })\n      return type\n    }\n\n\n\n  }\n\n\n\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n\n.main-component-container:hover .debug-toggle{\n  visibility: visible !important;\n}\n\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMainComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMainComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditMainComponent.vue?vue&type=template&id=4c8aaddf&scoped=true&\"\nimport script from \"./EditMainComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./EditMainComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditMainComponent.vue?vue&type=style&index=0&id=4c8aaddf&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c8aaddf\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseId.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseId.vue?vue&type=style&index=0&lang=css&\"","\nimport store from \"../store\";\n\n\nconst uiUtils = {\n\n    globalMoveDown() {\n      if (store.state.disableMacroKeyNav){\n        return false\n      }\n      var list = document.getElementsByClassName('selectable-input')\n      let activeInputIndex = -1\n      for (let i = 0; i < list.length; i++) {\n        if (list[i].id == this.activeInput){\n          activeInputIndex = i\n        }\n      }\n      if (activeInputIndex != -1){\n        // see if there is a next input\n        if (list[activeInputIndex+1]){\n          list[activeInputIndex+1].focus()\n        }\n      }\n    },\n    globalMoveUp() {\n      if (store.state.disableMacroKeyNav){\n        return false\n      }        \n      var list = document.getElementsByClassName('selectable-input')\n      let activeInputIndex = -1\n      for (let i = 0; i < list.length; i++) {\n        if (list[i].id == this.activeInput){\n          activeInputIndex = i\n        }\n      }\n      if (activeInputIndex != -1){\n        // see if there is a next input\n        if (list[activeInputIndex-1]){\n          list[activeInputIndex-1].focus()\n        }\n      }\n\n      \n    },\n\n\n    // when they hit pageup/down just do it 5 times\n    globalMovePageDown(event) {\n        this.moveDown()\n        this.moveDown()\n        this.moveDown()\n        this.moveDown()\n        this.moveDown()\n        event.event.preventDefault()\n        return false\n    },\n    globalMovePageUp(event) {\n        this.moveUp()\n        this.moveUp()\n        this.moveUp()\n        this.moveUp()\n        this.moveUp()\n        event.event.preventDefault()\n        return false\n    },\n\n    focusCurrentInput() {\n\n      var list = document.getElementsByClassName('selectable-input')\n      \n      for (let i = 0; i < list.length; i++) {\n\n        // the relace here is removing complex lookup modal window suffixes\n        if (list[i].id == this.activeInput || list[i].id == this.activeInput.replace('switch','') || list[i].id == this.activeInput.replace('search','')  ){\n          \n          list[i].focus()\n        }\n      }\n\n\n\n    },\n\n\n    focusSidebars(){\n\n      // scroll those elements into view, the left and right\n      document.getElementsByClassName('left-menu-list-item-active')[0].scrollIntoView({behavior: \"smooth\", block: \"center\", inline: \"nearest\"})\n      if (document.getElementsByClassName('opac-field-active').length>0){\n        document.getElementsByClassName('opac-field-active')[0].scrollIntoView({behavior: \"smooth\", block: \"center\", inline: \"nearest\"})\n      }\n\n    },\n\n    returnAuthIcon(rdfType){\n\n        const iconPersonal = '&#xe800;'\n        const iconCoporate = '&#xe801;'\n        const iconTitle = '&#xe802;'\n        const iconNameTitle = '&#xe800; + &#xe802;'\n        const iconConference = '&#xe803;'\n        const iconGeographic = '&#xe805;'\n        const iconGenre = '&#xe806;'\n        const iconSubjectComplex = '&#xe807;'\n        const iconSubjectTopic = '&#xe808;'\n        \n\n        \n        if (rdfType){\n          if (rdfType == 'PersonalName') return iconPersonal\n          if (rdfType == 'CorporateName') return iconCoporate\n          if (rdfType == 'NameTitle') return iconNameTitle\n          if (rdfType == 'Title') return iconTitle\n          if (rdfType == 'ConferenceName') return iconConference\n          if (rdfType == 'Geographic') return iconGeographic\n          if (rdfType == 'GenreForm') return iconGenre\n          if (rdfType == 'ComplexSubject') return iconSubjectComplex\n          if (rdfType == 'Topic') return iconSubjectTopic\n\n\n          if (rdfType == 'http://id.loc.gov/ontologies/bibframe/Person') return iconPersonal\n          if (rdfType == 'http://id.loc.gov/ontologies/bibframe/Place') return iconGeographic\n          if (rdfType == 'http://id.loc.gov/ontologies/bibframe/Topic') return iconSubjectTopic\n\n\n\n\n          // if (result.label == 'xxxxxx') return iconPersonal\n          // if (result.label == 'xxxxxx') return iconPersonal\n\n\n        }\n\n\n        return '&nbsp;'\n\n\n    },\n\n    dupeProperty(){\n        \n        let el = document.getElementById(this.activeInput).parentElement\n        while (el.classList.contains('component') === false){\n            el=el.parentElement\n        }\n\n        el.getElementsByClassName('property-duplicate')[0].click()\n        \n    },\n\n\n    // keep a counter to make a unique ID for each uri+label combo, this is just to get a persistent ID\n    assignID(structure){\n        let key = `${structure.propertyURI}|${structure.propertyLabel}`\n        if (!store.state.activeProfileIdCounter[key]){\n            store.state.activeProfileIdCounter[key] = 0\n        }\n        store.state.activeProfileIdCounter[key]++\n        return `${structure.propertyURI}|${structure.propertyLabel}-${store.state.activeProfileIdCounter[key]}`\n    },\n\n\n    renderBorders(refresh){\n        setTimeout(() => { // setTimeout to put this into event queue\n          var divList = document.querySelectorAll('.component-container-input-container')\n          for (let i = 0; i < divList.length; i++) {          \n            let inputs = divList[i].getElementsByClassName('component-container-fake-input')\n            \n            if (refresh){\n                for (let x = 0; x < inputs.length; x++) {\n                    inputs[x].classList.add(\"no-upper-right-border-radius\");\n                    inputs[x].classList.add(\"no-upper-border\");\n                    inputs[x].classList.add(\"no-lower-right-border-radius\");\n                }\n            }\n            if (inputs.length>0){\n              inputs[0].classList.remove(\"no-upper-right-border-radius\");\n              inputs[0].classList.remove(\"no-upper-border\");\n              inputs[inputs.length - 1].classList.remove(\"no-lower-right-border-radius\");\n            }\n          }\n        }, 0)\n    },\n\n\n    prettifyXml(sourceXml){\n\n        try{\n\n          var xmlDoc = new DOMParser().parseFromString(sourceXml, 'application/xml');\n          var xsltDoc = new DOMParser().parseFromString([\n            // describes how we want to modify the XML - indent everything\n              '<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">',\n              '  <xsl:strip-space elements=\"*\"/>',\n              '  <xsl:template match=\"para[content-style][not(text())]\">', // change to just text() to strip space in text nodes\n              '    <xsl:value-of select=\"normalize-space(.)\"/>',\n              '  </xsl:template>',\n              '  <xsl:template match=\"node()|@*\">',\n              '    <xsl:copy><xsl:apply-templates select=\"node()|@*\"/></xsl:copy>',\n              '  </xsl:template>',\n              '  <xsl:output indent=\"yes\"/>',\n              '</xsl:stylesheet>',\n          ].join('\\n'), 'application/xml');\n\n          var xsltProcessor = new XSLTProcessor();    \n          xsltProcessor.importStylesheet(xsltDoc);\n          var resultDoc = xsltProcessor.transformToDocument(xmlDoc);\n          var resultXml = new XMLSerializer().serializeToString(resultDoc);\n          return resultXml;\n\n        }catch{\n\n          return \"Because you are using Firefox or IE Edge I can't make this XML look nice, but here you go anyway:\\n\\n\\n\" + sourceXml\n\n        }\n\n    }    \n\n\n}\n\n\nexport default uiUtils;","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseBfdb.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestParseBfdb.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNewComponent.vue?vue&type=style&index=0&id=5fdd360e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNewComponent.vue?vue&type=style&index=0&id=5fdd360e&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditComplexLookupComponent.vue?vue&type=style&index=0&id=d012efb0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditComplexLookupComponent.vue?vue&type=style&index=0&id=d012efb0&scoped=true&lang=css&\"","import config from \"./config\"\n\n\nconst lookupUtil = {\n\n\n    possibleLabelURIs: [\n        'http://www.loc.gov/mads/rdf/v1#authoritativeLabel',\n        'http://www.w3.org/2004/02/skos/core#prefLabel'\n    ],\n\n\n\n    lookupLibrary : {},\n\n    // fetches the profile data from supplied URL or from the config URL if empty\n    fetchSimpleLookup: async function(url, json) {\n      url = url || config.profileUrl\n      url = url.replace('http://','https://')\n\n      let options = {}\n      if (json){\n        options = {headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}, mode: \"cors\"}        \n      }\n      // console.log('options:',options)\n      try{\n        let response = await fetch(url,options);\n        let data = null\n\n        if (url.endsWith('.rdf')){\n          data =  await response.text()\n        }else{\n          data =  await response.json()\n        }\n        \n          \n        \n          \n        \n        return  data;\n\n      }catch(err){\n        console.error(err);\n\n        // Handle errors here\n      }\n    },\n\n\n\n\n    // returns the literal value based on the jsonld structure\n    returnValue: function(input){\n\n        let value = []\n\n        if (Array.isArray(input)){ \n            input.forEach((v)=>{\n\n                if (typeof v === 'object'){\n                    if (v['@value']){\n                        value.push(v['@value'])\n                    }else{\n                        console.error('lookupUtility: lookup parse error, Was expecting a @value in this object:',v)\n                    }\n                }else if (typeof v === 'string' || typeof v === 'number'){\n                    value.push(v)\n                }else{\n                    console.error('lookupUtility: lookup parse error, Was expecting some sort of value here:',v)\n                }\n\n            })\n        }\n\n        return value\n    },\n\n    // takes the raw response from the lookup server and processes\n    simpleLookupProcess: function(data,parentURI){\n\n        let dataProcessed = {\n\n            // all the URIs will live here but also the metadata obj about the uris\n            metadata : {\n                uri: parentURI,\n                values: {}\n            }\n\n        }\n        \n        if (Array.isArray(data)){\n            // basic ID simple Lookup response\n            // assume anything in this array is a possible value except \n            // something that has the parent URI\n\n            data.forEach((d)=>{\n\n                let label = null\n                let labelData = null                // it has a URI and that URI is not the parent uri\n                // assume it is one of the values we want\n                // also skip any blank nodes\n                if (d['@id'] && d['@id'] != parentURI && !d['@id'].includes('_:') ){\n\n                    this.possibleLabelURIs.forEach((labelURI)=>{\n                        // if it has this label URI and does not yet have a label\n                        if (d[labelURI] && !dataProcessed[d['@id']]){\n                            label = this.returnValue(d[labelURI])\n\n                            let labelWithCode = []\n                            // build the metadata for each item that will go along it with structured fields\n                            let metadata = {uri:d['@id'], label: [], code: [], displayLabel: [] }\n                            label.forEach((l)=>{\n                                labelWithCode.push(`${l} (${d['@id'].split('/').pop()})`)\n                                metadata.displayLabel.push(`${l} (${d['@id'].split('/').pop()})`)\n\n                                metadata.label.push(l)\n                                metadata.code.push(d['@id'].split('/').pop())\n                                \n                            })                          \n                            labelData = metadata\n                            label = labelWithCode\n                        }\n                    })\n                }else if (d['http://id.loc.gov/ontologies/RecordInfo#recordStatus']){ \n                    // this is just a record info blank node, skip it\n                    return false\n                }else{\n\n                    // this is the parent uri obj in the response, skip it\n                    return false\n                }\n\n                if (label === null){\n                    console.error('lookupUtility: Was expecting this to have a label', d)\n                    return false\n                }\n\n                dataProcessed[d['@id']] = label\n                dataProcessed.metadata.values[d['@id']] = labelData\n            })\n\n\n        }else{\n\n            // TODO more use cases\n            dataProcessed = data\n        }\n\n        return dataProcessed\n    },\n\n    loadSimpleLookup: async function(uri){\n        let url = uri\n\n        // TODO more checks here\n        if (!uri.includes('.json')){\n            url = url + '.json'\n        }\n\n        if (!this.lookupLibrary[url]){\n            let data = await this.fetchSimpleLookup(url)\n            data = this.simpleLookupProcess(data,uri)\n            this.lookupLibrary[url] = data          \n            return data \n        }else{\n            return this.lookupLibrary[url]\n        }\n\n    },\n\n\n    searchComplex: async function(searchPayload){\n\n        let urlTemplate = searchPayload.url\n        if (!Array.isArray(urlTemplate)){\n            urlTemplate=[urlTemplate]\n        }\n        let results = []\n        for (const url of urlTemplate) {\n            let r = await this.fetchSimpleLookup(url)\n            if (searchPayload.processor == 'lcAuthorities'){\n                // process the results as a LC suggest service\n                let labels = r[1]\n                let uris = r[3]\n                for (let i = 0; i <= labels.length; i++) {\n                  if (uris[i]!= undefined){\n                      results.push({\n                        label: labels[i],\n                        uri: uris[i],\n                        extra: ''\n\n                      })\n                  }\n                }\n            }\n\n        }\n        // console.log(results,\"<results\")\n        return results\n\n    },\n\n    returnContext: async function(uri){\n\n        let d = await this.fetchContextData(uri)\n        d.uri = uri\n        let results =  this.extractContextData(d)\n        return results\n\n    },\n\n    fetchContextData: async function(uri){\n\n          if (uri.startsWith('http://id.loc.gov') && uri.match(/(authorities|vocabularies)/)) {\n            var jsonuri = uri + '.madsrdf_raw.jsonld';\n          } else {\n            jsonuri = uri + '.jsonld';\n          }\n\n          jsonuri = jsonuri.replace('http://id.loc.gov','https://id.loc.gov')\n\n          try{\n            let response = await fetch(jsonuri);\n            let data =  await response.json()\n            return  data;\n\n          }catch(err){\n            console.error(err);\n\n            // Handle errors here\n          }\n\n\n    },   \n\n    extractContextData: function(data){\n          var results = { contextValue: true, source: [], type: null, variant : [], uri: data.uri, title: null, contributor:[], date:null, genreForm: null, nodeMap:{}};\n          \n          // if it is in jsonld format\n          if (data['@graph']){\n            data = data['@graph'];\n          }\n          \n          var nodeMap = {};\n          \n          data.forEach(function(n){\n            if (n['http://www.loc.gov/mads/rdf/v1#birthDate']){\n              nodeMap['Birth Date'] = n['http://www.loc.gov/mads/rdf/v1#birthDate'].map(function(d){ return d['@id']})\n            }        \n            if (n['http://www.loc.gov/mads/rdf/v1#birthPlace']){\n              nodeMap['Birth Place'] = n['http://www.loc.gov/mads/rdf/v1#birthPlace'].map(function(d){ return d['@id']})\n            }  \n\n            if (n['http://www.loc.gov/mads/rdf/v1#associatedLocale']){\n              nodeMap['Associated Locale'] = n['http://www.loc.gov/mads/rdf/v1#associatedLocale'].map(function(d){ return d['@id']})\n            } \n            if (n['http://www.loc.gov/mads/rdf/v1#fieldOfActivity']){\n              nodeMap['Field of Activity'] = n['http://www.loc.gov/mads/rdf/v1#fieldOfActivity'].map(function(d){ return d['@id']})\n            } \n            if (n['http://www.loc.gov/mads/rdf/v1#gender']){\n              nodeMap['Gender'] = n['http://www.loc.gov/mads/rdf/v1#gender'].map(function(d){ return d['@id']})\n            } \n            if (n['http://www.loc.gov/mads/rdf/v1#occupation']){\n              nodeMap['Occupation'] = n['http://www.loc.gov/mads/rdf/v1#occupation'].map(function(d){ return d['@id']})\n            } \n            if (n['http://www.loc.gov/mads/rdf/v1#associatedLanguage']){\n              nodeMap['Associated Language'] = n['http://www.loc.gov/mads/rdf/v1#associatedLanguage'].map(function(d){ return d['@id']})\n            } \n            if (n['http://www.loc.gov/mads/rdf/v1#deathDate']){\n              nodeMap['Death Date'] = n['http://www.loc.gov/mads/rdf/v1#deathDate'].map(function(d){ return d['@id']})\n            } \n            if (n['http://www.loc.gov/mads/rdf/v1#hasBroaderAuthority']){\n              nodeMap['Has Broader Authority'] = n['http://www.loc.gov/mads/rdf/v1#hasBroaderAuthority'].map(function(d){ return d['@id']})\n            } \n            if (n['http://www.loc.gov/mads/rdf/v1#hasNarrowerAuthority']){\n              nodeMap['Has Narrower Authority'] = n['http://www.loc.gov/mads/rdf/v1#hasNarrowerAuthority'].map(function(d){ return d['@id']})\n            } \n\n          })\n          // pull out the labels\n          data.forEach(function(n){\n            \n            // loop through all the possible types of row\n            Object.keys(nodeMap).forEach(function(k){\n              if (!results.nodeMap[k]) { results.nodeMap[k] = [] }\n              // loop through each uri we have for this type\n              nodeMap[k].forEach(function(uri){\n                if (n['@id'] && n['@id'] == uri){\n                 \n                  if (n['http://www.loc.gov/mads/rdf/v1#authoritativeLabel']){\n                    n['http://www.loc.gov/mads/rdf/v1#authoritativeLabel'].forEach(function(val){ \n                      if (val['@value']){\n                        results.nodeMap[k].push(val['@value']);\n                      }\n                    })\n                  }\n                  if (n['http://www.w3.org/2000/01/rdf-schema#label']){\n                    n['http://www.w3.org/2000/01/rdf-schema#label'].forEach(function(val){ \n                      if (val['@value']){\n                        results.nodeMap[k].push(val['@value']);\n                      }\n                    })\n                  }\n                }\n              })        \n            })\n          })\n\n          data.forEach((n)=>{\n            \n            var citation = '';\n            var variant = '';\n            var title = '';\n\n            if (n['http://www.loc.gov/mads/rdf/v1#citation-source']) {\n              citation = citation + n['http://www.loc.gov/mads/rdf/v1#citation-source'].map(function (v) { return v['@value'] + ' '; })\n            }\n            if (n['http://www.loc.gov/mads/rdf/v1#citation-note']) {\n              citation = citation + n['http://www.loc.gov/mads/rdf/v1#citation-note'].map(function (v) { return v['@value'] + ' '; })\n            }\n            if (n['http://www.loc.gov/mads/rdf/v1#citation-status']) {\n              citation = citation + n['http://www.loc.gov/mads/rdf/v1#citation-status'].map(function (v) { return v['@value'] + ' '; })\n            }\n            if (n['http://www.loc.gov/mads/rdf/v1#citationSource']) {\n              citation = citation + n['http://www.loc.gov/mads/rdf/v1#citationSource'].map(function (v) { return v['@value'] + ' '; })\n            }\n            if (n['http://www.loc.gov/mads/rdf/v1#citationNote']) {\n              citation = citation + n['http://www.loc.gov/mads/rdf/v1#citationNote'].map(function (v) { return v['@value'] + ' '; })\n            }\n            if (n['http://www.loc.gov/mads/rdf/v1#citationStatus']) {\n              citation = citation + n['http://www.loc.gov/mads/rdf/v1#citationStatus'].map(function (v) { return v['@value'] + ' '; })\n            }\n\n\n\n            if (n['http://www.loc.gov/mads/rdf/v1#variantLabel']) {\n              variant = variant + n['http://www.loc.gov/mads/rdf/v1#variantLabel'].map(function (v) { return v['@value'] + ' '; })\n            }\n\n            if (n['@id'] && n['@id'] == data.uri && n['http://www.loc.gov/mads/rdf/v1#authoritativeLabel']){            \n              title = title + n['http://www.loc.gov/mads/rdf/v1#authoritativeLabel'].map(function (v) { return v['@value'] + ' '; })\n            }\n\n            if (n['@id'] && n['@id'] == data.uri && n['@type']){       \n\n                n['@type'].forEach((t)=>{\n                    if (results.type===null){\n                        results.type = this.rdfType(t)\n                    }\n                })\n              \n            }\n            \n\n            citation = citation.trim()\n            variant = variant.trim()\n            title = title.trim()\n            \n            if (variant != ''){ results.variant.push(variant)}\n            if (citation != ''){ results.source.push(citation)}\n            if (title != ''){ results.title = title }\n            \n            if (n['@type'] && n['@type'] == 'http://id.loc.gov/ontologies/bibframe/Title'){\n              if (n['bibframe:mainTitle']){\n                results.title = n['bibframe:mainTitle']\n              }\n            }\n            if (n['@type'] && (n['@type'] == 'http://id.loc.gov/ontologies/bibframe/Agent' || n['@type'].indexOf('http://id.loc.gov/ontologies/bibframe/Agent') > -1 )){\n              if (n['bflc:name00MatchKey']){\n                results.contributor.push(n['bflc:name00MatchKey']);\n              }\n            }\n            if (n['bibframe:creationDate'] && n['bibframe:creationDate']['@value']){\n              results.date = n['bibframe:creationDate']['@value'];\n            }       \n            if (n['@type'] && n['@type'] == 'http://id.loc.gov/ontologies/bibframe/GenreForm'){\n              if (n['bibframe:mainTitle']){\n                results.genreForm = n['rdf-schema:label'];\n              }\n            }\n          });    \n          return results;\n        },\n\n    rdfType: function(type){\n      var rdftype = null;\n\n      if (type == 'http://www.loc.gov/mads/rdf/v1#PersonalName' || type == 'http://id.loc.gov/ontologies/bibframe/Person') {\n        rdftype = 'PersonalName';\n      } else if (type == 'http://id.loc.gov/ontologies/bibframe/Topic' || type == 'http://www.loc.gov/mads/rdf/v1#Topic') {\n        rdftype = 'Topic';\n      } else if (type == 'http://www.loc.gov/mads/rdf/v1#Place' || type == 'http://id.loc.gov/ontologies/bibframe/Place' || type == 'http://www.loc.gov/mads/rdf/v1#Geographic') {\n        rdftype = 'Geographic';\n      } else if (type == 'http://www.loc.gov/mads/rdf/v1#Temporal'){\n        rdftype= 'Temporal'; \n      } else if (type == 'http://www.loc.gov/mads/rdf/v1#Organization' || type == 'http://www.loc.gov/mads/rdf/v1#CorporateName' || type == 'http://id.loc.gov/ontologies/bibframe/Organization') {\n        rdftype = 'CorporateName';\n      } else if (type == 'http://www.loc.gov/mads/rdf/v1#Family' || type == 'http://id.loc.gov/ontologies/bibframe/Family') {\n        rdftype = \"FamilyName\";\n      } else if (type == 'http://www.loc.gov/mads/rdf/v1#Meeting' || type == 'http://id.loc.gov/ontologies/bibframe/Meeting') {\n        rdftype = 'ConferenceName';\n      } else if (type == 'http://www.loc.gov/mads/rdf/v1#Jurisdiction' || type == 'http://id.loc.gov/ontologies/bibframe/Jurisdiction') {\n        rdftype = 'Geographic';\n      } else if (type == 'http://id.loc.gov/ontologies/bibframe/GenreForm' || type == 'http://www.loc.gov/mads/rdf/v1#GenreForm') {\n        rdftype = 'GenreForm';\n      } else if (type == 'http://id.loc.gov/ontologies/bibframe/Role') {\n        rdftype = 'Role';\n      }else if (type == 'http://id.loc.gov/ontologies/madsrdf/v1.html#ComplexSubject') {\n        rdftype = 'ComplexSubject';\n      }else if (type == 'http://www.loc.gov/mads/rdf/v1#NameTitle') {\n        rdftype = 'NameTitle';\n      }else if (type == 'http://www.loc.gov/mads/rdf/v1#Title') {\n        rdftype = 'Title';\n      }else if (type == 'http://www.loc.gov/mads/rdf/v1#ComplexSubject') {\n        rdftype = 'ComplexSubject';\n      }\n\n      \n\n\n\n\n      return rdftype;\n    },\n\n\n    \n\n\n    fetchIdWorkSearch: async function(searchValue){\n\n        // console.log(`https://id.loc.gov/search/?q=${searchValue}&q=cs%3Ahttp%3A%2F%2Fid.loc.gov%2Fresources%2Fworks`)\n\n        let r = await this.fetchSimpleLookup(`https://id.loc.gov/search/?q=${searchValue}&q=cs%3Ahttp%3A%2F%2Fid.loc.gov%2Fresources%2Fworks&format=json`, true)\n\n        let results = []\n        for (let e of r){\n          if (Array.isArray(e) && e[0] === 'atom:entry'){\n            let id = null\n            let label = null\n            for (let ee of e){\n              if (Array.isArray(ee) && ee[0] === 'atom:title'){ label=ee[2]}\n              if (Array.isArray(ee) && ee[0] === 'atom:id'){ id=ee[2].replace('info:lc','https://id.loc.gov')}\n            }\n            results.push({id:id,label:label})\n          }\n        }\n\n\n\n        return results\n\n    },\n\n\n\n\n    fetchIdXML: async function(url){\n\n        if (url.endsWith('.rdf')===false){\n          url = url + '.rdf'\n        }\n        let r = await this.fetchSimpleLookup(url)\n        return r\n    },\n\n\n    fetchOntology: async function(url){\n\n        // we are going to look into the local storage to see if we have a cache version of this URI from\n        // less than 24 hours ago\n\n        let currentTS = Math.floor(Date.now() / 1000)\n\n        if (window.localStorage && window.localStorage.getItem('ontology_'+url+'.rdf')){\n          let response = JSON.parse(window.localStorage.getItem('ontology_'+url+'.rdf'))\n          if (currentTS - response.ts < 86400){\n\n            // we have a fresh catch less than 1 day old, use that instead of asking the srver\n            return response.response\n\n          }\n        }\n\n        if (url.endsWith('.rdf')===false){\n          url = url + '.rdf'\n        }\n        let r = await this.fetchSimpleLookup(url)\n\n\n        // if we got here set that localstorage for next time\n        if (window.localStorage){\n          let toset = {response: r, ts: currentTS}\n          window.localStorage.setItem('ontology_'+url, JSON.stringify(toset))\n        }\n\n\n\n        return r\n    },\n\n    fetchAllOntology: async function(profiles){\n\n      let allData = {}\n\n      for (let key of Object.keys(profiles.lookup)){\n\n        if (profiles.lookup[key].resourceURI.includes('id.loc.gov/ontologies/')){\n          // console.log(profiles.lookup[key])\n          let r = await this.fetchOntology(profiles.lookup[key].resourceURI) \n          allData[profiles.lookup[key].resourceURI] = r\n        }\n\n        for (let pt of profiles.lookup[key].propertyTemplates){\n          if (pt.propertyURI.includes('id.loc.gov/ontologies/')){\n            // console.log(pt.propertyURI)\n            let r = await this.fetchOntology(pt.propertyURI) \n            allData[pt.propertyURI] = r\n          }\n        }\n\n\n      }\n\n      return allData\n\n    }\n\n}\n\n\n\nexport default lookupUtil;\n\n\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLiteralComponent.vue?vue&type=style&index=0&id=19334486&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLiteralComponent.vue?vue&type=style&index=0&id=19334486&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=78259126&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=78259126&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsComponent.vue?vue&type=style&index=0&id=0a1e1970&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSettingsComponent.vue?vue&type=style&index=0&id=0a1e1970&scoped=true&lang=css&\"","import config from \"./config\"\n\n\nconst parseProfile = {\n\n    profileSource: {},\n    rtLookup: {},\n    profiles: {},\n    startingPoints: {},\n\n    // fetches the profile data from supplied URL or from the config URL if empty\n    fetchProfiles: async function(url) {\n      url = url || config.profileUrl\n      try{\n        let response = await fetch(url);\n        let data =  await response.json()\n        return  data;\n\n      }catch(err){\n        console.error(err);\n\n        // Handle errors here\n      }\n    },\n\n    // builds the lookup structure for the profiles\n    buildProfiles: async function(){\n\n        // save the profile data, wait for the promise to resolve \n        this.profileSource = await this.fetchProfiles()\n\n\n        console.log(this.profileSource ,'this.profileSource ')\n\n        // TEMP HACK, striping RDA fields for some things for the new editor\n        for (let p of this.profileSource){\n            // console.log(\"p\",p.json.Profile)\n            if (p.json.Profile.id == 'lc:profile:bf2:Agents:Attributes'){\n\n                for (let rt of p.json.Profile.resourceTemplates){\n                    if (['lc:RT:bf2:Agent:Person','lc:RT:bf2:Agent:Family','lc:RT:bf2:Agent:CorporateBody','lc:RT:bf2:Agent:Conference','lc:RT:bf2:Agent:Jurisdiction'].indexOf(rt.id)>-1){\n                        rt.propertyTemplates = [rt.propertyTemplates[0]]\n                    }\n                }\n\n            }\n        }\n\n\n        this.profileSource.forEach((p)=>{\n\n            // build the first level profiles\n            if (p.json && p.json.Profile){\n                // for example monograph -> work\n                this.profiles[p.json.Profile.id] = {\n                    rtOrder: [],\n                    rt: {},\n                    id: p.json.Profile.id\n                }\n                // now make obj of all the properties in each top level\n                // for example monograph -> work -> title\n                if (p.json.Profile.resourceTemplates){\n                    p.json.Profile.resourceTemplates.forEach((rt)=>{\n                        this.profiles[p.json.Profile.id].rtOrder.push(rt.id)\n                        this.profiles[p.json.Profile.id].rt[rt.id] = {ptOrder:[],pt:{}}\n                        if (rt.propertyTemplates){\n                            rt.propertyTemplates.forEach((pt)=>{\n                                pt.parent = p.json.Profile.id + rt.id + p.id\n                                pt.userValue =  {}\n                                let key = pt.propertyURI + '|' + ((pt.propertyLabel) ? pt.propertyLabel : \"plabel\")\n                                this.profiles[p.json.Profile.id].rt[rt.id].ptOrder.push(key)\n                                this.profiles[p.json.Profile.id].rt[rt.id].pt[key] = pt\n                            })\n                        }\n                    })\n                }\n            }\n\n            // loop through each profile and extract the resource template, save them as their own look up for later use\n            if (p.json && p.json.Profile && p.json.Profile.resourceTemplates){\n                p.json.Profile.resourceTemplates.forEach((rt)=>{\n                    this.rtLookup[rt.id] = rt\n                })\n            }\n        })\n\n        // make a copy of the obj to cut refs to the orginal\n        // this.profiles = Object.assign({}, this.profiles)\n        this.profiles = JSON.parse(JSON.stringify(this.profiles))\n\n\n        // make a lookup for just the profiles rts\n        let plookup = {}\n        for (let p of Object.keys(this.profiles)){\n            this.profiles[p].rtOrder.forEach((rtname)=>{\n                plookup[rtname] = this.profiles[p].rt[rtname]\n            })\n        }\n\n        // we have starting points, generate those profiles based on their requirements\n        // this is just converting the format of the old BFE starting points format\n        config.startingPoint.json.forEach((sp)=>{\n\n            this.startingPoints[sp.menuGroup] = {name:sp.menuGroup, work: null, instance: null, item: null }\n            sp.menuItems.forEach((mi)=>{\n\n                if (mi.type.indexOf('http://id.loc.gov/ontologies/bibframe/Instance')){\n                    this.startingPoints[sp.menuGroup].instance = mi.useResourceTemplates[0]\n                }\n                if (mi.type.indexOf('http://id.loc.gov/ontologies/bibframe/Work')){\n                    this.startingPoints[sp.menuGroup].work = mi.useResourceTemplates[0]\n                }\n                if (mi.type.indexOf('http://id.loc.gov/ontologies/bibframe/Item')){\n                    this.startingPoints[sp.menuGroup].item = mi.useResourceTemplates[0]\n                }\n\n\n            })\n\n            // create a \"profile\" for this starting point in our profiles\n            this.profiles[sp.menuGroup] ={ id: sp.menuGroup, rt: {}, rtOrder : [] }\n            if (this.startingPoints[sp.menuGroup].instance){\n                this.profiles[sp.menuGroup].rt[this.startingPoints[sp.menuGroup].instance] = plookup[this.startingPoints[sp.menuGroup].instance]\n                this.profiles[sp.menuGroup].rtOrder.push(this.startingPoints[sp.menuGroup].instance)\n            }\n\n            if (this.startingPoints[sp.menuGroup].work){\n                this.profiles[sp.menuGroup].rt[this.startingPoints[sp.menuGroup].work] = plookup[this.startingPoints[sp.menuGroup].work]\n                this.profiles[sp.menuGroup].rtOrder.push(this.startingPoints[sp.menuGroup].work)\n            }\n\n        })\n\n\n        console.log(this.rtLookup)\n\n        return { profiles: this.profiles, lookup: this.rtLookup, startingPoints: this.startingPoints}\n    },\n\n\n    duplicateProperty: function(id,profile,activeProfile){\n\n        let propertyIndex = activeProfile.rt[profile].ptOrder.indexOf(id)\n        let newPropertyId = id + '|'+ (+ new Date())\n\n        // insert the new property id\n        activeProfile.rt[profile].ptOrder.splice(propertyIndex+1, 0, newPropertyId);\n\n        // activeProfile.rt[profile].pt[newPropertyId] = Object.assign({},activeProfile.rt[profile].pt[id])\n        activeProfile.rt[profile].pt[newPropertyId] = JSON.parse(JSON.stringify(activeProfile.rt[profile].pt[id]))\n\n        activeProfile.rt[profile].pt[newPropertyId].userValue = {}\n\n        // just does a little yellow flash animation\n        setTimeout(()=>{\n            document.getElementById(profile+'|'+newPropertyId).style.backgroundColor=\"yellow\"    \n            document.getElementById(profile+'|'+newPropertyId).scrollIntoView({ behavior: 'smooth', block: 'center' })\n            setTimeout(()=>{\n                document.getElementById(profile+'|'+newPropertyId).style.removeProperty('background-color');       \n            },500)                    \n        },0)\n\n        return(activeProfile)\n\n    },\n\n    removeProperty: function(id,profile,activeProfile){\n        let propertyIndex = activeProfile.rt[profile].ptOrder.indexOf(id)\n        activeProfile.rt[profile].ptOrder.splice(propertyIndex,1)\n        delete activeProfile.rt[profile].pt[id]        \n        return(activeProfile)\n\n    },\n\n\n    setValue: function(currentState, component, key, activeProfileName, template, value){\n\n        // loop through the profiles\n        // Object.keys(currentState.rt).forEach((rt)=>{\n            // console.log(activeProfileName,\"!!!!\")\n            // console.log(template,'templatetemplatetemplatetemplatetemplatetemplate')\n            // check if this profile has the pt we are looking for\n            if (currentState.rt[activeProfileName].pt[component]){\n\n                // is this a lookup entitiy or a literal / simple value\n                if (value.contextValue){\n\n                    // is it a nested lookup entitiy or a standa alone component\n                    if (template && !template.nested){\n                        currentState.rt[activeProfileName].pt[component].userValue[key] = {literal: value.title,URI:value.uri, '@type': value.type, context: value}\n                        currentState.rt[activeProfileName].pt[component].userValue['@type'] = template.resourceURI\n                    }else if (template && template.nested){\n                        currentState.rt[activeProfileName].pt[component].userValue[key] = {literal: value.title,URI:value.uri, '@type': value.type, context: value}\n                        currentState.rt[activeProfileName].pt[component].userValue['@type'] = template.resourceURI\n                        // console.log('valuevaluevaluevaluevaluevalue',value)      \n                        // currentState.rt[activeProfileName].pt[component].userValue['@type'] = template.resourceURI\n                        // currentState.rt[activeProfileName].pt[component].userValue[currentState.rt[activeProfileName].pt[component].propertyURI] = {literal: value.title,URI:value.uri, '@type': value.type}\n                        // currentState.rt[activeProfileName].pt[component].userValue.context = value\n                    }\n                }else{\n\n\n                    // are we clearing the state\n                    if (typeof value === 'object' && Object.keys(value).length==0){\n                        if (currentState.rt[activeProfileName].pt[component].userValue[key]) delete currentState.rt[activeProfileName].pt[component].userValue[key]                        \n                        if (currentState.rt[activeProfileName].pt[component].userValue['literal']) delete currentState.rt[activeProfileName].pt[component].userValue['literal'] \n                        if (currentState.rt[activeProfileName].pt[component].userValue['@type']) delete currentState.rt[activeProfileName].pt[component].userValue['@type'] \n                        if (currentState.rt[activeProfileName].pt[component].userValue['uri']) delete currentState.rt[activeProfileName].pt[component].userValue['uri'] \n\n                    }else{\n                        currentState.rt[activeProfileName].pt[component].userValue[key] = value\n                        currentState.rt[activeProfileName].pt[component].userValue['@type'] = template.resourceURI\n\n                    }\n\n\n                }\n                \n                \n\n                // console.log(currentState.rt[activeProfileName].pt[component])\n                // console.log(currentState.rt[activeProfileName].pt)\n                // console.log(value, Object.keys(value))\n                // console.log(currentState,'currentState')\n                // console.log(component,'component')\n                // console.log(currentState.rt[activeProfileName].pt[component].userValue[key])\n                // console.log(key,'key')\n                // console.log(currentState.rt[activeProfileName].pt[component].userValue)\n                // console.log(activeProfileName,'activeProfileName')\n                // console.log(\"^^^^^^^^^^^^^^^^\")\n            }\n\n        // })\n\n        return currentState\n    },\n\n\n    returnUserValues: function(currentState, component, propertyURI){\n        let results = false\n        // console.log(currentState,component)\n        Object.keys(currentState.rt).forEach((rt)=>{\n            // check if this profile has the pt we are looking for\n            if (currentState.rt[rt].pt[component]){\n                results = currentState.rt[rt].pt[component].userValue\n\n                // do some modifications to fit the user data in to the format a complex lookup components will expect\n                // console.log(\"zzzzzzzzzz\")\n                // console.log(propertyURI)\n                // console.log(results)\n                // console.log(\"zzzzzzzzzz\")\n                if (results.literal){\n                    results[propertyURI] = {literal: results.literal, URI: results.URI, '@type':results['@type']}\n                }\n\n            }\n        })\n        return results\n    }\n\n}\n\n\n\nexport default parseProfile;\n\n\n"],"sourceRoot":""}